window.PowerSchoolDesignSystemToolkitModule=function(i){var n={};function r(t){if(n[t])return n[t].exports;var e=n[t]={i:t,l:!1,exports:{}};return i[t].call(e.exports,e,e.exports,r),e.l=!0,e.exports}return r.m=i,r.c=n,r.d=function(t,e,i){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},r.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(r.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)r.d(i,n,function(t){return e[t]}.bind(null,n));return i},r.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="",r(r.s=150)}([function(t,e,i){"use strict";i.d(e,"a",function(){return r});var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)};function r(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}},function(t,e,i){"use strict";i.d(e,"a",function(){return l});var r=i(0),a=i(36),u=i(64),e=i(7),s=i(46),n=i(22),o=i(45),l=function(o){function n(t,e,i){var n,r=o.call(this)||this;switch(r.syncErrorValue=null,r.syncErrorThrown=!1,r.syncErrorThrowable=!1,r.isStopped=!1,arguments.length){case 0:r.destination=u.a;break;case 1:if(!t){r.destination=u.a;break}if("object"==typeof t){(n=t)instanceof l||"syncErrorThrowable"in n&&n[s.a]?(n=t[s.a](),r.syncErrorThrowable=n.syncErrorThrowable,(r.destination=n).add(r)):(r.syncErrorThrowable=!0,r.destination=new c(r,t));break}default:r.syncErrorThrowable=!0,r.destination=new c(r,t,e,i)}return r}return r.a(n,o),n.prototype[s.a]=function(){return this},n.create=function(t,e,i){i=new n(t,e,i);return i.syncErrorThrowable=!1,i},n.prototype.next=function(t){this.isStopped||this._next(t)},n.prototype.error=function(t){this.isStopped||(this.isStopped=!0,this._error(t))},n.prototype.complete=function(){this.isStopped||(this.isStopped=!0,this._complete())},n.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,o.prototype.unsubscribe.call(this))},n.prototype._next=function(t){this.destination.next(t)},n.prototype._error=function(t){this.destination.error(t),this.unsubscribe()},n.prototype._complete=function(){this.destination.complete(),this.unsubscribe()},n.prototype._unsubscribeAndRecycle=function(){var t=this._parent,e=this._parents;return this._parent=null,this._parents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parent=t,this._parents=e,this},n}(e.a),c=function(s){function t(t,e,i,n){var r,o=s.call(this)||this;o._parentSubscriber=t;t=o;return Object(a.a)(e)?r=e:e&&(r=e.next,i=e.error,n=e.complete,e!==u.a&&(t=Object.create(e),Object(a.a)(t.unsubscribe)&&o.add(t.unsubscribe.bind(t)),t.unsubscribe=o.unsubscribe.bind(o))),o._context=t,o._next=r,o._error=i,o._complete=n,o}return r.a(t,s),t.prototype.next=function(t){var e;!this.isStopped&&this._next&&(e=this._parentSubscriber,n.a.useDeprecatedSynchronousErrorHandling&&e.syncErrorThrowable?this.__tryOrSetError(e,this._next,t)&&this.unsubscribe():this.__tryOrUnsub(this._next,t))},t.prototype.error=function(t){if(!this.isStopped){var e=this._parentSubscriber,i=n.a.useDeprecatedSynchronousErrorHandling;if(this._error)i&&e.syncErrorThrowable?this.__tryOrSetError(e,this._error,t):this.__tryOrUnsub(this._error,t),this.unsubscribe();else if(e.syncErrorThrowable)i?(e.syncErrorValue=t,e.syncErrorThrown=!0):Object(o.a)(t),this.unsubscribe();else{if(this.unsubscribe(),i)throw t;Object(o.a)(t)}}},t.prototype.complete=function(){var t,e,i=this;this.isStopped||(t=this._parentSubscriber,this._complete&&(e=function(){return i._complete.call(i._context)},n.a.useDeprecatedSynchronousErrorHandling&&t.syncErrorThrowable?this.__tryOrSetError(t,e):this.__tryOrUnsub(e)),this.unsubscribe())},t.prototype.__tryOrUnsub=function(t,e){try{t.call(this._context,e)}catch(t){if(this.unsubscribe(),n.a.useDeprecatedSynchronousErrorHandling)throw t;Object(o.a)(t)}},t.prototype.__tryOrSetError=function(e,t,i){if(!n.a.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{t.call(this._context,i)}catch(t){return n.a.useDeprecatedSynchronousErrorHandling?(e.syncErrorValue=t,e.syncErrorThrown=!0):(Object(o.a)(t),!0)}return!1},t.prototype._unsubscribe=function(){var t=this._parentSubscriber;this._context=null,this._parentSubscriber=null,t.unsubscribe()},t}(l)},function(t,e,i){"use strict";var r=i(1),o=i(46),s=i(64);var n=i(29),a=i(52),u=i(22);i.d(e,"a",function(){return l});var l=function(){function i(t){this._isScalar=!1,t&&(this._subscribe=t)}return i.prototype.lift=function(t){var e=new i;return e.source=this,e.operator=t,e},i.prototype.subscribe=function(t,e,i){var n=this.operator,i=function(t,e,i){if(t){if(t instanceof r.a)return t;if(t[o.a])return t[o.a]()}return t||e||i?new r.a(t,e,i):new r.a(s.a)}(t,e,i);if(n?n.call(i,this.source):i.add(this.source||u.a.useDeprecatedSynchronousErrorHandling&&!i.syncErrorThrowable?this._subscribe(i):this._trySubscribe(i)),u.a.useDeprecatedSynchronousErrorHandling&&i.syncErrorThrowable&&(i.syncErrorThrowable=!1,i.syncErrorThrown))throw i.syncErrorValue;return i},i.prototype._trySubscribe=function(e){try{return this._subscribe(e)}catch(t){u.a.useDeprecatedSynchronousErrorHandling&&(e.syncErrorThrown=!0,e.syncErrorValue=t),e.error(t)}},i.prototype.forEach=function(n,t){var r=this;return new(t=c(t))(function(t,e){var i=r.subscribe(function(t){try{n(t)}catch(t){e(t),i&&i.unsubscribe()}},e,t)})},i.prototype._subscribe=function(t){var e=this.source;return e&&e.subscribe(t)},i.prototype[n.a]=function(){return this},i.prototype.pipe=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return 0===t.length?this:Object(a.b)(t)(this)},i.prototype.toPromise=function(t){var n=this;return new(t=c(t))(function(t,e){var i;n.subscribe(function(t){return i=t},function(t){return e(t)},function(){return t(i)})})},i.create=function(t){return new i(t)},i}();function c(t){if(!(t=t||(u.a.Promise||Promise)))throw new Error("no Promise impl found");return t}},function(t,e,i){"use strict";var n=i(0),r=function(r){function t(t,e,i){var n=r.call(this)||this;return n.parent=t,n.outerValue=e,n.outerIndex=i,n.index=0,n}return n.a(t,r),t.prototype._next=function(t){this.parent.notifyNext(this.outerValue,t,this.outerIndex,this.index++,this)},t.prototype._error=function(t){this.parent.notifyError(t,this),this.unsubscribe()},t.prototype._complete=function(){this.parent.notifyComplete(this),this.unsubscribe()},t}(i(1).a),o=i(92);function s(t,e,i,n){n=new r(t,i,n);return Object(o.a)(e)(n)}i.d(e,"a",function(){return s})},function(t,e,i){"use strict";i.d(e,"a",function(){return r});var n=i(0),r=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n.a(e,t),e.prototype.notifyNext=function(t,e,i,n,r){this.destination.next(e)},e.prototype.notifyError=function(t,e){this.destination.error(t)},e.prototype.notifyComplete=function(t){this.destination.complete()},e}(i(1).a)},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=i(6),n=i(9),r=i(177),i=(o.prototype.asElement=function(){return this},o.prototype.polymerDom=function(t){return void 0===t&&(t=this.asElement()),window.Polymer.dom(t)},o.prototype.flushPolymer=function(){window.Polymer.dom.flush()},o.prototype.messageKeysUpdated=function(){var t=this;setTimeout(function(){t.redrawTrigger=!t.redrawTrigger})},o.prototype.ready=function(){this.redrawTrigger=!0},o.prototype.attached=function(){this.classList.add("pds-widget"),this.setAttribute("pds-widget","pds-widget")},o.prototype.detached=function(){if(null!=this.observeredPaths){for(var t=0,e=Object.keys(this.observeredPaths);t<e.length;t++){var i=e[t];this.observeredPaths[i].disable()}this.observeredPaths={}}},o.prototype.querySelector=function(t){console.error("this should never have been called")},o.prototype.querySelectorAll=function(t){console.error("this should never have been called")},o.prototype.dispatchEvent=function(t){console.error("this should never have been called")},o.prototype.hasAttribute=function(t){return console.error("this should never have been called"),!1},o.prototype.setAttribute=function(t,e){console.error("this should never have been called")},o.prototype.appendChild=function(t){return console.error("this should never have been called"),t},o.prototype.verifyNamePresent=function(){null==this.name&&console.error(this.is+" component is missing the name attribute.")},o.prototype.logicalAnd=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return!0===t.reduce(function(t,e){return t&&e})},o.prototype.updateStyles=function(t,e){this.setAttribute("style",t+": "+e)},o.prototype.conditionalClass=function(t,e,i,n){if(null==i){if(e)return t}else if("!"===i.trim()){if(!e)return t}else if(this.compare(e,i,n))return t},o.prototype.conditionalAttribute=function(t,e,i,n){return this.conditionalClass(t,e,i,n)},o.prototype.compare=function(t,e,i){switch(e.trim()){case"is-blank":return null==t||0===t.length;case"has-letters":return null!=t&&/[^\s]/.test(t);case"== null":case"==null":return null==t;case"!= null":case"!=null":return null!=t;case"=== false":case"===false":return!1===t;case"=== true":case"===true":return!0===t;case"==":return t==i;case"!=":return t!=i;case"===":return t===i;case"!==":return t!==i;case"<":return t<i;case"<=":return t<=i;case">":return i<t;case">=":return i<=t;case"!":return!t;default:throw"operator not found"}},o.prototype.isDefined=function(t,e){return null!=(e=null==e?this:e)[t]},o.prototype.translate=function(t,e){for(var i=[],n=2;n<arguments.length;n++)i[n-2]=arguments[n];var r={};if(null!=i&&0<i.length)for(var o=0;o<i.length;o++)r["arg"+o]=i[o];return s.pdsI18n.getText(e,r)},o.prototype.redraw=function(t){var e=this[t];this[t]=null,this[t]=e},o.prototype.redrawArray=function(t,e,i){for(var n=this,r=0,o=t.split(".");r<o.length;r++)n=n[o[r]];if(n instanceof Array){var s=n;s.length;if(null!=e){null==i&&(i=Object.keys(e));var a=s.indexOf(e);if(!(a<0)){this.notifyPath(t+"."+a);for(var u=0,l=i;u<l.length;u++){var c=l[u];this.notifyPath(t+"."+a+"."+c)}}}else if(0<s.length){null==i&&(i=Object.keys(s[0]));for(var d=0;d<s.length;d++){this.notifyPath(t+"."+d);for(var p=0,h=i;p<h.length;p++){c=h[p];this.notifyPath(t+"."+d+"."+c)}}}}},o.prototype.extractProperty=function(t,e,i){e=this.extractElement(t,e);if(null!=e&&null!=i)return e[i]},o.prototype.extractAttribute=function(t,e,i){e=this.extractElement(t,e);if(null!=e&&null!=i)return e.getAttribute(i)},o.prototype.setPrivatePolymerPropertyValue=function(t,e){var i="_set"+t.charAt(0).toUpperCase()+t.slice(1);"function"==typeof this[i]?this[i](e):this[t]=e},o.prototype.watch=function(t,e){null==this.observeredPaths&&(this.observeredPaths={}),null!=this.observeredPaths[t]&&(this.observeredPaths[t].disable(),delete this.observeredPaths[t]);e=new r.PropertyObserver(this,t,e);return e.enable(),this.observeredPaths[t]=e},o.prototype.cancelSubscriptions=function(){for(var t=0,e=this.subscriptions;t<e.length;t++)e[t].unsubscribe();this.subscriptions.length=0},o.prototype.extractElement=function(t,e){if(null!=t.target&&null!=e){var i=t.target;if(n.pdsUtils.is(t.target,e)||null!=(i=n.pdsUtils.getClosest(t.target,e)))return i}},o);function o(){this.escKey=27,this.tabKey=9,this.subscriptions=[]}e.PdsWidget=i},function(t,e,i){"use strict";var n,r=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var o,s=i(37),a=i(43),i=i(9),r=(o=s.I18nUtil,r(u,o),u.prototype.setLocale=function(t){this.locale=t;for(var e=document.querySelectorAll(".pds-widget"),i=0;i<e.length;i++){var n=e[i];"function"==typeof n.messageKeysUpdated&&n.messageKeysUpdated()}},u.prototype.getNewMessageKeys=function(){for(var t="",e=0,i=Object.keys(this.newMessageKeys);e<i.length;e++){var n=i[e];t+='"'+n+'": "'+this.newMessageKeys[n]+'",\n'}return t},u.prototype.stripContextFromKey=function(t){var e=o.prototype.stripContextFromKey.call(this,t);return null!=e&&a.pdsLocalStorage.getPersistedBoolean("dev-mode")&&(this.newMessageKeys[t]=e),e},u.prototype.updateCKEditorMessageKeys=function(t,e){void 0===e&&(e="");for(var i=0,n=Object.keys(t);i<n.length;i++){var r,o,s=n[i],a=t[s];"string"==typeof a?(r=a,o=e+"."+s,this.ckEditorEnglishMessages.hasOwnProperty(o)||(this.ckEditorEnglishMessages[o]=r),o="pds|ckeditor|"+this.ckEditorEnglishMessages[o],t[s]=this.getText(o)):this.updateCKEditorMessageKeys(a,e+"."+s)}},u);function u(){var t=null!==o&&o.apply(this,arguments)||this;return t.pds=void 0,t.newMessageKeys={},t.ckEditorEnglishMessages={},t}e.pdsI18n=i.pdsUtils.createFlattenedClassInstance(r),e.pdsI18n.messageKeys["pds|popover|Navigating From Single Element"]="Alert: navigating away from this entry will close the popup menu",e.pdsI18n.messageKeys["pds|popover|Forwards From Last Element"]="Alert: navigating past the last entry will close the popup menu",e.pdsI18n.messageKeys["pds|popover|Backwards From First Element"]="Alert: navigating backwards past the first entry will close the popup menu",e.pdsI18n.messageKeys["pds|copyright clause|Copyright Clause"]="Â© 2010-2018 PowerSchool Group LLC and/or its affiliate(s). All rights reserved. All trademarks are either owned or licensed by PowerSchool Group LLC and/or its affiliates.",e.pdsI18n.messageKeys["pds|close-message"]="Close {{arg0}} Navigation",e.pdsI18n.messageKeys["pds|class picker|xx Classes"]="{{arg0}} Classes",e.pdsI18n.messageKeys["pds|circular progress|xx% Complete"]="{{percent}}% Complete",e.pdsI18n.messageKeys["pds|circular progress|xx of xx"]="{{value}} of {{max}}",e.pdsI18n.messageKeys["pds|class picker|xx - xx Classes"]="{{arg0}} - {{arg1}} Classes",e.pdsI18n.messageKeys["pds|grid widget|Select xx"]="Select {{selectCriteria}}",e.pdsI18n.messageKeys["pds|grid widget|Remove Filter xx yy"]="Remove Filter {{filterName}} {{filterValue}}",e.pdsI18n.messageKeys["pds|grid widget|xx Results"]="{{number}} Results",e.pdsI18n.messageKeys["pds|notifications|Messages regarding xx"]="Messages regarding {{name}}",e.pdsI18n.messageKeys["pds|search|student dropped xx classes"]="student dropped {{arg0}} classes",e.pdsI18n.messageKeys["pds|search|xx photo"]="{{arg0}}'s photo",e.pdsI18n.messageKeys["global|Select Previous xx"]="Select Previous {{item}}",e.pdsI18n.messageKeys["global|Select Next xx"]="Select Next {{item}}",e.pdsI18n.messageKeys["pds|global create menu widget|Navigate to xx xx"]="Navigate to {{arg0}} {{arg1}}",e.pdsI18n.messageKeys["pds|global create menu widget|Set xx xx to default action"]="Set {{arg0}} {{arg1}} as default action",e.pdsI18n.messageKeys["cu|multi-select|Remove Selection Status xx"]="Remove Selection Status {{selectionStatus}}",e.pdsI18n.messageKeys["pds|logout|Sign out of all xx Authenticated applications"]="Sign out of all {{authenticationType}} Authenticated applications",e.pdsI18n.messageKeys["global|day-abbr|Tues"]="Tue",e.pdsI18n.locale.DATETIME_FORMATS.SHORTDAY[2]="Tue",e.pdsI18n.messageKeys["global|day-abbr|Thurs"]="Thu",e.pdsI18n.locale.DATETIME_FORMATS.SHORTDAY[4]="Thu"},function(t,e,i){"use strict";i.d(e,"a",function(){return n});var l=i(14),c=i(89),d=i(36),p=i(18),h=i(8),f=i(53),n=function(){function n(t){this.closed=!1,this._parent=null,this._parents=null,this._subscriptions=null,t&&(this._unsubscribe=t)}var t;return n.prototype.unsubscribe=function(){var t=!1;if(!this.closed){var e=this._parent,i=this._parents,n=this._unsubscribe,r=this._subscriptions;this.closed=!0,this._parent=null,this._parents=null,this._subscriptions=null;for(var o=-1,s=i?i.length:0;e;)e.remove(this),e=++o<s&&i[o]||null;if(Object(d.a)(n)&&Object(p.a)(n).call(this)===h.a&&(t=!0,a=a||(h.a.e instanceof f.a?g(h.a.e.errors):[h.a.e])),Object(l.a)(r))for(o=-1,s=r.length;++o<s;){var a,u=r[o];Object(c.a)(u)&&Object(p.a)(u.unsubscribe).call(u)===h.a&&(t=!0,a=a||[],(u=h.a.e)instanceof f.a?a=a.concat(g(u.errors)):a.push(u))}if(t)throw new f.a(a)}},n.prototype.add=function(t){if(!t||t===n.EMPTY)return n.EMPTY;if(t===this)return this;var e,i=t;switch(typeof t){case"function":i=new n(t);case"object":if(i.closed||"function"!=typeof i.unsubscribe)return i;if(this.closed)return i.unsubscribe(),i;"function"!=typeof i._addParent&&(e=i,(i=new n)._subscriptions=[e]);break;default:throw new Error("unrecognized teardown "+t+" added to Subscription.")}return(this._subscriptions||(this._subscriptions=[])).push(i),i._addParent(this),i},n.prototype.remove=function(t){var e=this._subscriptions;!e||-1!==(t=e.indexOf(t))&&e.splice(t,1)},n.prototype._addParent=function(t){var e=this._parent,i=this._parents;e&&e!==t?i?-1===i.indexOf(t)&&i.push(t):this._parents=[t]:this._parent=t},n.EMPTY=((t=new n).closed=!0,t),n}();function g(t){return t.reduce(function(t,e){return t.concat(e instanceof f.a?e.errors:e)},[])}},function(t,e,i){"use strict";i.d(e,"a",function(){return n});var n={e:{}}},function(t,a,e){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var i=e(98),n=e(37),r=e(43),o=e(15),s=e(6);var u=document.createElement("div");u.setAttribute("id","divToStripHTML_NotMeantForDOM");var l=new o.Subject,c=0;function h(t){if(t){switch(t.status){case"START":c++;break;case"SUCCESS":case"ERROR":case"COMPLETE":default:0<c&&c--}l.next(t)}}a.pdsUtils={window:window,pds:void 0,ESCAPE_USER_INPUT_REGEX:/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,ESCAPE_EXCLUDE_CHARS_REGEX:n.StringUtil.ESCAPE_EXCLUDE_CHARS_REGEX,TIME_STRING_AM_PM_SPACING_REGEX:/(\d)(pm|am)/i,sanitizeHtmlString:i.sanitizeHtmlString,TAB_ELEMENTS:["input","select","a[href]","textarea","button","[tabindex]"].map(function(t){return t+":not([disabled])"}),markedElements:[],stripHtml:function(t){return null==t?"":(u.innerHTML=t,u.textContent||u.innerText)},escapeUserInput:function(t){return null==t?t:t.replace(this.ESCAPE_USER_INPUT_REGEX,"\\$&")},getPersistedBoolean:function(t,e){return void 0===e&&(e=!1),r.pdsLocalStorage.getPersistedBoolean(t,e)},copyTextToClipboard:function(t,e){var i,n,r=document.createElement("textarea");r.setAttribute("id","textToCopy"),r.style.display="hidden",r.value=t,document.body.appendChild(r),r.contentEditable=!0,r.readOnly=!1,navigator.userAgent.match(/ipad|ipod|iphone/i)?((i=document.createRange()).selectNodeContents(r),(n=window.getSelection()).removeAllRanges(),n.addRange(i),r.setSelectionRange(0,t.length)):r.select();try{document.execCommand("copy")}catch(t){console.error("Unable to copy")}document.body.removeChild(r);e=document.getElementById(e);null!=e&&e.focus()},markFocusableElement:function(t){null!=t&&"function"==typeof t.focus&&this.markedElements.push(t)},getListOfMarkedElements:function(){return this.markedElements},getLastMarkedElement:function(){if(0<this.markedElements.length)return this.markedElements.pop()},peekLastMarkedElement:function(){return 0<this.markedElements.length?this.markedElements[this.markedElements.length-1]:void 0},findLastNode:function(t){t=t.querySelectorAll(":last-child");return t[t.length-1]},findFirstNode:function(t){return t.childElementCount<1?t:this.findFirstNode(t.firstElementChild)},getAllTabbableElements:function(t){if(null!=t)return t.querySelectorAll(this.TAB_ELEMENTS)},getTabbableElementAtIndex:function(t,e){if(null!=t&&null!=e&&e<=t.length-1)return t[e]},getNextTabbableElement:function(t,e){if(null!=t&&null!=e){e=t.indexOf(e);if(-1!==e&&e<t.length-1)return t[e+1]}},fireMessageEvent:function(t,e,i,n){var r;null!=t&&null!=e&&0!==e.length&&null!=i&&(null==n&&(n=3e3),(r=new Event("pdsMessageEvent",{bubbles:!0})).detail={message:e,type:i,timeout:n},t.dispatchEvent(r))},isMobile:function(){return null!=this.window.orientation},isValidEmail:function(t){return n.EmailUtil.validateEmail(t)},dateToTime:function(t){if(null!=t&&"function"==typeof t.getTime)return t.getTime()},getClosest:function(t,e){if(null!=t&&"function"==typeof t.matches&&null!=e)for(;null!=t;){try{if(t.matches(e))return t}catch(t){return}t=t.parentElement}},prepend:function(t,e){this.insertBefore(t,e.firstChild)},append:function(t,e){e.appendChild(t)},insertBefore:function(t,e){null!=e.parentNode&&e.parentNode.insertBefore(t,e)},insertAfter:function(t,e){null!=e.parentNode&&e.parentNode.insertBefore(t,e.nextSibling)},is:function(t,e){if(null!=t&&"function"==typeof t.matches&&null!=e)try{return t.matches(e)}catch(t){return}},addClass:function(t,e){null!=t&&null!=e&&0!==e.trim().length&&t.classList.add(e)},containsClass:function(t,e){return null!=t&&null!=e&&(0!==e.trim().length&&t.classList.contains(e))},removeClass:function(t,e){null!=t&&null!=e&&0!==e.trim().length&&t.classList.remove(e)},toggleClass:function(t,e,i){return null!=t&&null!=e&&0!==e.trim().length&&(null==i?t.classList.toggle(e):(i?t.classList.add(e):t.classList.remove(e),i))},remove:function(t){null!=t&&null!=t.parentNode&&t.parentNode.removeChild(t)},flatten:function(t){var e=this,i=[];return null!=t&&t instanceof Array&&t.forEach(function(t){t instanceof Array?e.flatten(t).forEach(function(t){i.push(t)}):i.push(t)}),i},generateDays:function(s,a,t){if(void 0===t&&(t=!1),"number"!=typeof s||"number"!=typeof a)return[];function e(t,e,i){var n,r;e&&(n=i?new Date(s,a,-1*t+1):new Date(s,a+1,1));for(var o=0;o<t;o++)r=u.length%7,e&&null!=n?(u.push({dayNum:n.getDate(),dateTimeNum:n.getTime(),isWeekend:0==r||6==r,isFilled:!0,dashCaseDate:n.getFullYear()+"-"+("0"+(n.getMonth()+1)).slice(-2)+"-"+("0"+n.getDate()).slice(-2)}),n.setDate(n.getDate()+1)):u.push({isWeekend:0==r||6==r,isFilled:!0})}var i,u=[],n=new Date(s,a,1);for(e(n.getDay(),t,!0);i=u.length%7,u.push({dayNum:n.getDate(),dateTimeNum:n.getTime(),isWeekend:0==i||6==i,dashCaseDate:n.getFullYear()+"-"+("0"+(n.getMonth()+1)).slice(-2)+"-"+("0"+n.getDate()).slice(-2),isFilled:!1}),n.setDate(n.getDate()+1),n.getMonth()===a;);return 0<u.length%7&&e(7-u.length%7,t,!1),u},getCalendarDateRange:function(t,e){if(null!=t&&null!=e){var i=new Date(t,e,1),t=new Date(t,e+1,0),e=i.getDay();return 0<e&&i.setDate(-1*(e-1)),(e=t.getDay())<6&&t.setDate(t.getDate()+6-e),{startDate:i,endDate:t}}},getCalendarMonthRange:function(t,e){for(var i=new Date(t,e-10,1),n=[],r=0;r<21;r++)n.push({title:s.pdsI18n.locale.DATETIME_FORMATS.MONTH[i.getMonth()]+" "+i.getFullYear(),id:i.getFullYear()+"-"+i.getMonth(),context:{year:i.getFullYear(),month:i.getMonth()}}),i.setMonth(i.getMonth()+1);return n},getpageYOffsetLimit:function(){return Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)-this.window.innerHeight},getUniqueId:function(t){var e=1,i=t+"_"+e;if(null==document.getElementById(t))return t;for(;null!=document.getElementById(i);)i=t+"_"+(e+=1);return i},sort:function(t,i){null!=t&&0!==t.length&&t.sort(function(t,e){t=i(t),e=i(e);return t<e?-1:e<t?1:0})},TOKEN_REGEX:/{[^}]+}/g,replaceTokensInString:function(t,e){if(null==t||null==e||""===t)return t;if("string"==typeof e){var i=t.match(this.TOKEN_REGEX);if(null==i)return t;if(!i.every(function(t){return t===i[0]}))throw"replaceTokensInString called with invalid parameters.";return t.replace(this.TOKEN_REGEX,e)}for(var n in e){var r;e.hasOwnProperty(n)&&(r=new RegExp("{"+n+"}","ig"),t=t.replace(r,e[n]))}return t},getUrlSearchParams:function(){var t={},e=this.window.location.search;if(null!=e&&1<e.length)for(var i=void 0,n=0,r=(e=e.substring(1)).split("&");n<r.length;n++)null!=(i=r[n].split("="))&&0<i.length&&(t[i[0]]=i[1]);return t},parseUrlSearchObjectParam:function(t,e){void 0===e&&(e=!0);try{var i=unescape(t);return e&&(i=decodeURIComponent(atob(i))),JSON.parse(i)}catch(t){return{}}},stringifyUrlSearchObjectParam:function(t,e){void 0===e&&(e=!0);var i=JSON.stringify(t);if(e)try{i=btoa(encodeURIComponent(i))}catch(t){console.error("could not base 64 encode string: "+i),i=btoa(JSON.stringify({}))}return i},removeContextMarkerFromUrl:function(t){var e="ucCtx={unifiedClassroomContext}";return t.replace(new RegExp("&"+e),"").replace(new RegExp("\\?"+e+"&"),"?").replace(new RegExp("\\?"+e),"")},getSectionColorForClass:function(t){var e=1;return null==t||(t&&null!=t.sourceSystemId&&null!=t.courseNumber?e=isNaN(parseInt(t.courseNumber))?Number(t.sourceSystemId)%4+1:parseInt(t.courseNumber)%4+1:t&&null!=t.sectionUids&&(e=t.sectionUids.length%4+1)),"color-"+e},fixTimeStringSpacing:function(t){return null!=t?t.replace(this.TIME_STRING_AM_PM_SPACING_REGEX,"$1 $2"):t},ajax:function(e,t){var i=(t=null==t?{}:t).async||!0,n=t.method||"GET",r=t.headers||{},o=t.xhrFields||{},s=t.data,a=t.success,u=t.error,l=t.complete,c=t.xhr?t.xhr():new XMLHttpRequest,d=t.disableAjaxStatus||!1;try{for(var p in c.open(n,e,i),d||h({status:"START",url:e,payload:s}),o)o.hasOwnProperty(p)&&(c[p]=o[p]);for(var p in r)r.hasOwnProperty(p)&&c.setRequestHeader(p,r[p]);return c.onreadystatechange=function(){c.readyState===XMLHttpRequest.DONE&&(200===c.status||304===c.status?null!=a&&(a(c.response,c,c.statusText),d||h({status:"SUCCESS",url:e,payload:s})):null!=u&&(u(c,c.statusText),d||h({status:"ERROR",url:e,payload:s})),null!=l&&(l(c,c.statusText),d||h({status:"COMPLETE",url:e,payload:s})))},c.send(s),c}catch(t){console.error(t),d||h({status:"ERROR",url:e,payload:s})}},getAjaxStatusStream:function(){return l.asObservable()},hasActiveAjaxRequests:function(){return 0<c},createFlattenedClassInstance:function(t){var e,i,n=new t,r={};for(i in n)null!=(e=function t(e,i){var n=Object.getOwnPropertyDescriptor(e,i);return null==n?t(Object.getPrototypeOf(e),i):n}(n,i))&&e.hasOwnProperty("get")?Object.defineProperty(r,i,e):r[i]=n[i];return r},groupBy:function(t,e){for(var i={},n=0,r=t;n<r.length;n++){var o=r[n];null==i[e(o)]?i[e(o)]=[o]:i[e(o)].push(o)}return i},getElementInFocus:function(){return document.hasFocus()&&document.activeElement!==document.body&&document.activeElement!==document.documentElement&&document.activeElement||null||document.querySelector(":focus")},focus:function(t,e){t=e.querySelector(t);return null!=t&&(t.focus(),!0)},throw:function(t){throw console.trace(t),t},roundNumber:function(t,e){return n.NumberUtil.round(t,e)},getStringBooleanValue:function(t){return t&&"true"===t.toLowerCase()||!1},buildDownloadAnchor:function(t,e,i){null==e&&(e=a.pdsUtils.DEFAULT_DOWNLOAD_FILENAME);var n="txt",r="TEXT/PLAIN";"TEXT_CSV"===i&&(n="csv",r="TEXT/CSV");i=document.createElement("a");return i.href=window.URL.createObjectURL(new Blob([t],{type:r})),i.setAttribute("download",e+"."+n),i},startBrowserSaveStringAsFileIE:function(t,e,i){null==e&&(e=a.pdsUtils.DEFAULT_DOWNLOAD_FILENAME);var n="txt",r="TEXT/PLAIN";"TEXT_CSV"===i&&(n="csv",r="TEXT/CSV"),window.navigator.msSaveOrOpenBlob(new Blob([t],{type:r}),e+"."+n)},startBrowserSaveStringAsFile:function(t,e,i){window.navigator&&window.navigator.msSaveOrOpenBlob?a.pdsUtils.startBrowserSaveStringAsFileIE(t,e,i):((i=a.pdsUtils.buildDownloadAnchor(t,e,i)).setAttribute("style","display:none;"),document.body.appendChild(i),i.click(),a.pdsUtils.remove(i))},DEFAULT_DOWNLOAD_FILENAME:"Download",getCssValueInPx:function(t){if(null==t)return NaN;var e=t.match(/^(\d+\.?\d*)([^\d]+)$/);if(null==e)throw new Error("Unrecognized style value: "+t);var i,n=e[2];switch(n){case"px":i=parseFloat(t);break;case"pt":i=parseFloat(t)*(4/3);break;default:throw new Error("Unrecognized unit: "+n)}return i},getTextNodeBoundingBox:function(t){var e=document.createRange();e.selectNodeContents(t);var i=e.getClientRects();if(0===i.length)throw new Error("The node does not have any text!");for(var n=i[0].left,r=i[0].top,o=i[0].right,s=i[0].bottom,a=1;a<i.length;a++)var u=i[a],n=Math.min(u.left,n),r=Math.min(u.top,r),o=Math.max(u.right,o),s=Math.max(u.bottom,s);t=window.pageXOffset-(document.documentElement.clientLeft||0),e=window.pageYOffset-(document.documentElement.clientTop||0);return{left:n+=t,top:r+=e,right:o+=t,bottom:s+=e}},getOffset:function(t,e){void 0===e&&(e=!1);var i=t.getBoundingClientRect(),n=i.left+window.pageXOffset-(document.documentElement.clientLeft||0),i=i.top+window.pageYOffset-(document.documentElement.clientTop||0);return e&&((t=getComputedStyle(t)).marginLeft&&"0px"!==t.marginLeft&&(n-=a.pdsUtils.getCssValueInPx(t.marginLeft)),t.marginTop&&"0px"!==t.marginTop&&(i-=a.pdsUtils.getCssValueInPx(t.marginTop))),{left:n,top:i}},getTextNodeBoundingBoxOffsetFromContainer:function(t,e){var i=a.pdsUtils.getTextNodeBoundingBox(e),n=i.left,r=i.top,e=i.right-i.left,i=i.bottom-i.top,t=a.pdsUtils.getOffset(t);return{left:n-=t.left,top:r-=t.top,right:n+e,bottom:r+i}},getBoundingBoxOffsetFromContainer:function(t,e,i){void 0===i&&(i=!1);var n=a.pdsUtils.getOffset(e,i),r=n.left,o=n.top,s=e.offsetWidth,n=e.offsetHeight;i&&((e=getComputedStyle(e)).marginLeft&&"0px"!==e.marginLeft&&(s+=a.pdsUtils.getCssValueInPx(e.marginLeft)),e.marginTop&&"0px"!==e.marginTop&&(n+=a.pdsUtils.getCssValueInPx(e.marginTop)),e.marginRight&&"0px"!==e.marginRight&&(s+=a.pdsUtils.getCssValueInPx(e.marginRight)),e.marginBottom&&"0px"!==e.marginBottom&&(n+=a.pdsUtils.getCssValueInPx(e.marginBottom)));t=a.pdsUtils.getOffset(t);return{left:r-=t.left,top:o-=t.top,right:r+s,bottom:o+n}},isInline:function(t){t=getComputedStyle(t);return null==t.display||t.display.includes("inline")},isInBreakpointSmall:function(){return window.innerWidth<=576},isInBreakpointMedium:function(){return window.innerWidth<=768},isInBreakpointLarge:function(){return window.innerWidth<=992},isInBreakpointExtraLarge:function(){return window.innerWidth<=1200}},"undefined"==typeof Element||Element.prototype.matches||(Element.prototype.matches=Element.prototype.matchesSelector||Element.prototype.mozMatchesSelector||Element.prototype.msMatchesSelector||Element.prototype.oMatchesSelector||Element.prototype.webkitMatchesSelector||function(t){for(var e=(this.document||this.ownerDocument).querySelectorAll(t),i=e.length;0<=--i&&e.item(i)!==this;);return-1<i}),Date.prototype.pdsToDateWidgetAttr||(Date.prototype.pdsToDateWidgetAttr=function(){return this.getMonth()+1+"/"+this.getDate()+"/"+this.getFullYear()})},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=i(43);e.pdsLogger={loggerStatus:{},setLoggerStatus:function(t,e){this.loggerStatus[t]=e;try{e?r.pdsLocalStorage.setItem("PDS-LOGGER-"+t,"true"):r.pdsLocalStorage.removeItem("PDS-LOGGER-"+t)}catch(t){}return'Logger "'+t+'" set set to '+(e?"show":"hide")+" messages.\n NOTE: this persists to localStorage"},requiresLogger:function(n){return null==this.log[n]&&(this.log[n]=function(t){for(var e=[],i=1;i<arguments.length;i++)e[i-1]=arguments[i];this.loggerStatus[n]&&console.log.apply(console,arguments)}.bind(this),this.loggerStatus.hasOwnProperty(n)||(this.loggerStatus[n]=!1)),this.log[n]},prependLogger:function(e,i){return function(){var t=Array.from(arguments);t.unshift(i+" - "),e.apply(e,t)}},log:function(t){for(var e=[],i=1;i<arguments.length;i++)e[i-1]=arguments[i];this.loggerStatus.log&&console.log.apply(console,arguments)},init:function(){try{this.loggerStatus={};for(var t=/^PDS-LOGGER-/,e=0,i=Object.keys(localStorage);e<i.length;e++){var n=i[e];t.test(n)&&r.pdsLocalStorage.getUserPersistedBoolean(n)&&(this.loggerStatus[n.slice(11)]=!0)}}catch(t){}}},e.pdsLogger.log=e.pdsLogger.log.bind(e.pdsLogger),e.pdsLogger.init()},function(t,e,i){"use strict";i.d(e,"b",function(){return l}),i.d(e,"a",function(){return c});var r=i(0),n=i(2),e=i(1),o=i(7),s=i(30),a=i(90),u=i(46),l=function(i){function t(t){var e=i.call(this,t)||this;return e.destination=t,e}return r.a(t,i),t}(e.a),c=function(e){function t(){var t=e.call(this)||this;return t.observers=[],t.closed=!1,t.isStopped=!1,t.hasError=!1,t.thrownError=null,t}return r.a(t,e),t.prototype[u.a]=function(){return new l(this)},t.prototype.lift=function(t){var e=new d(this,this);return e.operator=t,e},t.prototype.next=function(t){if(this.closed)throw new s.a;if(!this.isStopped)for(var e=this.observers,i=e.length,n=e.slice(),r=0;r<i;r++)n[r].next(t)},t.prototype.error=function(t){if(this.closed)throw new s.a;this.hasError=!0,this.thrownError=t,this.isStopped=!0;for(var e=this.observers,i=e.length,n=e.slice(),r=0;r<i;r++)n[r].error(t);this.observers.length=0},t.prototype.complete=function(){if(this.closed)throw new s.a;this.isStopped=!0;for(var t=this.observers,e=t.length,i=t.slice(),n=0;n<e;n++)i[n].complete();this.observers.length=0},t.prototype.unsubscribe=function(){this.isStopped=!0,this.closed=!0,this.observers=null},t.prototype._trySubscribe=function(t){if(this.closed)throw new s.a;return e.prototype._trySubscribe.call(this,t)},t.prototype._subscribe=function(t){if(this.closed)throw new s.a;return this.hasError?(t.error(this.thrownError),o.a.EMPTY):this.isStopped?(t.complete(),o.a.EMPTY):(this.observers.push(t),new a.a(this,t))},t.prototype.asObservable=function(){var t=new n.a;return t.source=this,t},t.create=function(t,e){return new d(t,e)},t}(n.a),d=function(n){function t(t,e){var i=n.call(this)||this;return i.destination=t,i.source=e,i}return r.a(t,n),t.prototype.next=function(t){var e=this.destination;e&&e.next&&e.next(t)},t.prototype.error=function(t){var e=this.destination;e&&e.error&&this.destination.error(t)},t.prototype.complete=function(){var t=this.destination;t&&t.complete&&this.destination.complete()},t.prototype._subscribe=function(t){return this.source?this.source.subscribe(t):o.a.EMPTY},t}(c)},function(t,e,i){"use strict";i.d(e,"a",function(){return r}),i.d(e,"b",function(){return o});var n=i(2),r=new n.a(function(t){return t.complete()});function o(t){return t?(e=t,new n.a(function(t){return e.schedule(function(){return t.complete()})})):r;var e}},function(t,e,i){"use strict";i.d(e,"a",function(){return n});var e=i(41),n=new(i(39).a)(e.a)},function(t,e,i){"use strict";i.d(e,"a",function(){return n});var n=Array.isArray||function(t){return t&&"number"==typeof t.length}},function(t,e,i){"use strict";i.r(e);var l=i(2),n=i(80),r=i(73),o=i(29),s=i(11),a=i(81),u=i(55),c=i(40),d=i(63),p=i(13),h=i(88),f=i(0),g=i(41),y=function(n){function t(t,e){var i=n.call(this,t,e)||this;return i.scheduler=t,i.work=e,i}return f.a(t,n),t.prototype.requestAsyncId=function(t,e,i){return null!==(i=void 0===i?0:i)&&0<i?n.prototype.requestAsyncId.call(this,t,e,i):(t.actions.push(this),t.scheduled||(t.scheduled=requestAnimationFrame(function(){return t.flush(null)})))},t.prototype.recycleAsyncId=function(t,e,i){if(null!==(i=void 0===i?0:i)&&0<i||null===i&&0<this.delay)return n.prototype.recycleAsyncId.call(this,t,e,i);0===t.actions.length&&(cancelAnimationFrame(e),t.scheduled=void 0)},t}(g.a),m=i(39),v=new(function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return f.a(e,t),e.prototype.flush=function(t){this.active=!0,this.scheduled=void 0;var e,i=this.actions,n=-1,r=i.length;t=t||i.shift();do{if(e=t.execute(t.state,t.delay))break}while(++n<r&&(t=i.shift()));if(this.active=!1,e){for(;++n<r&&(t=i.shift());)t.unsubscribe();throw e}},e}(m.a))(y),b=function(n){function t(t,e){void 0===t&&(t=S),void 0===e&&(e=Number.POSITIVE_INFINITY);var i=n.call(this,t,function(){return i.frame})||this;return i.maxFrames=e,i.frame=0,i.index=-1,i}return f.a(t,n),t.prototype.flush=function(){for(var t,e,i=this.actions,n=this.maxFrames;(e=i.shift())&&(this.frame=e.delay)<=n&&!(t=e.execute(e.state,e.delay)););if(t){for(;e=i.shift();)e.unsubscribe();throw t}},t.frameTimeFactor=10,t}(m.a),S=function(r){function n(t,e,i){void 0===i&&(i=t.index+=1);var n=r.call(this,t,e)||this;return n.scheduler=t,n.work=e,n.index=i,n.active=!0,n.index=t.index=i,n}return f.a(n,r),n.prototype.schedule=function(t,e){if(void 0===e&&(e=0),!this.id)return r.prototype.schedule.call(this,t,e);this.active=!1;var i=new n(this.scheduler,this.work);return this.add(i),i.schedule(t,e)},n.prototype.requestAsyncId=function(t,e,i){void 0===i&&(i=0),this.delay=t.frame+i;t=t.actions;return t.push(this),t.sort(n.sortActions),!0},n.prototype.recycleAsyncId=function(t,e,i){void 0===i&&(i=0)},n.prototype._execute=function(t,e){if(!0===this.active)return r.prototype._execute.call(this,t,e)},n.sortActions=function(t,e){return t.delay===e.delay?t.index===e.index?0:t.index>e.index?1:-1:t.delay>e.delay?1:-1},n}(g.a),T=i(68),C=i(7),_=i(1),w=i(25),x=i(52),P=i(23),O=i(24);function N(t){return!!t&&(t instanceof l.a||"function"==typeof t.lift&&"function"==typeof t.subscribe)}var I=i(35),E=i(38),A=i(30),D=i(53),M=i(83),k=i(17),F=i(14),R=i(16);function U(s,i,a){if(i){if(!Object(R.a)(i))return function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return U(s,a).apply(void 0,t).pipe(Object(k.a)(function(t){return Object(F.a)(t)?i.apply(void 0,t):i(t)}))};a=i}return function(){for(var i=[],t=0;t<arguments.length;t++)i[t]=arguments[t];var n,r=this,o={context:r,subject:n,callbackFunc:s,scheduler:a};return new l.a(function(t){if(a){var e={args:i,subscriber:t,params:o};return a.schedule(j,0,e)}if(!n){n=new c.a;try{s.apply(r,i.concat([function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];n.next(t.length<=1?t[0]:t),n.complete()}]))}catch(t){n.error(t)}}return n.subscribe(t)})}}function j(t){var n=this,e=t.args,i=t.subscriber,t=t.params,r=t.callbackFunc,o=t.context,s=t.scheduler;if(!(a=t.subject)){var a=t.subject=new c.a;try{r.apply(o,e.concat([function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var i=t.length<=1?t[0]:t;n.add(s.schedule(L,0,{value:i,subject:a}))}]))}catch(t){a.error(t)}}this.add(a.subscribe(i))}function L(t){var e=t.value,t=t.subject;t.next(e),t.complete()}function V(o,i,s){if(i){if(!Object(R.a)(i))return function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return V(o,s).apply(void 0,t).pipe(Object(k.a)(function(t){return Object(F.a)(t)?i.apply(void 0,t):i(t)}))};s=i}return function(){for(var i=[],t=0;t<arguments.length;t++)i[t]=arguments[t];var r={subject:void 0,args:i,callbackFunc:o,scheduler:s,context:this};return new l.a(function(t){var e=r.context,n=r.subject;if(s)return s.schedule(W,0,{params:r,subscriber:t,context:e});if(!n){n=r.subject=new c.a;try{o.apply(e,i.concat([function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var i=t.shift();i?n.error(i):(n.next(t.length<=1?t[0]:t),n.complete())}]))}catch(t){n.error(t)}}return n.subscribe(t)})}}function W(t){var n=this,e=t.params,i=t.subscriber,r=t.context,o=e.callbackFunc,s=e.args,a=e.scheduler;if(!(u=e.subject)){var u=e.subject=new c.a;try{o.apply(r,s.concat([function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var i=t.shift();i?n.add(a.schedule(B,0,{err:i,subject:u})):(i=t.length<=1?t[0]:t,n.add(a.schedule(G,0,{value:i,subject:u})))}]))}catch(t){this.add(a.schedule(B,0,{err:t,subject:u}))}}this.add(u.subscribe(i))}function G(t){var e=t.value,t=t.subject;t.next(e),t.complete()}function B(t){var e=t.err;t.subject.error(e)}var H=i(58),q=i(31),z=i(60),K=i(12),Y=i(3);function J(){for(var e,i=[],t=0;t<arguments.length;t++)i[t]=arguments[t];return"function"==typeof i[i.length-1]&&(e=i.pop()),0===(i=1===i.length&&Object(F.a)(i[0])?i[0]:i).length?K.a:e?J(i).pipe(Object(k.a)(function(t){return e.apply(void 0,t)})):new l.a(function(t){return new Q(t,i)})}var Q=function(s){function t(t,e){var i=s.call(this,t)||this;i.sources=e,i.completed=0,i.haveValues=0;var n=e.length;i.values=new Array(n);for(var r=0;r<n;r++){var o=e[r],o=Object(Y.a)(i,o,null,r);o&&i.add(o)}return i}return f.a(t,s),t.prototype.notifyNext=function(t,e,i,n,r){this.values[i]=e,r._hasValue||(r._hasValue=!0,this.haveValues++)},t.prototype.notifyComplete=function(t){var e=this.destination,i=this.haveValues,n=this.values,r=n.length;t._hasValue?(this.completed++,this.completed===r&&(i===r&&e.next(n),e.complete())):e.complete()},t}(i(4).a),X=i(20),$=i(36);Object.prototype.toString;function Z(t,i,n,e){return Object($.a)(n)&&(e=n,n=void 0),e?Z(t,i,n).pipe(Object(k.a)(function(t){return Object(F.a)(t)?e.apply(void 0,t):e(t)})):new l.a(function(e){!function t(e,i,n,r,o){var s;if(it(e)){var a=e;e.addEventListener(i,n,o),s=function(){return a.removeEventListener(i,n,o)}}else if(et(e)){var u=e;e.on(i,n),s=function(){return u.off(i,n)}}else if(tt(e)){var l=e;e.addListener(i,n),s=function(){return l.removeListener(i,n)}}else{if(!e||!e.length)throw new TypeError("Invalid event target");for(var c=0,d=e.length;c<d;c++)t(e[c],i,n,r,o)}r.add(s)}(t,i,function(t){1<arguments.length?e.next(Array.prototype.slice.call(arguments)):e.next(t)},e,n)})}function tt(t){return t&&"function"==typeof t.addListener&&"function"==typeof t.removeListener}function et(t){return t&&"function"==typeof t.on&&"function"==typeof t.off}function it(t){return t&&"function"==typeof t.addEventListener&&"function"==typeof t.removeEventListener}function nt(n,r,e){return e?nt(n,r).pipe(Object(k.a)(function(t){return Object(F.a)(t)?e.apply(void 0,t):e(t)})):new l.a(function(i){function t(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return i.next(1===t.length?t[0]:t)}var e;try{e=n(t)}catch(t){return void i.error(t)}if(Object($.a)(r))return function(){return r(t,e)}})}function rt(t,r,o,e,s){var a,u;return 1==arguments.length?(u=t.initialState,r=t.condition,o=t.iterate,a=t.resultSelector||O.a,s=t.scheduler):void 0===e||Object(R.a)(e)?(u=t,a=O.a,s=e):(u=t,a=e),new l.a(function(e){var t=u;if(s)return s.schedule(ot,0,{subscriber:e,iterate:o,condition:r,resultSelector:a,state:t});for(;;){if(r){var i=void 0;try{i=r(t)}catch(t){return void e.error(t)}if(!i){e.complete();break}}var n=void 0;try{n=a(t)}catch(t){return void e.error(t)}if(e.next(n),e.closed)break;try{t=o(t)}catch(t){return void e.error(t)}}})}function ot(t){var e,i=t.subscriber,n=t.condition;if(!i.closed){if(t.needIterate)try{t.state=t.iterate(t.state)}catch(t){return void i.error(t)}else t.needIterate=!0;if(n){var r=void 0;try{r=n(t.state)}catch(t){return void i.error(t)}if(!r)return void i.complete();if(i.closed)return}try{e=t.resultSelector(t.state)}catch(t){return void i.error(t)}if(!i.closed&&(i.next(e),!i.closed))return this.schedule(t)}}function st(t,e,i){return void 0===e&&(e=K.a),void 0===i&&(i=K.a),Object(z.a)(function(){return t()?e:i})}var at=i(42);function ut(e,i){return void 0===e&&(e=0),void 0===i&&(i=p.a),(!Object(at.a)(e)||e<0)&&(e=0),i&&"function"==typeof i.schedule||(i=p.a),new l.a(function(t){return t.add(i.schedule(lt,e,{subscriber:t,counter:0,period:e})),t})}function lt(t){var e=t.subscriber,i=t.counter,t=t.period;e.next(i),this.schedule({subscriber:e,counter:i+1,period:t},t)}var ct=i(85),dt=new l.a(P.a);function pt(){return dt}var ht=i(56);function ft(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if(0===t.length)return K.a;var i=t[0],n=t.slice(1);return 1===t.length&&Object(F.a)(i)?ft.apply(void 0,i):new l.a(function(e){function t(){return e.add(ft.apply(void 0,n).subscribe(e))}return Object(X.a)(i).subscribe({next:function(t){e.next(t)},error:t,complete:t})})}function gt(r,n){return n?new l.a(function(t){var e=Object.keys(r),i=new C.a;return i.add(n.schedule(yt,0,{keys:e,index:0,subscriber:t,subscription:i,obj:r})),i}):new l.a(function(t){for(var e=Object.keys(r),i=0;i<e.length&&!t.closed;i++){var n=e[i];r.hasOwnProperty(n)&&t.next([n,r[n]])}t.complete()})}function yt(t){var e=t.keys,i=t.index,n=t.subscriber,r=t.subscription,o=t.obj;n.closed||(i<e.length?(t=e[i],n.next([t,o[t]]),r.add(this.schedule({keys:e,index:i+1,subscriber:n,subscription:r,obj:o}))):n.complete())}var mt=i(86);function vt(n,r,o){return void 0===n&&(n=0),void 0===r&&(r=0),new l.a(function(t){var e=0,i=n;if(o)return o.schedule(bt,0,{index:e,count:r,start:n,subscriber:t});for(;;){if(e++>=r){t.complete();break}if(t.next(i++),t.closed)break}})}function bt(t){var e=t.start,i=t.index,n=t.count,r=t.subscriber;n<=i?r.complete():(r.next(e),r.closed||(t.index=i+1,t.start=e+1,this.schedule(t)))}var St=i(57),Tt=i(87);function Ct(r,o){return new l.a(function(e){var t,i;try{t=r()}catch(t){return void e.error(t)}try{i=o(t)}catch(t){return void e.error(t)}var n=(i?Object(X.a)(i):K.a).subscribe(e);return function(){n.unsubscribe(),t&&t.unsubscribe()}})}var _t=i(61),wt=i(22);i.d(e,"Observable",function(){return l.a}),i.d(e,"ConnectableObservable",function(){return n.a}),i.d(e,"GroupedObservable",function(){return r.a}),i.d(e,"observable",function(){return o.a}),i.d(e,"Subject",function(){return s.a}),i.d(e,"BehaviorSubject",function(){return a.a}),i.d(e,"ReplaySubject",function(){return u.a}),i.d(e,"AsyncSubject",function(){return c.a}),i.d(e,"asapScheduler",function(){return d.a}),i.d(e,"asyncScheduler",function(){return p.a}),i.d(e,"queueScheduler",function(){return h.a}),i.d(e,"animationFrameScheduler",function(){return v}),i.d(e,"VirtualTimeScheduler",function(){return b}),i.d(e,"VirtualAction",function(){return S}),i.d(e,"Scheduler",function(){return T.a}),i.d(e,"Subscription",function(){return C.a}),i.d(e,"Subscriber",function(){return _.a}),i.d(e,"Notification",function(){return w.a}),i.d(e,"pipe",function(){return x.a}),i.d(e,"noop",function(){return P.a}),i.d(e,"identity",function(){return O.a}),i.d(e,"isObservable",function(){return N}),i.d(e,"ArgumentOutOfRangeError",function(){return I.a}),i.d(e,"EmptyError",function(){return E.a}),i.d(e,"ObjectUnsubscribedError",function(){return A.a}),i.d(e,"UnsubscriptionError",function(){return D.a}),i.d(e,"TimeoutError",function(){return M.a}),i.d(e,"bindCallback",function(){return U}),i.d(e,"bindNodeCallback",function(){return V}),i.d(e,"combineLatest",function(){return H.b}),i.d(e,"concat",function(){return q.a}),i.d(e,"defer",function(){return z.a}),i.d(e,"empty",function(){return K.b}),i.d(e,"forkJoin",function(){return J}),i.d(e,"from",function(){return X.a}),i.d(e,"fromEvent",function(){return Z}),i.d(e,"fromEventPattern",function(){return nt}),i.d(e,"generate",function(){return rt}),i.d(e,"iif",function(){return st}),i.d(e,"interval",function(){return ut}),i.d(e,"merge",function(){return ct.a}),i.d(e,"never",function(){return pt}),i.d(e,"of",function(){return ht.a}),i.d(e,"onErrorResumeNext",function(){return ft}),i.d(e,"pairs",function(){return gt}),i.d(e,"race",function(){return mt.a}),i.d(e,"range",function(){return vt}),i.d(e,"throwError",function(){return St.a}),i.d(e,"timer",function(){return Tt.a}),i.d(e,"using",function(){return Ct}),i.d(e,"zip",function(){return _t.b}),i.d(e,"EMPTY",function(){return K.a}),i.d(e,"NEVER",function(){return dt}),i.d(e,"config",function(){return wt.a})},function(t,e,i){"use strict";function n(t){return t&&"function"==typeof t.schedule}i.d(e,"a",function(){return n})},function(t,e,i){"use strict";i.d(e,"a",function(){return n});var r=i(0),i=i(1);function n(e,i){return function(t){if("function"!=typeof e)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return t.lift(new o(e,i))}}var o=function(){function t(t,e){this.project=t,this.thisArg=e}return t.prototype.call=function(t,e){return e.subscribe(new s(t,this.project,this.thisArg))},t}(),s=function(n){function t(t,e,i){t=n.call(this,t)||this;return t.project=e,t.count=0,t.thisArg=i||t,t}return r.a(t,n),t.prototype._next=function(t){var e;try{e=this.project.call(this.thisArg,t,this.count++)}catch(t){return void this.destination.error(t)}this.destination.next(e)},t}(i.a)},function(t,e,i){"use strict";i.d(e,"a",function(){return s});var n,r=i(8);function o(){try{return n.apply(this,arguments)}catch(t){return r.a.e=t,r.a}}function s(t){return n=t,o}},function(t,e,i){"use strict";i.r(e);var s=i(0),u=i(18),l=i(8),n=i(4),c=i(3);function r(e){return function(t){return t.lift(new o(e))}}var o=function(){function t(t){this.durationSelector=t}return t.prototype.call=function(t,e){return e.subscribe(new a(t,this.durationSelector))},t}(),a=function(i){function t(t,e){t=i.call(this,t)||this;return t.durationSelector=e,t.hasValue=!1,t}return s.a(t,i),t.prototype._next=function(t){this.value=t,this.hasValue=!0,this.throttled||((t=Object(u.a)(this.durationSelector)(t))===l.a?this.destination.error(l.a.e):!(t=Object(c.a)(this,t))||t.closed?this.clearThrottle():this.add(this.throttled=t))},t.prototype.clearThrottle=function(){var t=this.value,e=this.hasValue,i=this.throttled;i&&(this.remove(i),this.throttled=null,i.unsubscribe()),e&&(this.value=null,this.hasValue=!1,this.destination.next(t))},t.prototype.notifyNext=function(t,e,i,n){this.clearThrottle()},t.prototype.notifyComplete=function(){this.clearThrottle()},t}(n.a),d=i(13),p=i(87);function h(t,e){return void 0===e&&(e=d.a),r(function(){return Object(p.a)(t,e)})}function f(e){return function(t){return t.lift(new g(e))}}var g=function(){function t(t){this.closingNotifier=t}return t.prototype.call=function(t,e){return e.subscribe(new y(t,this.closingNotifier))},t}(),y=function(i){function t(t,e){t=i.call(this,t)||this;return t.buffer=[],t.add(Object(c.a)(t,e)),t}return s.a(t,i),t.prototype._next=function(t){this.buffer.push(t)},t.prototype.notifyNext=function(t,e,i,n,r){var o=this.buffer;this.buffer=[],this.destination.next(o)},t}(n.a),m=i(1);function v(e,i){return void 0===i&&(i=null),function(t){return t.lift(new b(e,i))}}var b=function(){function t(t,e){this.bufferSize=t,this.startBufferEvery=e,this.subscriberClass=e&&t!==e?T:S}return t.prototype.call=function(t,e){return e.subscribe(new this.subscriberClass(t,this.bufferSize,this.startBufferEvery))},t}(),S=function(i){function t(t,e){t=i.call(this,t)||this;return t.bufferSize=e,t.buffer=[],t}return s.a(t,i),t.prototype._next=function(t){var e=this.buffer;e.push(t),e.length==this.bufferSize&&(this.destination.next(e),this.buffer=[])},t.prototype._complete=function(){var t=this.buffer;0<t.length&&this.destination.next(t),i.prototype._complete.call(this)},t}(m.a),T=function(n){function t(t,e,i){t=n.call(this,t)||this;return t.bufferSize=e,t.startBufferEvery=i,t.buffers=[],t.count=0,t}return s.a(t,n),t.prototype._next=function(t){var e=this.bufferSize,i=this.startBufferEvery,n=this.buffers,r=this.count;this.count++,r%i==0&&n.push([]);for(var o=n.length;o--;){var s=n[o];s.push(t),s.length===e&&(n.splice(o,1),this.destination.next(s))}},t.prototype._complete=function(){for(var t=this.buffers,e=this.destination;0<t.length;){var i=t.shift();0<i.length&&e.next(i)}n.prototype._complete.call(this)},t}(m.a),C=i(16);function _(e){var t=arguments.length,i=d.a;Object(C.a)(arguments[arguments.length-1])&&(i=arguments[arguments.length-1],t--);var n=null;2<=t&&(n=arguments[1]);var r=Number.POSITIVE_INFINITY;return 3<=t&&(r=arguments[2]),function(t){return t.lift(new w(e,n,r,i))}}var w=function(){function t(t,e,i,n){this.bufferTimeSpan=t,this.bufferCreationInterval=e,this.maxBufferSize=i,this.scheduler=n}return t.prototype.call=function(t,e){return e.subscribe(new P(t,this.bufferTimeSpan,this.bufferCreationInterval,this.maxBufferSize,this.scheduler))},t}(),x=function(){return function(){this.buffer=[]}}(),P=function(a){function t(t,e,i,n,r){var o=a.call(this,t)||this;o.bufferTimeSpan=e,o.bufferCreationInterval=i,o.maxBufferSize=n,o.scheduler=r,o.contexts=[];var s,t=o.openContext();return o.timespanOnly=null==i||i<0,o.timespanOnly?(s={subscriber:o,context:t,bufferTimeSpan:e},o.add(t.closeAction=r.schedule(O,e,s))):(n={subscriber:o,context:t},s={bufferTimeSpan:e,bufferCreationInterval:i,subscriber:o,scheduler:r},o.add(t.closeAction=r.schedule(I,e,n)),o.add(r.schedule(N,i,s))),o}return s.a(t,a),t.prototype._next=function(t){for(var e,i=this.contexts,n=i.length,r=0;r<n;r++){var o=i[r],s=o.buffer;s.push(t),s.length==this.maxBufferSize&&(e=o)}e&&this.onBufferFull(e)},t.prototype._error=function(t){this.contexts.length=0,a.prototype._error.call(this,t)},t.prototype._complete=function(){for(var t=this.contexts,e=this.destination;0<t.length;){var i=t.shift();e.next(i.buffer)}a.prototype._complete.call(this)},t.prototype._unsubscribe=function(){this.contexts=null},t.prototype.onBufferFull=function(t){this.closeContext(t);var e,i=t.closeAction;i.unsubscribe(),this.remove(i),!this.closed&&this.timespanOnly&&(t=this.openContext(),i={subscriber:this,context:t,bufferTimeSpan:e=this.bufferTimeSpan},this.add(t.closeAction=this.scheduler.schedule(O,e,i)))},t.prototype.openContext=function(){var t=new x;return this.contexts.push(t),t},t.prototype.closeContext=function(t){this.destination.next(t.buffer);var e=this.contexts;0<=(e?e.indexOf(t):-1)&&e.splice(e.indexOf(t),1)},t}(m.a);function O(t){var e=t.subscriber,i=t.context;i&&e.closeContext(i),e.closed||(t.context=e.openContext(),t.context.closeAction=this.schedule(t,t.bufferTimeSpan))}function N(t){var e=t.bufferCreationInterval,i=t.bufferTimeSpan,n=t.subscriber,r=t.scheduler,o=n.openContext();n.closed||(n.add(o.closeAction=r.schedule(I,i,{subscriber:n,context:o})),this.schedule(t,e))}function I(t){var e=t.subscriber,t=t.context;e.closeContext(t)}var E=i(7);function A(e,i){return function(t){return t.lift(new D(e,i))}}var D=function(){function t(t,e){this.openings=t,this.closingSelector=e}return t.prototype.call=function(t,e){return e.subscribe(new M(t,this.openings,this.closingSelector))},t}(),M=function(n){function t(t,e,i){t=n.call(this,t)||this;return t.openings=e,t.closingSelector=i,t.contexts=[],t.add(Object(c.a)(t,e)),t}return s.a(t,n),t.prototype._next=function(t){for(var e=this.contexts,i=e.length,n=0;n<i;n++)e[n].buffer.push(t)},t.prototype._error=function(t){for(var e=this.contexts;0<e.length;){var i=e.shift();i.subscription.unsubscribe(),i.buffer=null,i.subscription=null}this.contexts=null,n.prototype._error.call(this,t)},t.prototype._complete=function(){for(var t=this.contexts;0<t.length;){var e=t.shift();this.destination.next(e.buffer),e.subscription.unsubscribe(),e.buffer=null,e.subscription=null}this.contexts=null,n.prototype._complete.call(this)},t.prototype.notifyNext=function(t,e,i,n,r){t?this.closeBuffer(t):this.openBuffer(e)},t.prototype.notifyComplete=function(t){this.closeBuffer(t.context)},t.prototype.openBuffer=function(t){try{var e=this.closingSelector.call(this,t);e&&this.trySubscribe(e)}catch(t){this._error(t)}},t.prototype.closeBuffer=function(t){var e,i,n=this.contexts;n&&t&&(e=t.buffer,i=t.subscription,this.destination.next(e),n.splice(n.indexOf(t),1),this.remove(i),i.unsubscribe())},t.prototype.trySubscribe=function(t){var e=this.contexts,i=new E.a,n={buffer:[],subscription:i};e.push(n);t=Object(c.a)(this,t,n);!t||t.closed?this.closeBuffer(n):(t.context=n,this.add(t),i.add(t))},t}(n.a);function k(e){return function(t){return t.lift(new F(e))}}var F=function(){function t(t){this.closingSelector=t}return t.prototype.call=function(t,e){return e.subscribe(new R(t,this.closingSelector))},t}(),R=function(i){function t(t,e){t=i.call(this,t)||this;return t.closingSelector=e,t.subscribing=!1,t.openBuffer(),t}return s.a(t,i),t.prototype._next=function(t){this.buffer.push(t)},t.prototype._complete=function(){var t=this.buffer;t&&this.destination.next(t),i.prototype._complete.call(this)},t.prototype._unsubscribe=function(){this.buffer=null,this.subscribing=!1},t.prototype.notifyNext=function(t,e,i,n,r){this.openBuffer()},t.prototype.notifyComplete=function(){this.subscribing?this.complete():this.openBuffer()},t.prototype.openBuffer=function(){var t=this.closingSubscription;t&&(this.remove(t),t.unsubscribe());var e=this.buffer;this.buffer&&this.destination.next(e),this.buffer=[];e=Object(u.a)(this.closingSelector)();e===l.a?this.error(l.a.e):(t=new E.a,this.closingSubscription=t,this.add(t),this.subscribing=!0,t.add(Object(c.a)(this,e)),this.subscribing=!1)},t}(n.a);function U(i){return function(t){var e=new j(i),t=t.lift(e);return e.caught=t}}var j=function(){function t(t){this.selector=t}return t.prototype.call=function(t,e){return e.subscribe(new L(t,this.selector,this.caught))},t}(),L=function(n){function t(t,e,i){t=n.call(this,t)||this;return t.selector=e,t.caught=i,t}return s.a(t,n),t.prototype.error=function(t){if(!this.isStopped){var e=void 0;try{e=this.selector(t,this.caught)}catch(t){return void n.prototype.error.call(this,t)}this._unsubscribeAndRecycle(),this.add(Object(c.a)(this,e))}},t}(n.a),V=i(58);function W(e){return function(t){return t.lift(new V.a(e))}}var G=i(14),B=i(20);function H(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var i=null;return"function"==typeof e[e.length-1]&&(i=e.pop()),1===e.length&&Object(G.a)(e[0])&&(e=e[0].slice()),function(t){return t.lift.call(Object(B.a)([t].concat(e)),new V.a(i))}}var q=i(31);function z(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return function(t){return t.lift.call(q.a.apply(void 0,[t].concat(e)))}}var K=i(84),Y=i(34);function J(t,e){return Object(Y.a)(t,e,1)}function Q(t,e){return J(function(){return t},e)}function X(e){return function(t){return t.lift(new $(e,t))}}var $=function(){function t(t,e){this.predicate=t,this.source=e}return t.prototype.call=function(t,e){return e.subscribe(new Z(t,this.predicate,this.source))},t}(),Z=function(n){function t(t,e,i){t=n.call(this,t)||this;return t.predicate=e,t.source=i,t.count=0,t.index=0,t}return s.a(t,n),t.prototype._next=function(t){this.predicate?this._tryPredicate(t):this.count++},t.prototype._tryPredicate=function(t){var e;try{e=this.predicate(t,this.index++,this.source)}catch(t){return void this.destination.error(t)}e&&this.count++},t.prototype._complete=function(){this.destination.next(this.count),this.destination.complete()},t}(m.a);function tt(e){return function(t){return t.lift(new et(e))}}var et=function(){function t(t){this.durationSelector=t}return t.prototype.call=function(t,e){return e.subscribe(new it(t,this.durationSelector))},t}(),it=function(i){function t(t,e){t=i.call(this,t)||this;return t.durationSelector=e,t.hasValue=!1,t.durationSubscription=null,t}return s.a(t,i),t.prototype._next=function(t){try{var e=this.durationSelector.call(this,t);e&&this._tryNext(t,e)}catch(t){this.destination.error(t)}},t.prototype._complete=function(){this.emitValue(),this.destination.complete()},t.prototype._tryNext=function(t,e){var i=this.durationSubscription;this.value=t,this.hasValue=!0,i&&(i.unsubscribe(),this.remove(i)),(i=Object(c.a)(this,e))&&!i.closed&&this.add(this.durationSubscription=i)},t.prototype.notifyNext=function(t,e,i,n,r){this.emitValue()},t.prototype.notifyComplete=function(){this.emitValue()},t.prototype.emitValue=function(){var t,e;this.hasValue&&(t=this.value,(e=this.durationSubscription)&&(this.durationSubscription=null,e.unsubscribe(),this.remove(e)),this.value=null,this.hasValue=!1,i.prototype._next.call(this,t))},t}(n.a);function nt(e,i){return void 0===i&&(i=d.a),function(t){return t.lift(new rt(e,i))}}var rt=function(){function t(t,e){this.dueTime=t,this.scheduler=e}return t.prototype.call=function(t,e){return e.subscribe(new ot(t,this.dueTime,this.scheduler))},t}(),ot=function(n){function t(t,e,i){t=n.call(this,t)||this;return t.dueTime=e,t.scheduler=i,t.debouncedSubscription=null,t.lastValue=null,t.hasValue=!1,t}return s.a(t,n),t.prototype._next=function(t){this.clearDebounce(),this.lastValue=t,this.hasValue=!0,this.add(this.debouncedSubscription=this.scheduler.schedule(st,this.dueTime,this))},t.prototype._complete=function(){this.debouncedNext(),this.destination.complete()},t.prototype.debouncedNext=function(){var t;this.clearDebounce(),this.hasValue&&(t=this.lastValue,this.lastValue=null,this.hasValue=!1,this.destination.next(t))},t.prototype.clearDebounce=function(){var t=this.debouncedSubscription;null!==t&&(this.remove(t),t.unsubscribe(),this.debouncedSubscription=null)},t}(m.a);function st(t){t.debouncedNext()}function at(e){return void 0===e&&(e=null),function(t){return t.lift(new ut(e))}}var ut=function(){function t(t){this.defaultValue=t}return t.prototype.call=function(t,e){return e.subscribe(new lt(t,this.defaultValue))},t}(),lt=function(i){function t(t,e){t=i.call(this,t)||this;return t.defaultValue=e,t.isEmpty=!0,t}return s.a(t,i),t.prototype._next=function(t){this.isEmpty=!1,this.destination.next(t)},t.prototype._complete=function(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()},t}(m.a);function ct(t){return t instanceof Date&&!isNaN(+t)}var dt=i(25);function pt(t,e){void 0===e&&(e=d.a);var i=ct(t)?+t-e.now():Math.abs(t);return function(t){return t.lift(new ht(i,e))}}var ht=function(){function t(t,e){this.delay=t,this.scheduler=e}return t.prototype.call=function(t,e){return e.subscribe(new ft(t,this.delay,this.scheduler))},t}(),ft=function(n){function e(t,e,i){t=n.call(this,t)||this;return t.delay=e,t.scheduler=i,t.queue=[],t.active=!1,t.errored=!1,t}return s.a(e,n),e.dispatch=function(t){for(var e,i=t.source,n=i.queue,r=t.scheduler,o=t.destination;0<n.length&&n[0].time-r.now()<=0;)n.shift().notification.observe(o);0<n.length?(e=Math.max(0,n[0].time-r.now()),this.schedule(t,e)):(this.unsubscribe(),i.active=!1)},e.prototype._schedule=function(t){this.active=!0,this.add(t.schedule(e.dispatch,this.delay,{source:this,destination:this.destination,scheduler:t}))},e.prototype.scheduleNotification=function(t){var e;!0!==this.errored&&(e=this.scheduler,t=new gt(e.now()+this.delay,t),this.queue.push(t),!1===this.active&&this._schedule(e))},e.prototype._next=function(t){this.scheduleNotification(dt.a.createNext(t))},e.prototype._error=function(t){this.errored=!0,this.queue=[],this.destination.error(t)},e.prototype._complete=function(){this.scheduleNotification(dt.a.createComplete())},e}(m.a),gt=function(){return function(t,e){this.time=t,this.notification=e}}(),yt=i(2);function mt(e,i){return i?function(t){return new St(t,i).lift(new vt(e))}:function(t){return t.lift(new vt(e))}}var vt=function(){function t(t){this.delayDurationSelector=t}return t.prototype.call=function(t,e){return e.subscribe(new bt(t,this.delayDurationSelector))},t}(),bt=function(i){function t(t,e){t=i.call(this,t)||this;return t.delayDurationSelector=e,t.completed=!1,t.delayNotifierSubscriptions=[],t}return s.a(t,i),t.prototype.notifyNext=function(t,e,i,n,r){this.destination.next(t),this.removeSubscription(r),this.tryComplete()},t.prototype.notifyError=function(t,e){this._error(t)},t.prototype.notifyComplete=function(t){t=this.removeSubscription(t);t&&this.destination.next(t),this.tryComplete()},t.prototype._next=function(t){try{var e=this.delayDurationSelector(t);e&&this.tryDelay(e,t)}catch(t){this.destination.error(t)}},t.prototype._complete=function(){this.completed=!0,this.tryComplete()},t.prototype.removeSubscription=function(t){t.unsubscribe();var e=this.delayNotifierSubscriptions.indexOf(t);return-1!==e&&this.delayNotifierSubscriptions.splice(e,1),t.outerValue},t.prototype.tryDelay=function(t,e){e=Object(c.a)(this,t,e);e&&!e.closed&&(this.add(e),this.delayNotifierSubscriptions.push(e))},t.prototype.tryComplete=function(){this.completed&&0===this.delayNotifierSubscriptions.length&&this.destination.complete()},t}(n.a),St=function(n){function t(t,e){var i=n.call(this)||this;return i.source=t,i.subscriptionDelay=e,i}return s.a(t,n),t.prototype._subscribe=function(t){this.subscriptionDelay.subscribe(new Tt(t,this.source))},t}(yt.a),Tt=function(n){function t(t,e){var i=n.call(this)||this;return i.parent=t,i.source=e,i.sourceSubscribed=!1,i}return s.a(t,n),t.prototype._next=function(t){this.subscribeToSource()},t.prototype._error=function(t){this.unsubscribe(),this.parent.error(t)},t.prototype._complete=function(){this.subscribeToSource()},t.prototype.subscribeToSource=function(){this.sourceSubscribed||(this.sourceSubscribed=!0,this.unsubscribe(),this.source.subscribe(this.parent))},t}(m.a);function Ct(){return function(t){return t.lift(new _t)}}var _t=function(){function t(){}return t.prototype.call=function(t,e){return e.subscribe(new wt(t))},t}(),wt=function(e){function t(t){return e.call(this,t)||this}return s.a(t,e),t.prototype._next=function(t){t.observe(this.destination)},t}(m.a);function xt(e,i){return function(t){return t.lift(new Pt(e,i))}}var Pt=function(){function t(t,e){this.keySelector=t,this.flushes=e}return t.prototype.call=function(t,e){return e.subscribe(new Ot(t,this.keySelector,this.flushes))},t}(),Ot=function(n){function t(t,e,i){t=n.call(this,t)||this;return t.keySelector=e,t.values=new Set,i&&t.add(Object(c.a)(t,i)),t}return s.a(t,n),t.prototype.notifyNext=function(t,e,i,n,r){this.values.clear()},t.prototype.notifyError=function(t,e){this._error(t)},t.prototype._next=function(t){this.keySelector?this._useKeySelector(t):this._finalizeNext(t,t)},t.prototype._useKeySelector=function(t){var e,i=this.destination;try{e=this.keySelector(t)}catch(t){return void i.error(t)}this._finalizeNext(e,t)},t.prototype._finalizeNext=function(t,e){var i=this.values;i.has(t)||(i.add(t),this.destination.next(e))},t}(n.a);function Nt(e,i){return function(t){return t.lift(new It(e,i))}}var It=function(){function t(t,e){this.compare=t,this.keySelector=e}return t.prototype.call=function(t,e){return e.subscribe(new Et(t,this.compare,this.keySelector))},t}(),Et=function(n){function t(t,e,i){t=n.call(this,t)||this;return t.keySelector=i,t.hasKey=!1,"function"==typeof e&&(t.compare=e),t}return s.a(t,n),t.prototype.compare=function(t,e){return t===e},t.prototype._next=function(t){var e=this.keySelector,i=t;if(e&&(i=Object(u.a)(this.keySelector)(t))===l.a)return this.destination.error(l.a.e);e=!1;if(this.hasKey){if((e=Object(u.a)(this.compare)(this.key,i))===l.a)return this.destination.error(l.a.e)}else this.hasKey=!0;!1===Boolean(e)&&(this.key=i,this.destination.next(t))},t}(m.a);function At(i,n){return Nt(function(t,e){return n?n(t[i],e[i]):t[i]===e[i]})}var Dt=i(35);function Mt(e,i){return function(t){return t.lift(new kt(e,i))}}var kt=function(){function t(t,e){this.predicate=t,this.thisArg=e}return t.prototype.call=function(t,e){return e.subscribe(new Ft(t,this.predicate,this.thisArg))},t}(),Ft=function(n){function t(t,e,i){t=n.call(this,t)||this;return t.predicate=e,t.thisArg=i,t.count=0,t}return s.a(t,n),t.prototype._next=function(t){var e;try{e=this.predicate.call(this.thisArg,t,this.count++)}catch(t){return void this.destination.error(t)}e&&this.destination.next(t)},t}(m.a),Rt=i(23),Ut=i(36);function jt(e,i,n){return function(t){return t.lift(new Vt(e,i,n))}}function Lt(t){return void 0===t&&(t=Bt),jt({hasValue:!1,next:function(){this.hasValue=!0},complete:function(){if(!this.hasValue)throw t()}})}var Vt=function(){function t(t,e,i){this.nextOrObserver=t,this.error=e,this.complete=i}return t.prototype.call=function(t,e){return e.subscribe(new Wt(t,this.nextOrObserver,this.error,this.complete))},t}(),Wt=function(r){function t(t,e,i,n){t=r.call(this,t)||this;return t._tapNext=Rt.a,t._tapError=Rt.a,t._tapComplete=Rt.a,t._tapError=i||Rt.a,t._tapComplete=n||Rt.a,Object(Ut.a)(e)?(t._context=t)._tapNext=e:e&&(t._context=e,t._tapNext=e.next||Rt.a,t._tapError=e.error||Rt.a,t._tapComplete=e.complete||Rt.a),t}return s.a(t,r),t.prototype._next=function(t){try{this._tapNext.call(this._context,t)}catch(t){return void this.destination.error(t)}this.destination.next(t)},t.prototype._error=function(t){try{this._tapError.call(this._context,t)}catch(t){return void this.destination.error(t)}this.destination.error(t)},t.prototype._complete=function(){try{this._tapComplete.call(this._context)}catch(t){return void this.destination.error(t)}return this.destination.complete()},t}(m.a),Gt=i(38);function Bt(){return new Gt.a}var Ht=i(12);function qt(e){return function(t){return 0===e?Object(Ht.b)():t.lift(new zt(e))}}var zt=function(){function t(t){if(this.total=t,this.total<0)throw new Dt.a}return t.prototype.call=function(t,e){return e.subscribe(new Kt(t,this.total))},t}(),Kt=function(i){function t(t,e){t=i.call(this,t)||this;return t.total=e,t.count=0,t}return s.a(t,i),t.prototype._next=function(t){var e=this.total,i=++this.count;i<=e&&(this.destination.next(t),i===e&&(this.destination.complete(),this.unsubscribe()))},t}(m.a);function Yt(i,e){if(i<0)throw new Dt.a;var n=2<=arguments.length;return function(t){return t.pipe(Mt(function(t,e){return e===i}),qt(1),n?at(e):Lt(function(){return new Dt.a}))}}var Jt=i(21),Qt=i(62);function Xt(){for(var n=[],t=0;t<arguments.length;t++)n[t]=arguments[t];return function(t){var e=n[n.length-1];Object(C.a)(e)?n.pop():e=null;var i=n.length;return 1!==i||e?0<i?Object(q.a)(t,Object(Jt.a)(n,e)):Object(q.a)(t,Object(Ht.b)(e)):Object(q.a)(t,Object(Qt.a)(n[0]))}}function $t(e,i){return function(t){return t.lift(new Zt(e,i,t))}}var Zt=function(){function t(t,e,i){this.predicate=t,this.thisArg=e,this.source=i}return t.prototype.call=function(t,e){return e.subscribe(new te(t,this.predicate,this.thisArg,this.source))},t}(),te=function(r){function t(t,e,i,n){t=r.call(this,t)||this;return t.predicate=e,t.thisArg=i,t.source=n,t.index=0,t.thisArg=i||t,t}return s.a(t,r),t.prototype.notifyComplete=function(t){this.destination.next(t),this.destination.complete()},t.prototype._next=function(t){var e=!1;try{e=this.predicate.call(this.thisArg,t,this.index++,this.source)}catch(t){return void this.destination.error(t)}e||this.notifyComplete(!1)},t.prototype._complete=function(){this.notifyComplete(!0)},t}(m.a);function ee(){return function(t){return t.lift(new ie)}}var ie=function(){function t(){}return t.prototype.call=function(t,e){return e.subscribe(new ne(t))},t}(),ne=function(e){function t(t){t=e.call(this,t)||this;return t.hasCompleted=!1,t.hasSubscription=!1,t}return s.a(t,e),t.prototype._next=function(t){this.hasSubscription||(this.hasSubscription=!0,this.add(Object(c.a)(this,t)))},t.prototype._complete=function(){this.hasCompleted=!0,this.hasSubscription||this.destination.complete()},t.prototype.notifyComplete=function(t){this.remove(t),this.hasSubscription=!1,this.hasCompleted&&this.destination.complete()},t}(n.a),re=i(17);function oe(e,r){return r?function(t){return t.pipe(oe(function(i,n){return Object(B.a)(e(i,n)).pipe(Object(re.a)(function(t,e){return r(i,t,n,e)}))}))}:function(t){return t.lift(new se(e))}}var se=function(){function t(t){this.project=t}return t.prototype.call=function(t,e){return e.subscribe(new ae(t,this.project))},t}(),ae=function(i){function t(t,e){t=i.call(this,t)||this;return t.project=e,t.hasSubscription=!1,t.hasCompleted=!1,t.index=0,t}return s.a(t,i),t.prototype._next=function(t){this.hasSubscription||this.tryNext(t)},t.prototype.tryNext=function(t){var e=this.index++,i=this.destination;try{var n=this.project(t,e);this.hasSubscription=!0,this.add(Object(c.a)(this,n,t,e))}catch(t){i.error(t)}},t.prototype._complete=function(){this.hasCompleted=!0,this.hasSubscription||this.destination.complete()},t.prototype.notifyNext=function(t,e,i,n,r){this.destination.next(e)},t.prototype.notifyError=function(t){this.destination.error(t)},t.prototype.notifyComplete=function(t){this.remove(t),this.hasSubscription=!1,this.hasCompleted&&this.destination.complete()},t}(n.a);function ue(e,i,n){return void 0===i&&(i=Number.POSITIVE_INFINITY),void 0===n&&(n=void 0),i=(i||0)<1?Number.POSITIVE_INFINITY:i,function(t){return t.lift(new le(e,i,n))}}var le=function(){function t(t,e,i){this.project=t,this.concurrent=e,this.scheduler=i}return t.prototype.call=function(t,e){return e.subscribe(new ce(t,this.project,this.concurrent,this.scheduler))},t}(),ce=function(r){function o(t,e,i,n){t=r.call(this,t)||this;return t.project=e,t.concurrent=i,t.scheduler=n,t.index=0,t.active=0,t.hasCompleted=!1,i<Number.POSITIVE_INFINITY&&(t.buffer=[]),t}return s.a(o,r),o.dispatch=function(t){var e=t.subscriber,i=t.result,n=t.value,t=t.index;e.subscribeToProjection(i,n,t)},o.prototype._next=function(t){var e,i,n=this.destination;n.closed?this._complete():(e=this.index++,this.active<this.concurrent?(n.next(t),(i=Object(u.a)(this.project)(t,e))===l.a?n.error(l.a.e):this.scheduler?(n={subscriber:this,result:i,value:t,index:e},this.add(this.scheduler.schedule(o.dispatch,0,n))):this.subscribeToProjection(i,t,e)):this.buffer.push(t))},o.prototype.subscribeToProjection=function(t,e,i){this.active++,this.add(Object(c.a)(this,t,e,i))},o.prototype._complete=function(){this.hasCompleted=!0,this.hasCompleted&&0===this.active&&this.destination.complete()},o.prototype.notifyNext=function(t,e,i,n,r){this._next(e)},o.prototype.notifyComplete=function(t){var e=this.buffer;this.remove(t),this.active--,e&&0<e.length&&this._next(e.shift()),this.hasCompleted&&0===this.active&&this.destination.complete()},o}(n.a);function de(e){return function(t){return t.lift(new pe(e))}}var pe=function(){function t(t){this.callback=t}return t.prototype.call=function(t,e){return e.subscribe(new he(t,this.callback))},t}(),he=function(i){function t(t,e){t=i.call(this,t)||this;return t.add(new E.a(e)),t}return s.a(t,i),t}(m.a);function fe(e,i){if("function"!=typeof e)throw new TypeError("predicate is not a function");return function(t){return t.lift(new ge(e,t,!1,i))}}var ge=function(){function t(t,e,i,n){this.predicate=t,this.source=e,this.yieldIndex=i,this.thisArg=n}return t.prototype.call=function(t,e){return e.subscribe(new ye(t,this.predicate,this.source,this.yieldIndex,this.thisArg))},t}(),ye=function(o){function t(t,e,i,n,r){t=o.call(this,t)||this;return t.predicate=e,t.source=i,t.yieldIndex=n,t.thisArg=r,t.index=0,t}return s.a(t,o),t.prototype.notifyComplete=function(t){var e=this.destination;e.next(t),e.complete()},t.prototype._next=function(t){var e=this.predicate,i=this.thisArg,n=this.index++;try{e.call(i||this,t,n,this.source)&&this.notifyComplete(this.yieldIndex?n:t)}catch(t){this.destination.error(t)}},t.prototype._complete=function(){this.notifyComplete(this.yieldIndex?-1:void 0)},t}(m.a);function me(e,i){return function(t){return t.lift(new ge(e,t,!0,i))}}var ve=i(24);function be(n,t){var e=2<=arguments.length;return function(i){return i.pipe(n?Mt(function(t,e){return n(t,e,i)}):ve.a,qt(1),e?at(t):Lt(function(){return new Gt.a}))}}var Se=i(73);function Te(){return function(t){return t.lift(new Ce)}}var Ce=function(){function t(){}return t.prototype.call=function(t,e){return e.subscribe(new _e(t))},t}(),_e=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return s.a(e,t),e.prototype._next=function(t){},e}(m.a);function we(){return function(t){return t.lift(new xe)}}var xe=function(){function t(){}return t.prototype.call=function(t,e){return e.subscribe(new Pe(t))},t}(),Pe=function(e){function t(t){return e.call(this,t)||this}return s.a(t,e),t.prototype.notifyComplete=function(t){var e=this.destination;e.next(t),e.complete()},t.prototype._next=function(t){this.notifyComplete(!1)},t.prototype._complete=function(){this.notifyComplete(!0)},t}(m.a);function Oe(e){return function(t){return 0===e?Object(Ht.b)():t.lift(new Ne(e))}}var Ne=function(){function t(t){if(this.total=t,this.total<0)throw new Dt.a}return t.prototype.call=function(t,e){return e.subscribe(new Ie(t,this.total))},t}(),Ie=function(i){function t(t,e){t=i.call(this,t)||this;return t.total=e,t.ring=new Array,t.count=0,t}return s.a(t,i),t.prototype._next=function(t){var e=this.ring,i=this.total,n=this.count++;e.length<i?e.push(t):e[n%i]=t},t.prototype._complete=function(){var t=this.destination,e=this.count;if(0<e)for(var i=this.count>=this.total?this.total:this.count,n=this.ring,r=0;r<i;r++){var o=e++%i;t.next(n[o])}t.complete()},t}(m.a);function Ee(n,t){var e=2<=arguments.length;return function(i){return i.pipe(n?Mt(function(t,e){return n(t,e,i)}):ve.a,Oe(1),e?at(t):Lt(function(){return new Gt.a}))}}function Ae(e){return function(t){return t.lift(new De(e))}}var De=function(){function t(t){this.value=t}return t.prototype.call=function(t,e){return e.subscribe(new Me(t,this.value))},t}(),Me=function(i){function t(t,e){t=i.call(this,t)||this;return t.value=e,t}return s.a(t,i),t.prototype._next=function(t){this.destination.next(this.value)},t}(m.a);function ke(){return function(t){return t.lift(new Fe)}}var Fe=function(){function t(){}return t.prototype.call=function(t,e){return e.subscribe(new Re(t))},t}(),Re=function(e){function t(t){return e.call(this,t)||this}return s.a(t,e),t.prototype._next=function(t){this.destination.next(dt.a.createNext(t))},t.prototype._error=function(t){var e=this.destination;e.next(dt.a.createError(t)),e.complete()},t.prototype._complete=function(){var t=this.destination;t.next(dt.a.createComplete()),t.complete()},t}(m.a);function Ue(e,i){var n=2<=arguments.length?!0:!1;return function(t){return t.lift(new je(e,i,n))}}var je=function(){function t(t,e,i){void 0===i&&(i=!1),this.accumulator=t,this.seed=e,this.hasSeed=i}return t.prototype.call=function(t,e){return e.subscribe(new Le(t,this.accumulator,this.seed,this.hasSeed))},t}(),Le=function(r){function t(t,e,i,n){t=r.call(this,t)||this;return t.accumulator=e,t._seed=i,t.hasSeed=n,t.index=0,t}return s.a(t,r),Object.defineProperty(t.prototype,"seed",{get:function(){return this._seed},set:function(t){this.hasSeed=!0,this._seed=t},enumerable:!0,configurable:!0}),t.prototype._next=function(t){if(this.hasSeed)return this._tryNext(t);this.seed=t,this.destination.next(t)},t.prototype._tryNext=function(t){var e,i=this.index++;try{e=this.accumulator(this.seed,t,i)}catch(t){this.destination.error(t)}this.seed=e,this.destination.next(e)},t}(m.a),Ve=i(52);function We(n,e){return 2<=arguments.length?function(t){return Object(Ve.a)(Ue(n,e),Oe(1),at(e))(t)}:function(t){return Object(Ve.a)(Ue(function(t,e,i){return n(t,e,i+1)}),Oe(1))(t)}}function Ge(i){return We("function"==typeof i?function(t,e){return 0<i(t,e)?t:e}:function(t,e){return e<t?t:e})}var Be=i(85);function He(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return function(t){return t.lift.call(Be.a.apply(void 0,[t].concat(e)))}}var qe=i(59);function ze(t,e,i){return void 0===i&&(i=Number.POSITIVE_INFINITY),"function"==typeof e?Object(Y.a)(function(){return t},e,i):("number"==typeof e&&(i=e),Object(Y.a)(function(){return t},i))}function Ke(e,i,n){return void 0===n&&(n=Number.POSITIVE_INFINITY),function(t){return t.lift(new Ye(e,i,n))}}var Ye=function(){function t(t,e,i){this.accumulator=t,this.seed=e,this.concurrent=i}return t.prototype.call=function(t,e){return e.subscribe(new Je(t,this.accumulator,this.seed,this.concurrent))},t}(),Je=function(r){function t(t,e,i,n){t=r.call(this,t)||this;return t.accumulator=e,t.acc=i,t.concurrent=n,t.hasValue=!1,t.hasCompleted=!1,t.buffer=[],t.active=0,t.index=0,t}return s.a(t,r),t.prototype._next=function(t){var e,i,n;this.active<this.concurrent?(e=this.index++,i=Object(u.a)(this.accumulator)(this.acc,t),n=this.destination,i===l.a?n.error(l.a.e):(this.active++,this._innerSub(i,t,e))):this.buffer.push(t)},t.prototype._innerSub=function(t,e,i){this.add(Object(c.a)(this,t,e,i))},t.prototype._complete=function(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&(!1===this.hasValue&&this.destination.next(this.acc),this.destination.complete())},t.prototype.notifyNext=function(t,e,i,n,r){var o=this.destination;this.acc=e,this.hasValue=!0,o.next(e)},t.prototype.notifyComplete=function(t){var e=this.buffer;this.remove(t),this.active--,0<e.length?this._next(e.shift()):0===this.active&&this.hasCompleted&&(!1===this.hasValue&&this.destination.next(this.acc),this.destination.complete())},t}(n.a);function Qe(i){return We("function"==typeof i?function(t,e){return i(t,e)<0?t:e}:function(t,e){return t<e?t:e})}var Xe=i(80);function $e(n,r){return function(t){var e="function"==typeof n?n:function(){return n};if("function"==typeof r)return t.lift(new Ze(e,r));var i=Object.create(t,Xe.b);return i.source=t,i.subjectFactory=e,i}}var Ze=function(){function t(t,e){this.subjectFactory=t,this.selector=e}return t.prototype.call=function(t,e){var i=this.selector,n=this.subjectFactory(),t=i(n).subscribe(t);return t.add(e.subscribe(n)),t},t}(),ti=i(82);function ei(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return 1===e.length&&Object(G.a)(e[0])&&(e=e[0]),function(t){return t.lift(new ii(e))}}var ii=function(){function t(t){this.nextSources=t}return t.prototype.call=function(t,e){return e.subscribe(new ni(t,this.nextSources))},t}(),ni=function(n){function t(t,e){var i=n.call(this,t)||this;return i.destination=t,i.nextSources=e,i}return s.a(t,n),t.prototype.notifyError=function(t,e){this.subscribeToNextSource()},t.prototype.notifyComplete=function(t){this.subscribeToNextSource()},t.prototype._error=function(t){this.subscribeToNextSource()},t.prototype._complete=function(){this.subscribeToNextSource()},t.prototype.subscribeToNextSource=function(){var t=this.nextSources.shift();t?this.add(Object(c.a)(this,t)):this.destination.complete()},t}(n.a);function ri(){return function(t){return t.lift(new oi)}}var oi=function(){function t(){}return t.prototype.call=function(t,e){return e.subscribe(new si(t))},t}(),si=function(e){function t(t){t=e.call(this,t)||this;return t.hasPrev=!1,t}return s.a(t,e),t.prototype._next=function(t){this.hasPrev?this.destination.next([this.prev,t]):this.hasPrev=!0,this.prev=t},t}(m.a);function ai(r,o){return function(t){return[Mt(r,o)(t),Mt((i=r,n=o,e.pred=i,e.thisArg=n,e))(t)];function e(){return!e.pred.apply(e.thisArg,arguments)}var i,n}}function ui(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var i=e.length;if(0===i)throw new Error("list of properties cannot be empty.");return function(t){return Object(re.a)((r=e,o=i,function(t){for(var e=t,i=0;i<o;i++){var n=e[r[i]];if(void 0===n)return;e=n}return e}))(t);var r,o}}var li=i(11);function ci(t){return t?$e(function(){return new li.a},t):$e(new li.a)}var di=i(81);function pi(e){return function(t){return $e(new di.a(e))(t)}}var hi=i(40);function fi(){return function(t){return $e(new hi.a)(t)}}var gi=i(55);function yi(t,e,i,n){i&&"function"!=typeof i&&(n=i);var r="function"==typeof i?i:void 0,o=new gi.a(t,e,n);return function(t){return $e(function(){return o},r)(t)}}var mi=i(86);function vi(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return function(t){return 1===e.length&&Object(G.a)(e[0])&&(e=e[0]),t.lift.call(mi.a.apply(void 0,[t].concat(e)))}}function bi(e){return void 0===e&&(e=-1),function(t){return 0===e?Object(Ht.b)():e<0?t.lift(new Si(-1,t)):t.lift(new Si(e-1,t))}}var Si=function(){function t(t,e){this.count=t,this.source=e}return t.prototype.call=function(t,e){return e.subscribe(new Ti(t,this.count,this.source))},t}(),Ti=function(n){function t(t,e,i){t=n.call(this,t)||this;return t.count=e,t.source=i,t}return s.a(t,n),t.prototype.complete=function(){if(!this.isStopped){var t=this.source,e=this.count;if(0===e)return n.prototype.complete.call(this);-1<e&&(this.count=e-1),t.subscribe(this._unsubscribeAndRecycle())}},t}(m.a);function Ci(e){return function(t){return t.lift(new _i(e))}}var _i=function(){function t(t){this.notifier=t}return t.prototype.call=function(t,e){return e.subscribe(new wi(t,this.notifier,e))},t}(),wi=function(n){function t(t,e,i){t=n.call(this,t)||this;return t.notifier=e,t.source=i,t.sourceIsBeingSubscribedTo=!0,t}return s.a(t,n),t.prototype.notifyNext=function(t,e,i,n,r){this.sourceIsBeingSubscribedTo=!0,this.source.subscribe(this)},t.prototype.notifyComplete=function(t){if(!1===this.sourceIsBeingSubscribedTo)return n.prototype.complete.call(this)},t.prototype.complete=function(){if(this.sourceIsBeingSubscribedTo=!1,!this.isStopped){if(this.retries||this.subscribeToRetries(),!this.retriesSubscription||this.retriesSubscription.closed)return n.prototype.complete.call(this);this._unsubscribeAndRecycle(),this.notifications.next()}},t.prototype._unsubscribe=function(){var t=this.notifications,e=this.retriesSubscription;t&&(t.unsubscribe(),this.notifications=null),e&&(e.unsubscribe(),this.retriesSubscription=null),this.retries=null},t.prototype._unsubscribeAndRecycle=function(){var t=this._unsubscribe;return this._unsubscribe=null,n.prototype._unsubscribeAndRecycle.call(this),this._unsubscribe=t,this},t.prototype.subscribeToRetries=function(){this.notifications=new li.a;var t=Object(u.a)(this.notifier)(this.notifications);if(t===l.a)return n.prototype.complete.call(this);this.retries=t,this.retriesSubscription=Object(c.a)(this,t)},t}(n.a);function xi(e){return void 0===e&&(e=-1),function(t){return t.lift(new Pi(e,t))}}var Pi=function(){function t(t,e){this.count=t,this.source=e}return t.prototype.call=function(t,e){return e.subscribe(new Oi(t,this.count,this.source))},t}(),Oi=function(n){function t(t,e,i){t=n.call(this,t)||this;return t.count=e,t.source=i,t}return s.a(t,n),t.prototype.error=function(t){if(!this.isStopped){var e=this.source,i=this.count;if(0===i)return n.prototype.error.call(this,t);-1<i&&(this.count=i-1),e.subscribe(this._unsubscribeAndRecycle())}},t}(m.a);function Ni(e){return function(t){return t.lift(new Ii(e,t))}}var Ii=function(){function t(t,e){this.notifier=t,this.source=e}return t.prototype.call=function(t,e){return e.subscribe(new Ei(t,this.notifier,this.source))},t}(),Ei=function(r){function t(t,e,i){t=r.call(this,t)||this;return t.notifier=e,t.source=i,t}return s.a(t,r),t.prototype.error=function(t){if(!this.isStopped){var e=this.errors,i=this.retries,n=this.retriesSubscription;if(i)this.errors=null,this.retriesSubscription=null;else{if(e=new li.a,(i=Object(u.a)(this.notifier)(e))===l.a)return r.prototype.error.call(this,l.a.e);n=Object(c.a)(this,i)}this._unsubscribeAndRecycle(),this.errors=e,this.retries=i,this.retriesSubscription=n,e.next(t)}},t.prototype._unsubscribe=function(){var t=this.errors,e=this.retriesSubscription;t&&(t.unsubscribe(),this.errors=null),e&&(e.unsubscribe(),this.retriesSubscription=null),this.retries=null},t.prototype.notifyNext=function(t,e,i,n,r){var o=this._unsubscribe;this._unsubscribe=null,this._unsubscribeAndRecycle(),this._unsubscribe=o,this.source.subscribe(this)},t}(n.a),Ai=i(54);function Di(e){return function(t){return t.lift(new Mi(e))}}var Mi=function(){function t(t){this.notifier=t}return t.prototype.call=function(t,e){t=new ki(t),e=e.subscribe(t);return e.add(Object(c.a)(t,this.notifier)),e},t}(),ki=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.hasValue=!1,t}return s.a(t,e),t.prototype._next=function(t){this.value=t,this.hasValue=!0},t.prototype.notifyNext=function(t,e,i,n,r){this.emitValue()},t.prototype.notifyComplete=function(){this.emitValue()},t.prototype.emitValue=function(){this.hasValue&&(this.hasValue=!1,this.destination.next(this.value))},t}(n.a);function Fi(e,i){return void 0===i&&(i=d.a),function(t){return t.lift(new Ri(e,i))}}var Ri=function(){function t(t,e){this.period=t,this.scheduler=e}return t.prototype.call=function(t,e){return e.subscribe(new Ui(t,this.period,this.scheduler))},t}(),Ui=function(n){function t(t,e,i){t=n.call(this,t)||this;return t.period=e,t.scheduler=i,t.hasValue=!1,t.add(i.schedule(ji,e,{subscriber:t,period:e})),t}return s.a(t,n),t.prototype._next=function(t){this.lastValue=t,this.hasValue=!0},t.prototype.notifyNext=function(){this.hasValue&&(this.hasValue=!1,this.destination.next(this.lastValue))},t}(m.a);function ji(t){var e=t.subscriber,i=t.period;e.notifyNext(),this.schedule(t,i)}function Li(e,i){return function(t){return t.lift(new Vi(e,i))}}var Vi=function(){function t(t,e){this.compareTo=t,this.comparor=e}return t.prototype.call=function(t,e){return e.subscribe(new Wi(t,this.compareTo,this.comparor))},t}(),Wi=function(r){function t(t,e,i){var n=r.call(this,t)||this;return n.compareTo=e,n.comparor=i,n._a=[],n._b=[],n._oneComplete=!1,n.add(e.subscribe(new Gi(t,n))),n}return s.a(t,r),t.prototype._next=function(t){this._oneComplete&&0===this._b.length?this.emit(!1):(this._a.push(t),this.checkValues())},t.prototype._complete=function(){this._oneComplete?this.emit(0===this._a.length&&0===this._b.length):this._oneComplete=!0},t.prototype.checkValues=function(){for(var t=this._a,e=this._b,i=this.comparor;0<t.length&&0<e.length;){var n=t.shift(),r=e.shift(),o=!1;i?(o=Object(u.a)(i)(n,r))===l.a&&this.destination.error(l.a.e):o=n===r,o||this.emit(!1)}},t.prototype.emit=function(t){var e=this.destination;e.next(t),e.complete()},t.prototype.nextB=function(t){this._oneComplete&&0===this._a.length?this.emit(!1):(this._b.push(t),this.checkValues())},t}(m.a),Gi=function(i){function t(t,e){t=i.call(this,t)||this;return t.parent=e,t}return s.a(t,i),t.prototype._next=function(t){this.parent.nextB(t)},t.prototype._error=function(t){this.parent.error(t)},t.prototype._complete=function(){this.parent._complete()},t}(m.a);function Bi(){return new li.a}function Hi(){return function(t){return Object(Ai.a)()($e(Bi)(t))}}function qi(e,c,d){return function(t){return t.lift((i=e,n=c,r=d,a=0,l=u=!1,function(t){a++,o&&!u||(u=!1,o=new gi.a(i,n,r),s=t.subscribe({next:function(t){o.next(t)},error:function(t){u=!0,o.error(t)},complete:function(){l=!0,o.complete()}}));var e=o.subscribe(this);return function(){a--,e.unsubscribe(),s&&0===a&&l&&s.unsubscribe()}}));var i,n,r,o,s,a,u,l}}function zi(e){return function(t){return t.lift(new Ki(e,t))}}var Ki=function(){function t(t,e){this.predicate=t,this.source=e}return t.prototype.call=function(t,e){return e.subscribe(new Yi(t,this.predicate,this.source))},t}(),Yi=function(n){function t(t,e,i){t=n.call(this,t)||this;return t.predicate=e,t.source=i,t.seenValue=!1,t.index=0,t}return s.a(t,n),t.prototype.applySingleValue=function(t){this.seenValue?this.destination.error("Sequence contains more than one element"):(this.seenValue=!0,this.singleValue=t)},t.prototype._next=function(t){var e=this.index++;this.predicate?this.tryNext(t,e):this.applySingleValue(t)},t.prototype.tryNext=function(t,e){try{this.predicate(t,e,this.source)&&this.applySingleValue(t)}catch(t){this.destination.error(t)}},t.prototype._complete=function(){var t=this.destination;0<this.index?(t.next(this.seenValue?this.singleValue:void 0),t.complete()):t.error(new Gt.a)},t}(m.a);function Ji(e){return function(t){return t.lift(new Qi(e))}}var Qi=function(){function t(t){this.total=t}return t.prototype.call=function(t,e){return e.subscribe(new Xi(t,this.total))},t}(),Xi=function(i){function t(t,e){t=i.call(this,t)||this;return t.total=e,t.count=0,t}return s.a(t,i),t.prototype._next=function(t){++this.count>this.total&&this.destination.next(t)},t}(m.a);function $i(e){return function(t){return t.lift(new Zi(e))}}var Zi=function(){function t(t){if(this._skipCount=t,this._skipCount<0)throw new Dt.a}return t.prototype.call=function(t,e){return 0===this._skipCount?e.subscribe(new m.a(t)):e.subscribe(new tn(t,this._skipCount))},t}(),tn=function(i){function t(t,e){t=i.call(this,t)||this;return t._skipCount=e,t._count=0,t._ring=new Array(e),t}return s.a(t,i),t.prototype._next=function(t){var e,i=this._skipCount,n=this._count++;n<i?this._ring[n]=t:(e=n%i,i=(n=this._ring)[e],n[e]=t,this.destination.next(i))},t}(m.a);function en(e){return function(t){return t.lift(new nn(e))}}var nn=function(){function t(t){this.notifier=t}return t.prototype.call=function(t,e){return e.subscribe(new rn(t,this.notifier))},t}(),rn=function(i){function t(t,e){t=i.call(this,t)||this;return t.hasValue=!1,t.add(t.innerSubscription=Object(c.a)(t,e)),t}return s.a(t,i),t.prototype._next=function(t){this.hasValue&&i.prototype._next.call(this,t)},t.prototype.notifyNext=function(t,e,i,n,r){this.hasValue=!0,this.innerSubscription&&this.innerSubscription.unsubscribe()},t.prototype.notifyComplete=function(){},t}(n.a);function on(e){return function(t){return t.lift(new sn(e))}}var sn=function(){function t(t){this.predicate=t}return t.prototype.call=function(t,e){return e.subscribe(new an(t,this.predicate))},t}(),an=function(i){function t(t,e){t=i.call(this,t)||this;return t.predicate=e,t.skipping=!0,t.index=0,t}return s.a(t,i),t.prototype._next=function(t){var e=this.destination;this.skipping&&this.tryCallPredicate(t),this.skipping||e.next(t)},t.prototype.tryCallPredicate=function(t){try{var e=this.predicate(t,this.index++);this.skipping=Boolean(e)}catch(t){this.destination.error(t)}},t}(m.a);function un(){for(var n=[],t=0;t<arguments.length;t++)n[t]=arguments[t];return function(t){var e=n[n.length-1];Object(C.a)(e)?n.pop():e=null;var i=n.length;return 1!==i||e?0<i?Object(q.a)(Object(Jt.a)(n,e),t):Object(q.a)(Object(Ht.b)(e),t):Object(q.a)(Object(Qt.a)(n[0]),t)}}var ln=i(63),cn=i(42),dn=function(r){function n(t,e,i){void 0===e&&(e=0),void 0===i&&(i=ln.a);var n=r.call(this)||this;return n.source=t,n.delayTime=e,n.scheduler=i,(!Object(cn.a)(e)||e<0)&&(n.delayTime=0),i&&"function"==typeof i.schedule||(n.scheduler=ln.a),n}return s.a(n,r),n.create=function(t,e,i){return new n(t,e=void 0===e?0:e,i=void 0===i?ln.a:i)},n.dispatch=function(t){var e=t.source,t=t.subscriber;return this.add(e.subscribe(t))},n.prototype._subscribe=function(t){var e=this.delayTime,i=this.source;return this.scheduler.schedule(n.dispatch,e,{source:i,subscriber:t})},n}(yt.a);function pn(e,i){return void 0===i&&(i=0),function(t){return t.lift(new hn(e,i))}}var hn=function(){function t(t,e){this.scheduler=t,this.delay=e}return t.prototype.call=function(t,e){return new dn(e,this.delay,this.scheduler).subscribe(t)},t}();function fn(e,r){return"function"==typeof r?function(t){return t.pipe(fn(function(i,n){return Object(B.a)(e(i,n)).pipe(Object(re.a)(function(t,e){return r(i,t,n,e)}))}))}:function(t){return t.lift(new gn(e))}}var gn=function(){function t(t){this.project=t}return t.prototype.call=function(t,e){return e.subscribe(new yn(t,this.project))},t}(),yn=function(i){function t(t,e){t=i.call(this,t)||this;return t.project=e,t.index=0,t}return s.a(t,i),t.prototype._next=function(t){var e,i=this.index++;try{e=this.project(t,i)}catch(t){return void this.destination.error(t)}this._innerSub(e,t,i)},t.prototype._innerSub=function(t,e,i){var n=this.innerSubscription;n&&n.unsubscribe(),this.add(this.innerSubscription=Object(c.a)(this,t,e,i))},t.prototype._complete=function(){var t=this.innerSubscription;t&&!t.closed||i.prototype._complete.call(this)},t.prototype._unsubscribe=function(){this.innerSubscription=null},t.prototype.notifyComplete=function(t){this.remove(t),this.innerSubscription=null,this.isStopped&&i.prototype._complete.call(this)},t.prototype.notifyNext=function(t,e,i,n,r){this.destination.next(e)},t}(n.a);function mn(){return fn(ve.a)}function vn(t,e){return e?fn(function(){return t},e):fn(function(){return t})}function bn(e){return function(t){return t.lift(new Sn(e))}}var Sn=function(){function t(t){this.notifier=t}return t.prototype.call=function(t,e){var i=new Tn(t),t=Object(c.a)(i,this.notifier);return t&&!t.closed?(i.add(t),e.subscribe(i)):i},t}(),Tn=function(e){function t(t){return e.call(this,t)||this}return s.a(t,e),t.prototype.notifyNext=function(t,e,i,n,r){this.complete()},t.prototype.notifyComplete=function(){},t}(n.a);function Cn(e){return function(t){return t.lift(new _n(e))}}var _n=function(){function t(t){this.predicate=t}return t.prototype.call=function(t,e){return e.subscribe(new wn(t,this.predicate))},t}(),wn=function(i){function t(t,e){t=i.call(this,t)||this;return t.predicate=e,t.index=0,t}return s.a(t,i),t.prototype._next=function(t){var e,i=this.destination;try{e=this.predicate(t,this.index++)}catch(t){return void i.error(t)}this.nextOrComplete(t,e)},t.prototype.nextOrComplete=function(t,e){var i=this.destination;Boolean(e)?i.next(t):i.complete()},t}(m.a),xn={leading:!0,trailing:!1};function Pn(e,i){return void 0===i&&(i=xn),function(t){return t.lift(new On(e,i.leading,i.trailing))}}var On=function(){function t(t,e,i){this.durationSelector=t,this.leading=e,this.trailing=i}return t.prototype.call=function(t,e){return e.subscribe(new Nn(t,this.durationSelector,this.leading,this.trailing))},t}(),Nn=function(o){function t(t,e,i,n){var r=o.call(this,t)||this;return r.destination=t,r.durationSelector=e,r._leading=i,r._trailing=n,r._hasValue=!1,r}return s.a(t,o),t.prototype._next=function(t){this._hasValue=!0,this._sendValue=t,this._throttled||(this._leading?this.send():this.throttle(t))},t.prototype.send=function(){var t=this._hasValue,e=this._sendValue;t&&(this.destination.next(e),this.throttle(e)),this._hasValue=!1,this._sendValue=null},t.prototype.throttle=function(t){t=this.tryDurationSelector(t);t&&this.add(this._throttled=Object(c.a)(this,t))},t.prototype.tryDurationSelector=function(t){try{return this.durationSelector(t)}catch(t){return this.destination.error(t),null}},t.prototype.throttlingDone=function(){var t=this._throttled,e=this._trailing;t&&t.unsubscribe(),this._throttled=null,e&&this.send()},t.prototype.notifyNext=function(t,e,i,n,r){this.throttlingDone()},t.prototype.notifyComplete=function(){this.throttlingDone()},t}(n.a);function In(e,i,n){return void 0===i&&(i=d.a),void 0===n&&(n=xn),function(t){return t.lift(new En(e,i,n.leading,n.trailing))}}var En=function(){function t(t,e,i,n){this.duration=t,this.scheduler=e,this.leading=i,this.trailing=n}return t.prototype.call=function(t,e){return e.subscribe(new An(t,this.duration,this.scheduler,this.leading,this.trailing))},t}(),An=function(o){function t(t,e,i,n,r){t=o.call(this,t)||this;return t.duration=e,t.scheduler=i,t.leading=n,t.trailing=r,t._hasTrailingValue=!1,t._trailingValue=null,t}return s.a(t,o),t.prototype._next=function(t){this.throttled?this.trailing&&(this._trailingValue=t,this._hasTrailingValue=!0):(this.add(this.throttled=this.scheduler.schedule(Dn,this.duration,{subscriber:this})),this.leading&&this.destination.next(t))},t.prototype._complete=function(){this._hasTrailingValue&&this.destination.next(this._trailingValue),this.destination.complete()},t.prototype.clearThrottle=function(){var t=this.throttled;t&&(this.trailing&&this._hasTrailingValue&&(this.destination.next(this._trailingValue),this._trailingValue=null,this._hasTrailingValue=!1),t.unsubscribe(),this.remove(t),this.throttled=null)},t}(m.a);function Dn(t){t.subscriber.clearThrottle()}var Mn=i(60);function kn(i){return void 0===i&&(i=d.a),function(t){return Object(Mn.a)(function(){return t.pipe(Ue(function(t,e){t=t.current;return{value:e,current:i.now(),last:t}},{current:i.now(),value:void 0,last:void 0}),Object(re.a)(function(t){var e=t.current,i=t.last,t=t.value;return new Fn(t,e-i)}))})}}var Fn=function(){return function(t,e){this.value=t,this.interval=e}}(),Rn=i(83);function Un(n,r,o){return void 0===o&&(o=d.a),function(t){var e=ct(n),i=e?+n-o.now():Math.abs(n);return t.lift(new jn(i,e,r,o))}}var jn=function(){function t(t,e,i,n){this.waitFor=t,this.absoluteTimeout=e,this.withObservable=i,this.scheduler=n}return t.prototype.call=function(t,e){return e.subscribe(new Ln(t,this.absoluteTimeout,this.waitFor,this.withObservable,this.scheduler))},t}(),Ln=function(o){function e(t,e,i,n,r){t=o.call(this,t)||this;return t.absoluteTimeout=e,t.waitFor=i,t.withObservable=n,t.scheduler=r,t.action=null,t.scheduleTimeout(),t}return s.a(e,o),e.dispatchTimeout=function(t){var e=t.withObservable;t._unsubscribeAndRecycle(),t.add(Object(c.a)(t,e))},e.prototype.scheduleTimeout=function(){var t=this.action;t?this.action=t.schedule(this,this.waitFor):this.add(this.action=this.scheduler.schedule(e.dispatchTimeout,this.waitFor,this))},e.prototype._next=function(t){this.absoluteTimeout||this.scheduleTimeout(),o.prototype._next.call(this,t)},e.prototype._unsubscribe=function(){this.action=null,this.scheduler=null,this.withObservable=null},e}(n.a),Vn=i(57);function Wn(t,e){return void 0===e&&(e=d.a),Un(t,Object(Vn.a)(new Rn.a),e)}function Gn(e){return void 0===e&&(e=d.a),Object(re.a)(function(t){return new Bn(t,e.now())})}var Bn=function(){return function(t,e){this.value=t,this.timestamp=e}}();function Hn(t,e,i){return 0===i?[e]:(t.push(e),t)}function qn(){return We(Hn,[])}function zn(e){return function(t){return t.lift(new Kn(e))}}var Kn=function(){function t(t){this.windowBoundaries=t}return t.prototype.call=function(t,e){t=new Yn(t),e=e.subscribe(t);return e.closed||t.add(Object(c.a)(t,this.windowBoundaries)),e},t}(),Yn=function(i){function t(t){var e=i.call(this,t)||this;return e.window=new li.a,t.next(e.window),e}return s.a(t,i),t.prototype.notifyNext=function(t,e,i,n,r){this.openWindow()},t.prototype.notifyError=function(t,e){this._error(t)},t.prototype.notifyComplete=function(t){this._complete()},t.prototype._next=function(t){this.window.next(t)},t.prototype._error=function(t){this.window.error(t),this.destination.error(t)},t.prototype._complete=function(){this.window.complete(),this.destination.complete()},t.prototype._unsubscribe=function(){this.window=null},t.prototype.openWindow=function(){var t=this.window;t&&t.complete();var e=this.destination,t=this.window=new li.a;e.next(t)},t}(n.a);function Jn(e,i){return void 0===i&&(i=0),function(t){return t.lift(new Qn(e,i))}}var Qn=function(){function t(t,e){this.windowSize=t,this.startWindowEvery=e}return t.prototype.call=function(t,e){return e.subscribe(new Xn(t,this.windowSize,this.startWindowEvery))},t}(),Xn=function(r){function t(t,e,i){var n=r.call(this,t)||this;return n.destination=t,n.windowSize=e,n.startWindowEvery=i,n.windows=[new li.a],n.count=0,t.next(n.windows[0]),n}return s.a(t,r),t.prototype._next=function(t){for(var e=0<this.startWindowEvery?this.startWindowEvery:this.windowSize,i=this.destination,n=this.windowSize,r=this.windows,o=r.length,s=0;s<o&&!this.closed;s++)r[s].next(t);n=this.count-n+1;0<=n&&n%e==0&&!this.closed&&r.shift().complete(),++this.count%e!=0||this.closed||(e=new li.a,r.push(e),i.next(e))},t.prototype._error=function(t){var e=this.windows;if(e)for(;0<e.length&&!this.closed;)e.shift().error(t);this.destination.error(t)},t.prototype._complete=function(){var t=this.windows;if(t)for(;0<t.length&&!this.closed;)t.shift().complete();this.destination.complete()},t.prototype._unsubscribe=function(){this.count=0,this.windows=null},t}(m.a);function $n(e){var i=d.a,n=null,r=Number.POSITIVE_INFINITY;return Object(C.a)(arguments[3])&&(i=arguments[3]),Object(C.a)(arguments[2])?i=arguments[2]:Object(cn.a)(arguments[2])&&(r=arguments[2]),Object(C.a)(arguments[1])?i=arguments[1]:Object(cn.a)(arguments[1])&&(n=arguments[1]),function(t){return t.lift(new Zn(e,n,r,i))}}var Zn=function(){function t(t,e,i,n){this.windowTimeSpan=t,this.windowCreationInterval=e,this.maxWindowSize=i,this.scheduler=n}return t.prototype.call=function(t,e){return e.subscribe(new er(t,this.windowTimeSpan,this.windowCreationInterval,this.maxWindowSize,this.scheduler))},t}(),tr=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._numberOfNextedValues=0,t}return s.a(t,e),t.prototype.next=function(t){this._numberOfNextedValues++,e.prototype.next.call(this,t)},Object.defineProperty(t.prototype,"numberOfNextedValues",{get:function(){return this._numberOfNextedValues},enumerable:!0,configurable:!0}),t}(li.a),er=function(a){function t(t,e,i,n,r){var o=a.call(this,t)||this;o.destination=t,o.windowTimeSpan=e,o.windowCreationInterval=i,o.maxWindowSize=n,o.scheduler=r,o.windows=[];var s=o.openWindow();return null!==i&&0<=i?(t={subscriber:o,window:s,context:null},n={windowTimeSpan:e,windowCreationInterval:i,subscriber:o,scheduler:r},o.add(r.schedule(rr,e,t)),o.add(r.schedule(nr,i,n))):(s={subscriber:o,window:s,windowTimeSpan:e},o.add(r.schedule(ir,e,s))),o}return s.a(t,a),t.prototype._next=function(t){for(var e=this.windows,i=e.length,n=0;n<i;n++){var r=e[n];r.closed||(r.next(t),r.numberOfNextedValues>=this.maxWindowSize&&this.closeWindow(r))}},t.prototype._error=function(t){for(var e=this.windows;0<e.length;)e.shift().error(t);this.destination.error(t)},t.prototype._complete=function(){for(var t=this.windows;0<t.length;){var e=t.shift();e.closed||e.complete()}this.destination.complete()},t.prototype.openWindow=function(){var t=new tr;return this.windows.push(t),this.destination.next(t),t},t.prototype.closeWindow=function(t){t.complete();var e=this.windows;e.splice(e.indexOf(t),1)},t}(m.a);function ir(t){var e=t.subscriber,i=t.windowTimeSpan,n=t.window;n&&e.closeWindow(n),t.window=e.openWindow(),this.schedule(t,i)}function nr(t){var e=t.windowTimeSpan,i=t.subscriber,n=t.scheduler,r=t.windowCreationInterval,o=i.openWindow(),s={action:this,subscription:null},o={subscriber:i,window:o,context:s};s.subscription=n.schedule(rr,e,o),this.add(s.subscription),this.schedule(t,r)}function rr(t){var e=t.subscriber,i=t.window,t=t.context;t&&t.action&&t.subscription&&t.action.remove(t.subscription),e.closeWindow(i)}function or(e,i){return function(t){return t.lift(new sr(e,i))}}var sr=function(){function t(t,e){this.openings=t,this.closingSelector=e}return t.prototype.call=function(t,e){return e.subscribe(new ar(t,this.openings,this.closingSelector))},t}(),ar=function(o){function t(t,e,i){t=o.call(this,t)||this;return t.openings=e,t.closingSelector=i,t.contexts=[],t.add(t.openSubscription=Object(c.a)(t,e,e)),t}return s.a(t,o),t.prototype._next=function(t){var e=this.contexts;if(e)for(var i=e.length,n=0;n<i;n++)e[n].window.next(t)},t.prototype._error=function(t){var e=this.contexts;if(this.contexts=null,e)for(var i=e.length,n=-1;++n<i;){var r=e[n];r.window.error(t),r.subscription.unsubscribe()}o.prototype._error.call(this,t)},t.prototype._complete=function(){var t=this.contexts;if(this.contexts=null,t)for(var e=t.length,i=-1;++i<e;){var n=t[i];n.window.complete(),n.subscription.unsubscribe()}o.prototype._complete.call(this)},t.prototype._unsubscribe=function(){var t=this.contexts;if(this.contexts=null,t)for(var e=t.length,i=-1;++i<e;){var n=t[i];n.window.unsubscribe(),n.subscription.unsubscribe()}},t.prototype.notifyNext=function(t,e,i,n,r){if(t===this.openings){var o=this.closingSelector,s=Object(u.a)(o)(e);if(s===l.a)return this.error(l.a.e);var a=new li.a,o=new E.a,e={window:a,subscription:o};this.contexts.push(e);s=Object(c.a)(this,s,e);s.closed?this.closeWindow(this.contexts.length-1):(s.context=e,o.add(s)),this.destination.next(a)}else this.closeWindow(this.contexts.indexOf(t))},t.prototype.notifyError=function(t){this.error(t)},t.prototype.notifyComplete=function(t){t!==this.openSubscription&&this.closeWindow(this.contexts.indexOf(t.context))},t.prototype.closeWindow=function(t){var e,i,n;-1!==t&&(i=(n=(e=this.contexts)[t]).window,n=n.subscription,e.splice(t,1),i.complete(),n.unsubscribe())},t}(n.a);function ur(e){return function(t){return t.lift(new lr(e))}}var lr=function(){function t(t){this.closingSelector=t}return t.prototype.call=function(t,e){return e.subscribe(new cr(t,this.closingSelector))},t}(),cr=function(n){function t(t,e){var i=n.call(this,t)||this;return i.destination=t,i.closingSelector=e,i.openWindow(),i}return s.a(t,n),t.prototype.notifyNext=function(t,e,i,n,r){this.openWindow(r)},t.prototype.notifyError=function(t,e){this._error(t)},t.prototype.notifyComplete=function(t){this.openWindow(t)},t.prototype._next=function(t){this.window.next(t)},t.prototype._error=function(t){this.window.error(t),this.destination.error(t),this.unsubscribeClosingNotification()},t.prototype._complete=function(){this.window.complete(),this.destination.complete(),this.unsubscribeClosingNotification()},t.prototype.unsubscribeClosingNotification=function(){this.closingNotification&&this.closingNotification.unsubscribe()},t.prototype.openWindow=function(t){(t=void 0===t?null:t)&&(this.remove(t),t.unsubscribe());var e=this.window;e&&e.complete();t=this.window=new li.a;this.destination.next(t);e=Object(u.a)(this.closingSelector)();e===l.a?(t=l.a.e,this.destination.error(t),this.window.error(t)):this.add(this.closingNotification=Object(c.a)(this,e))},t}(n.a);function dr(){for(var i=[],t=0;t<arguments.length;t++)i[t]=arguments[t];return function(t){var e;"function"==typeof i[i.length-1]&&(e=i.pop());return t.lift(new pr(i,e))}}var pr=function(){function t(t,e){this.observables=t,this.project=e}return t.prototype.call=function(t,e){return e.subscribe(new hr(t,this.observables,this.project))},t}(),hr=function(a){function t(t,e,i){var n=a.call(this,t)||this;n.observables=e,n.project=i,n.toRespond=[];var r=e.length;n.values=new Array(r);for(var o=0;o<r;o++)n.toRespond.push(o);for(o=0;o<r;o++){var s=e[o];n.add(Object(c.a)(n,s,s,o))}return n}return s.a(t,a),t.prototype.notifyNext=function(t,e,i,n,r){this.values[i]=e;e=this.toRespond;0<e.length&&(-1!==(i=e.indexOf(i))&&e.splice(i,1))},t.prototype.notifyComplete=function(){},t.prototype._next=function(t){0===this.toRespond.length&&(t=[t].concat(this.values),this.project?this._tryProject(t):this.destination.next(t))},t.prototype._tryProject=function(t){var e;try{e=this.project.apply(this,t)}catch(t){return void this.destination.error(t)}this.destination.next(e)},t}(n.a),fr=i(61);function gr(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return function(t){return t.lift.call(fr.b.apply(void 0,[t].concat(e)))}}function yr(e){return function(t){return t.lift(new fr.a(e))}}i.d(e,"audit",function(){return r}),i.d(e,"auditTime",function(){return h}),i.d(e,"buffer",function(){return f}),i.d(e,"bufferCount",function(){return v}),i.d(e,"bufferTime",function(){return _}),i.d(e,"bufferToggle",function(){return A}),i.d(e,"bufferWhen",function(){return k}),i.d(e,"catchError",function(){return U}),i.d(e,"combineAll",function(){return W}),i.d(e,"combineLatest",function(){return H}),i.d(e,"concat",function(){return z}),i.d(e,"concatAll",function(){return K.a}),i.d(e,"concatMap",function(){return J}),i.d(e,"concatMapTo",function(){return Q}),i.d(e,"count",function(){return X}),i.d(e,"debounce",function(){return tt}),i.d(e,"debounceTime",function(){return nt}),i.d(e,"defaultIfEmpty",function(){return at}),i.d(e,"delay",function(){return pt}),i.d(e,"delayWhen",function(){return mt}),i.d(e,"dematerialize",function(){return Ct}),i.d(e,"distinct",function(){return xt}),i.d(e,"distinctUntilChanged",function(){return Nt}),i.d(e,"distinctUntilKeyChanged",function(){return At}),i.d(e,"elementAt",function(){return Yt}),i.d(e,"endWith",function(){return Xt}),i.d(e,"every",function(){return $t}),i.d(e,"exhaust",function(){return ee}),i.d(e,"exhaustMap",function(){return oe}),i.d(e,"expand",function(){return ue}),i.d(e,"filter",function(){return Mt}),i.d(e,"finalize",function(){return de}),i.d(e,"find",function(){return fe}),i.d(e,"findIndex",function(){return me}),i.d(e,"first",function(){return be}),i.d(e,"groupBy",function(){return Se.b}),i.d(e,"ignoreElements",function(){return Te}),i.d(e,"isEmpty",function(){return we}),i.d(e,"last",function(){return Ee}),i.d(e,"map",function(){return re.a}),i.d(e,"mapTo",function(){return Ae}),i.d(e,"materialize",function(){return ke}),i.d(e,"max",function(){return Ge}),i.d(e,"merge",function(){return He}),i.d(e,"mergeAll",function(){return qe.a}),i.d(e,"mergeMap",function(){return Y.a}),i.d(e,"flatMap",function(){return Y.a}),i.d(e,"mergeMapTo",function(){return ze}),i.d(e,"mergeScan",function(){return Ke}),i.d(e,"min",function(){return Qe}),i.d(e,"multicast",function(){return $e}),i.d(e,"observeOn",function(){return ti.b}),i.d(e,"onErrorResumeNext",function(){return ei}),i.d(e,"pairwise",function(){return ri}),i.d(e,"partition",function(){return ai}),i.d(e,"pluck",function(){return ui}),i.d(e,"publish",function(){return ci}),i.d(e,"publishBehavior",function(){return pi}),i.d(e,"publishLast",function(){return fi}),i.d(e,"publishReplay",function(){return yi}),i.d(e,"race",function(){return vi}),i.d(e,"reduce",function(){return We}),i.d(e,"repeat",function(){return bi}),i.d(e,"repeatWhen",function(){return Ci}),i.d(e,"retry",function(){return xi}),i.d(e,"retryWhen",function(){return Ni}),i.d(e,"refCount",function(){return Ai.a}),i.d(e,"sample",function(){return Di}),i.d(e,"sampleTime",function(){return Fi}),i.d(e,"scan",function(){return Ue}),i.d(e,"sequenceEqual",function(){return Li}),i.d(e,"share",function(){return Hi}),i.d(e,"shareReplay",function(){return qi}),i.d(e,"single",function(){return zi}),i.d(e,"skip",function(){return Ji}),i.d(e,"skipLast",function(){return $i}),i.d(e,"skipUntil",function(){return en}),i.d(e,"skipWhile",function(){return on}),i.d(e,"startWith",function(){return un}),i.d(e,"subscribeOn",function(){return pn}),i.d(e,"switchAll",function(){return mn}),i.d(e,"switchMap",function(){return fn}),i.d(e,"switchMapTo",function(){return vn}),i.d(e,"take",function(){return qt}),i.d(e,"takeLast",function(){return Oe}),i.d(e,"takeUntil",function(){return bn}),i.d(e,"takeWhile",function(){return Cn}),i.d(e,"tap",function(){return jt}),i.d(e,"throttle",function(){return Pn}),i.d(e,"throttleTime",function(){return In}),i.d(e,"throwIfEmpty",function(){return Lt}),i.d(e,"timeInterval",function(){return kn}),i.d(e,"timeout",function(){return Wn}),i.d(e,"timeoutWith",function(){return Un}),i.d(e,"timestamp",function(){return Gn}),i.d(e,"toArray",function(){return qn}),i.d(e,"window",function(){return zn}),i.d(e,"windowCount",function(){return Jn}),i.d(e,"windowTime",function(){return $n}),i.d(e,"windowToggle",function(){return or}),i.d(e,"windowWhen",function(){return ur}),i.d(e,"withLatestFrom",function(){return dr}),i.d(e,"zip",function(){return gr}),i.d(e,"zipAll",function(){return yr})},function(t,e,i){"use strict";var a=i(2),u=i(95),l=i(94),c=i(29);var d=i(26);var p=i(21),h=i(7),f=i(96);var g=i(97);var y=i(93);var m=i(92);function n(t,e){if(!e)return t instanceof a.a?t:new a.a(Object(m.a)(t));if(null!=t){if((i=t)&&"function"==typeof i[c.a])return o=t,(s=e)?new a.a(function(e){var i=new h.a;return i.add(s.schedule(function(){var t=o[c.a]();i.add(t.subscribe({next:function(t){i.add(s.schedule(function(){return e.next(t)}))},error:function(t){i.add(s.schedule(function(){return e.error(t)}))},complete:function(){i.add(s.schedule(function(){return e.complete()}))}}))})),i}):new a.a(Object(y.a)(o));if(Object(u.a)(t))return n=t,(r=e)?new a.a(function(e){var i=new h.a;return i.add(r.schedule(function(){return n.then(function(t){i.add(r.schedule(function(){e.next(t),i.add(r.schedule(function(){return e.complete()}))}))},function(t){i.add(r.schedule(function(){return e.error(t)}))})})),i}):new a.a(Object(f.a)(n));if(Object(l.a)(t))return Object(p.a)(t,e);if((i=t)&&"function"==typeof i[d.a]||"string"==typeof t)return function(e,i){if(!e)throw new Error("Iterable cannot be null");return i?new a.a(function(n){var r,t=new h.a;return t.add(function(){r&&"function"==typeof r.return&&r.return()}),t.add(i.schedule(function(){r=e[d.a](),t.add(i.schedule(function(){if(!n.closed){try{var t=r.next(),e=t.value,i=t.done}catch(t){return void n.error(t)}i?n.complete():(n.next(e),this.schedule())}}))})),t}):new a.a(Object(g.a)(e))}(t,e)}var n,r,o,s,i;throw new TypeError((null!==t&&typeof t||t)+" is not observable")}i.d(e,"a",function(){return n})},function(t,e,i){"use strict";i.d(e,"a",function(){return n});var o=i(2),s=i(7),a=i(91);function n(n,r){return r?new o.a(function(t){var e=new s.a,i=0;return e.add(r.schedule(function(){i!==n.length?(t.next(n[i++]),t.closed||e.add(this.schedule())):t.complete()})),e}):new o.a(Object(a.a)(n))}},function(t,e,i){"use strict";i.d(e,"a",function(){return r});var n=!1,r={Promise:void 0,set useDeprecatedSynchronousErrorHandling(t){t&&(new Error).stack,n=t},get useDeprecatedSynchronousErrorHandling(){return n}}},function(t,e,i){"use strict";function n(){}i.d(e,"a",function(){return n})},function(t,e,i){"use strict";function n(t){return t}i.d(e,"a",function(){return n})},function(t,e,i){"use strict";i.d(e,"a",function(){return s});var n=i(12),r=i(56),o=i(57),s=function(){function e(t,e,i){this.kind=t,this.value=e,this.error=i,this.hasValue="N"===t}return e.prototype.observe=function(t){switch(this.kind){case"N":return t.next&&t.next(this.value);case"E":return t.error&&t.error(this.error);case"C":return t.complete&&t.complete()}},e.prototype.do=function(t,e,i){switch(this.kind){case"N":return t&&t(this.value);case"E":return e&&e(this.error);case"C":return i&&i()}},e.prototype.accept=function(t,e,i){return t&&"function"==typeof t.next?this.observe(t):this.do(t,e,i)},e.prototype.toObservable=function(){switch(this.kind){case"N":return Object(r.a)(this.value);case"E":return Object(o.a)(this.error);case"C":return Object(n.b)()}throw new Error("unexpected notification kind value")},e.createNext=function(t){return void 0!==t?new e("N",t):e.undefinedValueNotification},e.createError=function(t){return new e("E",void 0,t)},e.createComplete=function(){return e.completeNotification},e.completeNotification=new e("C"),e.undefinedValueNotification=new e("N",void 0),e}()},function(t,e,i){"use strict";function n(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}i.d(e,"a",function(){return r});var r=n()},function(t,e,i){"use strict";var n,r=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var o=i(5),s=i(28),a=i(6),u=i(9),i=i(10),l=i.pdsLogger.prependLogger(i.pdsLogger.requiresLogger("input-widgets"),"pds-abstract-input-widget.ts");e.allInputTagsSelector="pds-number-widget,pds-date-widget,pds-select-widget,pds-text-widget,pds-time-widget,pds-rich-text-editor,pds-file-picker-widget,pds-radio-button-widget,pds-checkbox-widget,pds-textarea-widget,pds-multi-select-widget";var c,r=(c=o.PdsWidget,r(d,c),d.prototype.attributeChanged=function(){l("attributeChange() called"),this.generateValidationRules()},d.prototype.ready=function(){var t=this;l("ready() called"),c.prototype.ready.call(this),this.errorMessage="",this.isValid=!0,this.invalidRule="",this.isAttached=!1,this.isBadgeElevated=!1,this.isBadgeHidden=!0,this.showTooltip=!1,this.showValidIndicator=!1,this.originalBadgeText="",this.messageKeysUpdated(),this.generateValidationRules(),this.myErrorField=this.querySelector(".pds-validation"),this.showErrorMessage(!1),setTimeout(function(){t.disableErrorMessageLabelText||null!=t.dataLabelText&&0!==t.dataLabelText.length||console.error("There needs to be a data-label-text attribute to this input widget",t)})},d.prototype.inputSelector=function(){return this.querySelector("input")},d.prototype.inputChange=function(){l("inputChange() called"),this.validateWidget(),this.setValue(this.value),this.dispatchEvent(new Event("modelValueChange",{bubbles:!0}))},d.prototype.focusLost=function(t){l("focus lost"),null!=this.blurInterceptor&&this.blurInterceptor(this),this.validateWidget(!0,!0),this.dispatchEvent(new Event("blur"))},d.prototype.showErrorMessage=function(t){l("showErrorMessage("+t+") called. this.errorMessage: "+this.errorMessage),null!=this.myErrorField&&(u.pdsUtils.toggleClass(this.myErrorField,"sr-only",0===this.errorMessage.length||!t),this.myErrorField.textContent=this.errorMessage)},Object.defineProperty(d.prototype,"value",{get:function(){var t=this.inputSelector();if(null!=t)return l("get value() called - value: "+t.value),t.value;l("get value() called - inputSelector not there yet")},set:function(t){l("set value("+t+") called"),this.setValue(t),this.setReadonlyText()},enumerable:!0,configurable:!0}),Object.defineProperty(d.prototype,"modelValue",{get:function(){var t=this.inputSelector();if(null!=t)return l("get modelValue() called - value: "+t.modelValue),t.modelValue;l("get modelValue() called - inputSelector not there yet")},set:function(t){l("set modelValue("+t+")"),this.setModelValue(t)&&(t=this.isErrorMessageShowing(),this.validateWidget(t)),this.setReadonlyText()},enumerable:!0,configurable:!0}),d.prototype.isErrorMessageShowing=function(){return null!=this.myErrorField&&!this.myErrorField.classList.contains("sr-only")},d.prototype.validateWidget=function(t,e){l("validateWidget("+t+", "+e+") called."),null==e&&(e=!1);var i=this.runValidationEngine();this.isValid=i.isValid,!0!==t&&!e||(this.showValidIndicator=!0),this.isValid?(this.setError(""),this.invalidRule=""):(this.invalidRule=i.invalidRule,"isRequired"===i.invalidRule?this.setError(""):this.setError(i.errorMessage)),this.setUpBadge();i=!1;return!this.isValid&&0<this.errorMessage.length&&(e&&!this.errorPresentWhenBlurOccurred&&(this.errorPresentWhenBlurOccurred=!0),i=null==t?this.errorPresentWhenBlurOccurred:t),this.showErrorMessage(i),this.isValid},d.prototype.runValidationEngine=function(){return s.pdsValidationRulesEngine.validate(this.value,this.validators)},d.prototype.setError=function(t){null!=t&&""!==t.trim()?this.errorMessage=t:this.errorMessage=""},d.prototype.attached=function(){l("attached() called");var t=this.getAttribute("value");null!=t&&(this.removeAttribute("value"),this.value=t),this.isAttached=!0,this.setUpBadge()},d.prototype.setReadonlyText=function(){var t;null==this.dataIsreadonly||null==this.value||null!=(t=this.querySelector(".pds-readonly-data"))&&("true"===this.dataIsreadonly?t.innerText=this.value:t.innerText="")},d.prototype.setUpBadge=function(){var t,e,i,n;l("setUpBadge() called.  isValid: "+this.isValid),this.isAttached&&(t=!this.isValid&&"true"!==this.dataDisableInvalidBadgeElevation&&"isRequired"===this.invalidRule&&"true"===this.dataIsrequired,e=this.hasAttribute("data-badge-text")&&null!=this.dataBadgeText&&0<this.dataBadgeText.length,i="true"===this.dataHideUnelevatedBadge&&!t,n="true"===this.dataIsrequired,this.isBadgeElevated=t,null!=this.dataBadgeText&&null!=this.dataBadgeText&&0<this.dataBadgeText.length&&""===this.originalBadgeText&&(this.originalBadgeText=this.dataBadgeText),"true"===this.dataIsrequired?this.dataBadgeText=a.pdsI18n.getText("pds|common|Required"):e?e&&(this.dataBadgeText=this.originalBadgeText):this.originalBadgeText="",this.isBadgeHidden=i||!n&&!e)},d.prototype.resetInputWidgetState=function(){l("resetInputWidgetState() called"),this.errorPresentWhenBlurOccurred=!1,this.showErrorMessage(!1),this.isValid=!0},d.prototype.showLabel=function(t,e){return null!=e&&0<e.length&&"false"!==t},d.prototype.showFieldHelp=function(t){return null!=this.dataTooltipText&&0<this.dataTooltipText.length},d.prototype.showHelperText=function(t){return null!=this.dataHelperText&&0<this.dataHelperText.length},d.prototype.canShowIndicator=function(t,e){return"true"===t&&e},d.prototype.canShowLoadingIndicator=function(t,e){return"loading"===t&&e},d.prototype.actionButtonClickHandler=function(t){this.fire("actionButtonEvent",t)},d.prototype.dispatchInputEvent=function(t){var e=new Event("input",{bubbles:!0});t.dispatchEvent(e)},d.prototype.isDisabled=function(){return"true"===this.disabled||"disabled"===this.disabled?"disabled":null},d.prototype.getDisabledTextIfDisabled=function(t){return this.isDisabled()?a.pdsI18n.getText("pds|common|Disabled field "):""},d);function d(){var t=null!==c&&c.apply(this,arguments)||this;return t.errorPresentWhenBlurOccurred=!1,t}e.PdsAbstractInputWidget=r},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(37),r=i(9),i=i(6),n=r.pdsUtils.createFlattenedClassInstance(n.ValidationRulesEngine);n.setI18n(i.pdsI18n),e.pdsValidationRulesEngine=n},function(t,e,i){"use strict";i.d(e,"a",function(){return n});var n="function"==typeof Symbol&&Symbol.observable||"@@observable"},function(t,e,i){"use strict";i.d(e,"a",function(){return r});var n=i(0),r=function(e){function i(){var t=e.call(this,"object unsubscribed")||this;return t.name="ObjectUnsubscribedError",Object.setPrototypeOf(t,i.prototype),t}return n.a(i,e),i}(Error)},function(t,e,i){"use strict";i.d(e,"a",function(){return a});var n=i(16),r=i(56),o=i(20),s=i(84);function a(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return 1===t.length||2===t.length&&Object(n.a)(t[1])?Object(o.a)(t[0]):Object(s.a)()(r.a.apply(void 0,t))}},function(t,e,i){"use strict";var r=i(110),n={LOCALE:"en_US",DATETIME_FORMATS:{MONTH:["January","February","March","April","May","June","July","August","September","October","November","December"],SHORTMONTH:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],medium:"MM/dd/yyyy hh:mm:ss a",mediumDateText:"MM/DD/YYYY",shortDateText:"MM/DD/YY",AMPMS:["AM","PM"],mediumDate:"MM/dd/yyyy",mediumTime:"hh:mm:ss a",shortTime:"hh:mm a",short:"M/d/yy hh:mm a",SHORTDAY:["Sun","Mon","Tues","Wed","Thurs","Fri","Sat"],DAY:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDate:"M/d/yy"},$BREACH_MITIGATION:"XRFmEENA55t627cN",NUMBER_FORMATS:{DECIMAL_SEP:".",number_regex:"([-]?(([0-9]{1,3}(,[0-9]{3})*(\\.[0-9]+)?|\\.[0-9]+)|([0-9]*(\\.[0-9]+)?)))",CURRENCY_SYM:"$",GROUP_SEP:",",PATTERNS:[{negSuf:"",posSuf:"",lgSize:"3",minFrac:0,minInt:1,negPre:"-",gSize:3,maxFrac:9,macFrac:"0",posPre:""}],number_format:"#,###.#########"}},o=/\|([^|]+$)/,s=/^ *(0?[1-9]|10|11|12) *: *([0-5]\d) *(am|pm|AM|PM) *$/,a=/^ *(0?[0-9]|1[0-9]|2[0-3]) *: *([0-5]\d) *$/,i=(u.prototype.overWriteGetText=function(t){this.getTextOverwriteFunction=t},u.prototype.getShortFormat=function(){return this.locale.DATETIME_FORMATS.shortDate},u.prototype.getDateFormat=function(){return this.locale.DATETIME_FORMATS.mediumDate},u.prototype.getDateText=function(){return this.locale.DATETIME_FORMATS.mediumDateText},u.prototype.getText=function(t,e){if(null!=this.getTextOverwriteFunction)return this.getTextOverwriteFunction(t,e);if("string"==typeof t){if(null==(s=null==(s=this.messageKeys[t])?this.stripContextFromKey(t):s)&&(s=t),null!=e)if("string"==typeof e||"boolean"==typeof e||"number"==typeof e)s=s.replace(/{{[^}]+}}/g,String(e));else for(var i=0,n=Object.keys(e);i<n.length;i++)var r=n[i],o=new RegExp("\\{\\{"+r+"}}","g"),s=s.replace(o,e[r]);return s}},u.prototype.stripContextFromKey=function(t){var e=o.exec(t);return null!=e&&1<e.length?e[1]:t},u.prototype.getNow=function(){return new Date},u.prototype.localizeDatePretty=function(t,e){if(void 0===e&&(e=!0),!(t instanceof Date))return"";var i,n=this.getNow(),r=new Date(n.getFullYear(),n.getMonth(),n.getDate()+1),o=new Date(n.getFullYear(),n.getMonth(),n.getDate()-1);if(n.getDate()===t.getDate()&&n.getMonth()===t.getMonth()&&n.getFullYear()===t.getFullYear())return this.getText("global|Today");if(r.getDate()===t.getDate()&&r.getMonth()===t.getMonth()&&r.getFullYear()===t.getFullYear())return this.getText("global|Tomorrow");if(o.getDate()===t.getDate()&&o.getMonth()===t.getMonth()&&o.getFullYear()===t.getFullYear())return this.getText("global|Yesterday");var r=this.locale.DATETIME_FORMATS.mediumDate.toLowerCase(),o=r.charAt(0),s=r.charAt(r.length-1),a=n.getFullYear()!==t.getFullYear(),u=t.getDate(),l=t.getFullYear(),c=(e?this.locale.DATETIME_FORMATS.SHORTMONTH:this.locale.DATETIME_FORMATS.MONTH)[t.getMonth()];switch(o){case"d":"y"===s?(i=u+" "+c,a&&(i+=" "+l)):i=a?u+", "+l+" "+c:u+" "+c;break;default:case"m":"y"===s?(i=c+" "+u,a&&(i+=", "+l)):i=a?c+" "+l+", "+u:c+" "+u;break;case"y":i=a?"m"===s?l+", "+u+" "+c:l+" "+c+" "+u:"m"===s?u+" "+c:c+" "+u}return i},u.prototype.localizeDate=function(t,e){if(null==t)return"";if(!this.isValidDateObject(t))return String(t);for(var i=this.locale.DATETIME_FORMATS.mediumDate.match(/[^A-Za-z]/),n=this.locale.DATETIME_FORMATS.mediumDate.split(i[0]),r=[],o=0;o<3;o++)switch(n[o]){case"d":case"dd":r.push(t.getDate());break;case"M":case"MM":r.push(t.getMonth()+1);break;case"yy":case"yyyy":"mmdd"!==e&&r.push(t.getFullYear());break;default:console.error("Unexpected format while localizing date")}return r.join(i)},u.prototype.deLocalizeDate=function(t){if(null!=t&&""!==t){var e=this.locale.DATETIME_FORMATS.mediumDate.match(/[^A-Za-z]/),i=this.locale.DATETIME_FORMATS.mediumDate.split(e[0]),n=t.split(e);if(3===n.length){for(var r=void 0,o=void 0,s=void 0,a=0;a<3;a++)switch(i[a]){case"d":case"dd":r=n[a];break;case"M":case"MM":o=n[a];break;case"yy":case"yyyy":s=n[a],this.twoDigitRegex.test(s)&&(s=50<parseInt(s)?"19"+s:"20"+s);break;default:console.error("Unexpected format when delocalizing date.")}e=new Date(s,o-1,r,0,0,0);if(!(isNaN(s)||isNaN(o)||isNaN(r)||e.getFullYear()!==Number(s)||e.getMonth()!==Number(o-1)||e.getDate()!==Number(r)))return this.isValidDateObject(e)?e:void 0}}},u.prototype.isValidDateObject=function(t){return t instanceof Date&&!isNaN(t.getTime())},u.prototype.isValidDate=function(t){if(""===t)return!0;t=this.deLocalizeDate(t);return this.isValidDateObject(t)},u.prototype.parseJsonDate=function(t,e){if(null!=t){var i=0,n=0,r=0,o=t.split("-");if(!(o.length<3)){t=o[2].split(" ");2===t.length&&(o[2]=t[0],!e||3===(t=t[1].split(":")).length&&(i=parseInt(t[0]),n=parseInt(t[1]),r=parseInt(t[2])));var s=parseInt(o[0]),a=parseInt(o[1])-1,u=parseInt(o[2]),r=new Date(s,a,u,i,n,r);if(!isNaN(r.getTime()))return r}}},u.prototype.getJsonDate=function(t,e){if(null!=t&&!isNaN(t.getTime())){var i=t.getFullYear()+"-"+this.padZeros(t.getMonth()+1,2)+"-"+this.padZeros(t.getDate(),2);return e&&(i+=" "+this.padZeros(t.getHours(),2)+":"+this.padZeros(t.getMinutes(),2)+":"+this.padZeros(t.getSeconds(),2)),i}},u.prototype.parseJsonDateToNonLocalized=function(t){var e=this.parseJsonDate(t);return null!=e?this.getMmDdYyyyDateString(e):t},u.prototype.getMmDdYyyyDateString=function(t){return t.getMonth()+1+"/"+t.getDate()+"/"+t.getFullYear()},u.prototype.addDaysToDate=function(t,e){return t.setDate(t.getDate()+e),t},u.prototype.getLocalizedDayOfWeek=function(t){return this.locale.DATETIME_FORMATS.DAY[t.getDay()]},u.prototype.getNumericFormat=function(){return{format:this.locale.NUMBER_FORMATS.number_format,size:this.locale.NUMBER_FORMATS.PATTERNS[0].gSize,gs:this.locale.NUMBER_FORMATS.GROUP_SEP,ds:this.locale.NUMBER_FORMATS.DECIMAL_SEP,regex:this.locale.NUMBER_FORMATS.number_regex}},u.prototype.localizeTime=function(t,e,i){if(void 0===e&&(e=!0),void 0===i&&(i=!1),null!=t){var n=this.locale.DATETIME_FORMATS.AMPMS,r="HH:mm"===this.locale.DATETIME_FORMATS.shortTime,o=t.getHours(),s=t.getMinutes();return r?i=!(e=!0):o=(o+11)%12+1,e=e&&o<10&&!i?"0"+o:String(o),o=s<10?"0"+s:String(s),i?0===s?e+n[t.getHours()<12?0:1].toLowerCase():e+":"+o+n[t.getHours()<12?0:1].toLowerCase():e+":"+o+(r?"":" "+n[t.getHours()<12?0:1])}},u.prototype.deLocalizeTime=function(t){var e,i,n;if(null!=t)return this.locale.DATETIME_FORMATS.shortTime.endsWith("a")?null==(n=s.exec(t))||n.length<4?void 0:(e=Number(n[1]),i=Number(n[2]),"pm"===n[3].toLowerCase()?e<12&&(e+=12):12===e&&(e=0),new r.SimpleTime(e,i)):this.parse24HourTime(t)},u.prototype.parse24HourTime=function(t){var e=t.split(":");if(2===e.length){t=Number(e[0]),e=Number(e[1]);if(!isNaN(t)&&!isNaN(e))return new r.SimpleTime(t,e)}},u.prototype.isValidTime=function(t){return("HH:mm"===this.locale.DATETIME_FORMATS.shortTime?a:s).test(t)},u.prototype.localizeNumber=function(t,e,i){if(null!=t&&!isNaN(t)){if(null!=e&&!isNaN(e)){for(var n=1,r=0;r<e;r++)n*=10;t=Math.round(t*n)/n}var o=this.formatNumber(this.getNumericFormat(),t);return!0===i&&0<e&&((t=0)===(t=String(o).includes(this.locale.NUMBER_FORMATS.DECIMAL_SEP)?(i=String(o).split(this.locale.NUMBER_FORMATS.DECIMAL_SEP))[i.length-1].length:t)&&(o+=this.locale.NUMBER_FORMATS.DECIMAL_SEP),o+="0".repeat(e-t)),o}},u.prototype.deLocalizeNumber=function(t){return this.removeNumberFormat(this.getNumericFormat(),t)},u.prototype.deLocalizeNumberToString=function(t){t=this.removeNumberFormat(this.getNumericFormat(),t);if(null!=t)return String(t)},u.prototype.removeNumberFormat=function(t,e){if(null!=e){var i="."===t.gs||","===t.gs||" "===t.gs;e=e.toString();var n="^"+t.regex+"$",n=new RegExp(n,"g");if(""!==e&&null!=e.match(n)){i&&(i=new RegExp("\\"+t.gs,"g"),e=e.replace(i,""));t=new RegExp("\\"+t.ds,"g");return e=parseFloat(e.replace(t,".")),isNaN(e)?void 0:e}}},u.prototype.isValidNumber=function(t){if(""===t)return!0;var e="^"+this.locale.NUMBER_FORMATS.number_regex+"$";return!!new RegExp(e,"g").test(t)&&null!=this.deLocalizeNumber(t)},u.prototype.localizeNumericObject=function(t,e){t["_i18n_"+e]=this.localizeNumber(t[e])},u.prototype.deLocalizeNumericObject=function(t,e){t.hasOwnProperty("_i18n_"+e)&&(null!=t["_i18n_"+e]&&""!==t["_i18n_"+e]?t[e]=this.deLocalizeNumber(t["_i18n_"+e]):t[e]="")},u.prototype.makeStrFromTime=function(t,e){return void 0===e&&(e=!0),this.localizeTime.apply(this,arguments)},u.prototype.combineDateAndTime=function(t,e){if(null!=t)return null==e&&(e=new r.SimpleTime(0,0)),new Date(t.getFullYear(),t.getMonth(),t.getDate(),e.getHours(),e.getMinutes())},u.prototype.extractTime=function(t){return new r.SimpleTime(t.getHours(),t.getMinutes())},u.prototype.formatTime=function(t,e){if(null==t||null==e)return"";switch(e){default:case"TIME":return this.localizeTime(t,!1);case"TIME_PAD_ZEROS":return this.localizeTime(t,!0);case"TIME_COMPACT":return this.localizeTime(t,!1,!0)}},u.prototype.formatDate=function(t,e){if(null==t)return"";switch(e){case"DATE_TIME":return this.getText("cu|date utils|xx at xx",{theDate:this.localizeDate(t),theTime:this.localizeTime(t)});case"DATE_TIME_SR":return this.getText("cu|date utils|xx at xx",{theDate:this.localizeDatePretty(t,!1),theTime:this.localizeTime(t,!1)});case"DATE_TIME_PRETTY":return this.getText("cu|date utils|xx at xx",{theDate:this.localizeDatePretty(t),theTime:this.localizeTime(t,!1)});case"DATE":return this.localizeDate(t);case"DATE_SR":return this.localizeDatePretty(t,!1);case"DATE_PRETTY":default:return this.localizeDatePretty(t)}},u.prototype.formatNumber=function(t,e){t=t.ds;return isNaN(e)||null==e?null!=e?String(e):void 0:e.toString().replace(".",t)},u.prototype.padZeros=function(t,e){var i="";if(!isNaN(t)&&!isNaN(e)&&null!=t&&null!=e){for(i=t.toString();i.length<e;)i="0"+i;return i}if(null!=t)return String(t)},u);function u(){this.twoDigitRegex=/^\d{2}$/,this.messageKeys={"cu|validation engine|The number must be greater than or equal to xx":"The number must be greater than or equal to {{minValue}}","cu|validation engine|The number must be less than or equal to xx":"The number must be less than or equal to {{maxValue}}","cu|validation engine|The number must be less than xx":"The number must be less than {{maxValue}}","cu|validation engine|The number must be greater than xx":"The number must be greater than {{minValue}}","cu|validation engine|xx is not a valid integer.":"{{input}} is not a valid integer.","cu|validation engine|The number cannot have exceed xx decimal places.":"The number cannot exceed {{maxDecimals}} decimal places.","cu|validation engine|The number must have xx or more digits.":"The number must have {{minLength}} or more digits.","cu|validation engine|The number must have xx or less digits.":"The number must have {{maxLength}} or less digits.","cu|validation engine|The date must be on or after xx":"The date must be on or after {{minDate}}","cu|validation engine|The date must be on or before xx":"The date must be on or before {{maxDate}}","cu|validation engine|The text must have xx or more characters.":"The text must have {{minLength}} or more characters.","cu|validation engine|The text must have xx or less characters.":"The text must have {{maxLength}} or less characters.","cu|validation engine|Must not contain any characters in xx":"Must not contain any characters in {{excludeChars}}","cu|validation engine|The time must be on or before xx":"The time must be on or before {{maxTime}}","cu|validation engine|The time must be on or after xx":"The time must be on or after {{minTime}}","cu|validation engine|The email is not in the correct format.":"The email is not in the correct format.","global|Today":"Today","global|Tomorrow":"Tomorrow","global|Yesterday":"Yesterday","cu|date utils|xx at xx":"{{theDate}} at {{theTime}}"},this.locale=n}e.I18nUtil=i,e.i18n=new i},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(240),r=i(131),o=i(241),s=i(243),a=i(135),u=i(136),i=(l.prototype.getGridWidgetService=function(){return null==this.gridWidgetService&&(this.gridWidgetService=new n.GridWidgetService),this.gridWidgetService},l.prototype.getMessageService=function(){return null==this.messageService&&(this.messageService=new o.MessageService),this.messageService},l.prototype.getWizardService=function(){return null==this.wizardService&&(this.wizardService=new r.WizardService),this.wizardService},l.prototype.getCalendarService=function(){return null==this.calendarService&&(this.calendarService=new s.CalendarService),this.calendarService},l.prototype.getDirtyStateService=function(){return null==this.dirtyStateService&&(this.dirtyStateService=new a.DirtyStateService),this.dirtyStateService},l.prototype.getDetailSelectService=function(){return null==this.detailSelectService&&(this.detailSelectService=new u.DetailSelectService),this.detailSelectService},l);function l(){}e.serviceInstances=new i},function(t,e,i){"use strict";i.d(e,"a",function(){return n});var r=i(0),o=i(3),e=i(4),s=i(17),a=i(20);function n(e,r,i){return void 0===i&&(i=Number.POSITIVE_INFINITY),"function"==typeof r?function(t){return t.pipe(n(function(i,n){return Object(a.a)(e(i,n)).pipe(Object(s.a)(function(t,e){return r(i,t,n,e)}))},i))}:("number"==typeof r&&(i=r),function(t){return t.lift(new u(e,i))})}var u=function(){function t(t,e){void 0===e&&(e=Number.POSITIVE_INFINITY),this.project=t,this.concurrent=e}return t.prototype.call=function(t,e){return e.subscribe(new l(t,this.project,this.concurrent))},t}(),l=function(n){function t(t,e,i){void 0===i&&(i=Number.POSITIVE_INFINITY);t=n.call(this,t)||this;return t.project=e,t.concurrent=i,t.hasCompleted=!1,t.buffer=[],t.active=0,t.index=0,t}return r.a(t,n),t.prototype._next=function(t){this.active<this.concurrent?this._tryNext(t):this.buffer.push(t)},t.prototype._tryNext=function(t){var e,i=this.index++;try{e=this.project(t,i)}catch(t){return void this.destination.error(t)}this.active++,this._innerSub(e,t,i)},t.prototype._innerSub=function(t,e,i){this.add(Object(o.a)(this,t,e,i))},t.prototype._complete=function(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete()},t.prototype.notifyNext=function(t,e,i,n,r){this.destination.next(e)},t.prototype.notifyComplete=function(t){var e=this.buffer;this.remove(t),this.active--,0<e.length?this._next(e.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()},t}(e.a)},function(t,e,i){"use strict";i.d(e,"a",function(){return r});var n=i(0),r=function(e){function i(){var t=e.call(this,"argument out of range")||this;return t.name="ArgumentOutOfRangeError",Object.setPrototypeOf(t,i.prototype),t}return n.a(i,e),i}(Error)},function(t,e,i){"use strict";function n(t){return"function"==typeof t}i.d(e,"a",function(){return n})},function(t,e,i){t.exports=i(152)},function(t,e,i){"use strict";i.d(e,"a",function(){return r});var n=i(0),r=function(e){function i(){var t=e.call(this,"no elements in sequence")||this;return t.name="EmptyError",Object.setPrototypeOf(t,i.prototype),t}return n.a(i,e),i}(Error)},function(t,e,i){"use strict";i.d(e,"a",function(){return n});var o=i(0),s=i(68),n=function(n){function r(t,e){void 0===e&&(e=s.a.now);var i=n.call(this,t,function(){return r.delegate&&r.delegate!==i?r.delegate.now():e()})||this;return i.actions=[],i.active=!1,i.scheduled=void 0,i}return o.a(r,n),r.prototype.schedule=function(t,e,i){return void 0===e&&(e=0),r.delegate&&r.delegate!==this?r.delegate.schedule(t,e,i):n.prototype.schedule.call(this,t,e,i)},r.prototype.flush=function(t){var e,i=this.actions;if(this.active)i.push(t);else{this.active=!0;do{if(e=t.execute(t.state,t.delay))break}while(t=i.shift());if(this.active=!1,e){for(;t=i.shift();)t.unsubscribe();throw e}}},r}(s.a)},function(t,e,i){"use strict";i.d(e,"a",function(){return o});var n=i(0),e=i(11),r=i(7),o=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.value=null,t.hasNext=!1,t.hasCompleted=!1,t}return n.a(t,e),t.prototype._subscribe=function(t){return this.hasError?(t.error(this.thrownError),r.a.EMPTY):this.hasCompleted&&this.hasNext?(t.next(this.value),t.complete(),r.a.EMPTY):e.prototype._subscribe.call(this,t)},t.prototype.next=function(t){this.hasCompleted||(this.value=t,this.hasNext=!0)},t.prototype.error=function(t){this.hasCompleted||e.prototype.error.call(this,t)},t.prototype.complete=function(){this.hasCompleted=!0,this.hasNext&&e.prototype.next.call(this,this.value),e.prototype.complete.call(this)},t}(e.a)},function(t,e,i){"use strict";var r=i(0),n=function(i){function t(t,e){return i.call(this)||this}return r.a(t,i),t.prototype.schedule=function(t,e){return void 0===e&&(e=0),this},t}(i(7).a);i.d(e,"a",function(){return o});var o=function(n){function t(t,e){var i=n.call(this,t,e)||this;return i.scheduler=t,i.work=e,i.pending=!1,i}return r.a(t,n),t.prototype.schedule=function(t,e){if(void 0===e&&(e=0),this.closed)return this;this.state=t;var i=this.id,t=this.scheduler;return null!=i&&(this.id=this.recycleAsyncId(t,i,e)),this.pending=!0,this.delay=e,this.id=this.id||this.requestAsyncId(t,this.id,e),this},t.prototype.requestAsyncId=function(t,e,i){return void 0===i&&(i=0),setInterval(t.flush.bind(t,this),i)},t.prototype.recycleAsyncId=function(t,e,i){if(null!==(i=void 0===i?0:i)&&this.delay===i&&!1===this.pending)return e;clearInterval(e)},t.prototype.execute=function(t,e){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;e=this._execute(t,e);if(e)return e;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))},t.prototype._execute=function(t,e){var i=!1,n=void 0;try{this.work(t)}catch(t){i=!0,n=!!t&&t||new Error(t)}if(i)return this.unsubscribe(),n},t.prototype._unsubscribe=function(){var t=this.id,e=this.scheduler,i=e.actions,n=i.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==n&&i.splice(n,1),null!=t&&(this.id=this.recycleAsyncId(e,t,null)),this.delay=null},t}(n)},function(t,e,i){"use strict";i.d(e,"a",function(){return r});var n=i(14);function r(t){return!Object(n.a)(t)&&0<=t-parseFloat(t)+1}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});function n(t){return""===r?t:r+"-"+t}var r="";e.pdsLocalStorage={userPrefix:"",getItem:function(t){return localStorage.getItem(t)||void 0},getPersistedBoolean:function(t,e){void 0===e&&(e=!1);t=this.getItem(t);return null==t?e:"true"===t},removeItem:function(t){localStorage.removeItem(t)},setItem:function(t,e){try{return localStorage.setItem(t,e),!0}catch(t){return console.error("Browser local storage is not available"),!1}},getUserItem:function(t){return this.getItem(n(t))},getUserPersistedBoolean:function(t,e){return void 0===e&&(e=!1),this.getPersistedBoolean(n(t),e)},removeUserItem:function(t){this.removeItem(n(t))},setUserItem:function(t,e){return this.setItem(n(t),e)}},Object.defineProperty(e.pdsLocalStorage,"userPrefix",{get:function(){return r},set:function(t){r=t}})},function(t,e,i){"use strict";var n,r=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var o,s=i(141);(i=o=e.DisableFilterOption||(e.DisableFilterOption={}))[i.both=0]="both",i[i.advancedOnly=1]="advancedOnly",i[i.simpleOnly=2]="simpleOnly";var a,r=(a=s.DataField,r(u,a),u.prototype.toString=function(){return"GridWidgetDataField: "+this.id},u.prototype.setPlaceholderText=function(t){this.placeholderText=t},u.prototype.setDefaultFilterOption=function(){this.defaultFilterOption=!0},u.prototype.disableFiltering=function(t){void 0===t&&(t=o.both),this.filterDisabled=t},u.prototype.disableExport=function(){this.fieldExportDisabled=!0},u.prototype.setValidationRules=function(t){throw"validation rules have not been implemented for this field type"},u);function u(t,e,i,n){i=a.call(this,t,e,i)||this;if(i.defaultFilterOption=!1,i.validationRules={},i.fieldExportDisabled=!1,null==i.id||i.id.startsWith("+")||i.id.startsWith("-"))throw"there must be an id, and it can not start with  + or -";return i.sortKey=n,i}e.GridWidgetDataField=r},function(t,e,i){"use strict";function n(t){setTimeout(function(){throw t})}i.d(e,"a",function(){return n})},function(t,e,i){"use strict";i.d(e,"a",function(){return n});var n="function"==typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("rxSubscriber"):"@@rxSubscriber"},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=i(9),n=i(15),o=i(43);function s(t,e,i){return void 0===e&&(e={}),null!=i&&0<Object.keys(i).length&&(t=function(t,e){if(null!=e){var i=Object.keys(e);t+="?";for(var n=0;n<i.length;n++){var r=i[n];t+=r+"="+e[r],n!==i.length-1&&(t+="&")}}return t}(t,i)),n.Observable.create(function(n){e.success=function(t,e,i){n.next({data:e.responseText,status:e.status}),n.complete()},e.error=function(t,e){n.error({data:t.responseText,status:t.status}),n.complete()},r.pdsUtils.ajax(t,e)})}e.pdsHttpUtils={get:function(t,e,i,n){return s(t,{headers:i,method:"GET",disableAjaxStatus:n},e)},post:function(t,e,i,n,r){return null==(n=void 0===n?{}:n)["content-type"]&&(n["content-type"]="application/json"),s(t,{headers:n,method:"POST",data:JSON.stringify(e),disableAjaxStatus:r},i)},addUCAuthHeader:function(t){return t.Authorization="Bearer "+o.pdsLocalStorage.getItem("auth_token"),t}}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=(r.prototype.put=function(t,e,i){var n=this.map[t];null==n?(n={key:t,value:e},this.map[t]=n,null==i||i>=this.array.length?this.array.push(n):(i<0&&(i=0),this.array.splice(i,0,n))):(n.value=e,null!=i&&this.array[i]!==n&&(this.array.splice(this.array.indexOf(n),1),this.array.splice(i,0,n)))},r.prototype.putAll=function(t){var e=this;null!=t&&t.forEach(function(t){e.put(t.key,t.value)})},r.prototype.get=function(t){t=this.map[t];if(null!=t)return t.value},r.prototype.remove=function(t){var e=this.map[t];if(null!=e)return this.array.splice(this.array.indexOf(e),1),delete this.map[t],e.value},r.prototype.clear=function(){for(var t in this.map)delete this.map[t];this.array.length=0},Object.defineProperty(r.prototype,"length",{get:function(){return this.array.length},enumerable:!0,configurable:!0}),r.prototype.getMap=function(){var e={};return this.array.forEach(function(t){e[t.key]=t.value}),e},r.prototype.values=function(){return this.array.map(function(t){return t.value})},r.prototype.keys=function(){return this.array.map(function(t){return t.key})},r.prototype.forEach=function(i){this.array.forEach(function(t,e){i(t.value,t.key,e)})},r.prototype.find=function(i){return this.array.find(function(t,e){return i(t.value,t.key,e)})},r.prototype.getFirstValue=function(){if(0<this.length)return this.array[0].value},r.prototype.getFirstKey=function(){if(0<this.length)return this.array[0].key},r.prototype.getValueAt=function(t){t=this.array[t];if(null!=t)return t.value},r.prototype.indexOf=function(t){for(var e=0;e<this.array.length;e++)if(this.array[e].value===t)return e;return-1},r);function r(t){this.array=[],this.map={},this.putAll(t)}e.OrderedMap=n},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=(r.prototype.toString=function(){return this.field+this.comparator+this.valueAsString},r);function r(t,e,i,n){this.field=t,this.comparator=e,this.value=i,this.valueAsString=null!=n?n:String(i)}e.RestArgument=n},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=i(139),i=(Object.defineProperty(n,"DATA_TASK_PRIORITY",{get:function(){return 0},enumerable:!0,configurable:!0}),Object.defineProperty(n,"BEFORE_FILTER_TASK_PRIORITY",{get:function(){return 500},enumerable:!0,configurable:!0}),Object.defineProperty(n,"FILTER_TASK_PRIORITY",{get:function(){return 1e3},enumerable:!0,configurable:!0}),Object.defineProperty(n,"AFTER_FILTER_TASK_PRIORITY",{get:function(){return 1500},enumerable:!0,configurable:!0}),Object.defineProperty(n,"RESET_PAGINATION_TASK_PRIORITY",{get:function(){return 1750},enumerable:!0,configurable:!0}),Object.defineProperty(n,"SORT_TASK_PRIORITY",{get:function(){return 2e3},enumerable:!0,configurable:!0}),Object.defineProperty(n,"AFTER_SORT_TASK_PRIORITY",{get:function(){return 2500},enumerable:!0,configurable:!0}),Object.defineProperty(n,"PAGINATE_TASK_PRIORITY",{get:function(){return 3e3},enumerable:!0,configurable:!0}),Object.defineProperty(n,"AFTER_PAGINATE_TASK_PRIORITY",{get:function(){return 3500},enumerable:!0,configurable:!0}),Object.defineProperty(n,"COMPLETE_TASK_PRIORITY",{get:function(){return 4e3},enumerable:!0,configurable:!0}),n.prototype.isGridWidgetTaskActive=function(){return this.gridWidgetTaskActive},n.prototype.setGridWidgetTaskActive=function(t){this.gridWidgetTaskActive=t},n.prototype.preRunSetup=function(){},n.prototype.taskChainCanceled=function(){},n.prototype.execute=function(){function e(t,e){e="* * * "+(e?"":"ASYNCHRONOUS ")+'task complete: "'+n.name+'"',e+=null==t?" result: null":" result.length: "+t.length,e+=" * * *",r.gridWidgetLogger.log(e,n.logColor)}var t,i,n=this;this.preRunSetup(),this.isGridWidgetTaskActive()?(t=null==(t=this.run(this.previousNode.result))?[]:t)instanceof Array?(this.result=t,e(this.result,!0),this.executeNext()):i=t.subscribe(function(t){i.unsubscribe(),n.result=t,e(n.result,!1),n.executeNext()},function(t){console.error("An error occurred while running "+n.name),console.error(t),n.result=[],n.executeNext()}):(this.result=this.previousNode.result,this.executeNext())},n.prototype.getPersistenceObject=function(){},n.prototype.restoreFromPersistenceObject=function(t){},n.prototype.executeNext=function(){null!=this.nextNode&&this.nextNode.execute()},n);function n(){this.gridWidgetTaskActive=!0,this.logColor="#000000"}e.GridWidgetTask=i},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=(r.prototype.getProviderToken=function(){return this.getTagName()},r.prototype.passesFilter=function(t){var e=this;if(this.isBlank())return!0;t=this.dataField.resolve(t);return t instanceof Array?0!==t.length&&null!=t.find(function(t){return e.internalPassesFilter(t)}):this.internalPassesFilter(t)},r.prototype.useDataFromExistingFilter=function(t){},r);function r(t){this.dataField=t}e.GridWidgetFilter=n},function(t,e,i){"use strict";i.d(e,"a",function(){return r}),i.d(e,"b",function(){return o});var n=i(23);function r(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return o(t)}function o(e){return e?1===e.length?e[0]:function(t){return e.reduce(function(t,e){return e(t)},t)}:n.a}},function(t,e,i){"use strict";i.d(e,"a",function(){return n});var r=i(0),n=function(i){function n(t){var e=i.call(this,t?t.length+" errors occurred during unsubscription:\n  "+t.map(function(t,e){return e+1+") "+t.toString()}).join("\n  "):"")||this;return e.errors=t,e.name="UnsubscriptionError",Object.setPrototypeOf(e,n.prototype),e}return r.a(n,i),n}(Error)},function(t,e,i){"use strict";i.d(e,"a",function(){return r});var n=i(0),i=i(1);function r(){return function(t){return t.lift(new o(t))}}var o=function(){function t(t){this.connectable=t}return t.prototype.call=function(t,e){var i=this.connectable;i._refCount++;t=new s(t,i),e=e.subscribe(t);return t.closed||(t.connection=i.connect()),e},t}(),s=function(i){function t(t,e){t=i.call(this,t)||this;return t.connectable=e,t}return n.a(t,i),t.prototype._unsubscribe=function(){var t,e=this.connectable;e?(this.connectable=null,(t=e._refCount)<=0?this.connection=null:(e._refCount=t-1,1<t?this.connection=null:(t=this.connection,e=e._connection,this.connection=null,!e||t&&e!==t||e.unsubscribe()))):this.connection=null},t}(i.a)},function(t,e,i){"use strict";i.d(e,"a",function(){return r});var n=i(0),e=i(11),o=i(88),a=i(7),u=i(82),l=i(30),c=i(90),r=function(r){function t(t,e,i){void 0===t&&(t=Number.POSITIVE_INFINITY),void 0===e&&(e=Number.POSITIVE_INFINITY);var n=r.call(this)||this;return n.scheduler=i,n._events=[],n._infiniteTimeWindow=!1,n._bufferSize=t<1?1:t,n._windowTime=e<1?1:e,e===Number.POSITIVE_INFINITY?(n._infiniteTimeWindow=!0,n.next=n.nextInfiniteTimeWindow):n.next=n.nextTimeWindow,n}return n.a(t,r),t.prototype.nextInfiniteTimeWindow=function(t){var e=this._events;e.push(t),e.length>this._bufferSize&&e.shift(),r.prototype.next.call(this,t)},t.prototype.nextTimeWindow=function(t){this._events.push(new s(this._getNow(),t)),this._trimBufferThenGetEvents(),r.prototype.next.call(this,t)},t.prototype._subscribe=function(t){var e,i=this._infiniteTimeWindow,n=i?this._events:this._trimBufferThenGetEvents(),r=this.scheduler,o=n.length;if(this.closed)throw new l.a;if(e=this.isStopped||this.hasError?a.a.EMPTY:(this.observers.push(t),new c.a(this,t)),r&&t.add(t=new u.a(t,r)),i)for(var s=0;s<o&&!t.closed;s++)t.next(n[s]);else for(s=0;s<o&&!t.closed;s++)t.next(n[s].value);return this.hasError?t.error(this.thrownError):this.isStopped&&t.complete(),e},t.prototype._getNow=function(){return(this.scheduler||o.a).now()},t.prototype._trimBufferThenGetEvents=function(){for(var t=this._getNow(),e=this._bufferSize,i=this._windowTime,n=this._events,r=n.length,o=0;o<r&&!(t-n[o].time<i);)o++;return 0<(o=e<r?Math.max(o,r-e):o)&&n.splice(0,o),n},t}(e.a),s=function(){return function(t,e){this.time=t,this.value=e}}()},function(t,e,i){"use strict";i.d(e,"a",function(){return a});var n=i(16),r=i(21),o=i(12),s=i(62);function a(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var i=t[t.length-1];switch(Object(n.a)(i)?t.pop():i=void 0,t.length){case 0:return Object(o.b)(i);case 1:return i?Object(r.a)(t,i):Object(s.a)(t[0]);default:return Object(r.a)(t,i)}}},function(t,e,i){"use strict";i.d(e,"a",function(){return r});var n=i(2);function r(e,i){return i?new n.a(function(t){return i.schedule(o,0,{error:e,subscriber:t})}):new n.a(function(t){return t.error(e)})}function o(t){var e=t.error;t.subscriber.error(e)}},function(t,e,i){"use strict";i.d(e,"b",function(){return l}),i.d(e,"a",function(){return c});var n=i(0),r=i(16),o=i(14),e=i(4),s=i(3),a=i(21),u={};function l(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var i=null,n=null;return Object(r.a)(t[t.length-1])&&(n=t.pop()),"function"==typeof t[t.length-1]&&(i=t.pop()),1===t.length&&Object(o.a)(t[0])&&(t=t[0]),Object(a.a)(t,n).lift(new c(i))}var c=function(){function t(t){this.resultSelector=t}return t.prototype.call=function(t,e){return e.subscribe(new d(t,this.resultSelector))},t}(),d=function(i){function t(t,e){t=i.call(this,t)||this;return t.resultSelector=e,t.active=0,t.values=[],t.observables=[],t}return n.a(t,i),t.prototype._next=function(t){this.values.push(u),this.observables.push(t)},t.prototype._complete=function(){var t=this.observables,e=t.length;if(0===e)this.destination.complete();else{this.active=e,this.toRespond=e;for(var i=0;i<e;i++){var n=t[i];this.add(Object(s.a)(this,n,n,i))}}},t.prototype.notifyComplete=function(t){0==--this.active&&this.destination.complete()},t.prototype.notifyNext=function(t,e,i,n,r){var o=this.values,s=o[i],s=this.toRespond?s===u?--this.toRespond:this.toRespond:0;o[i]=e,0===s&&(this.resultSelector?this._tryResultSelector(o):this.destination.next(o.slice()))},t.prototype._tryResultSelector=function(t){var e;try{e=this.resultSelector.apply(this,t)}catch(t){return void this.destination.error(t)}this.destination.next(e)},t}(e.a)},function(t,e,i){"use strict";i.d(e,"a",function(){return o});var n=i(34),r=i(24);function o(t){return void 0===t&&(t=Number.POSITIVE_INFINITY),Object(n.a)(r.a,t)}},function(t,e,i){"use strict";i.d(e,"a",function(){return s});var n=i(2),r=i(20),o=i(12);function s(i){return new n.a(function(e){var t;try{t=i()}catch(t){return void e.error(t)}return(t?Object(r.a)(t):Object(o.b)()).subscribe(e)})}},function(t,e,i){"use strict";i.d(e,"b",function(){return l}),i.d(e,"a",function(){return c});var r=i(0),n=i(21),o=i(14),s=i(1),e=i(4),a=i(3),u=i(26);function l(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var i=t[t.length-1];return"function"==typeof i&&t.pop(),Object(n.a)(t,void 0).lift(new c(i))}var c=function(){function t(t){this.resultSelector=t}return t.prototype.call=function(t,e){return e.subscribe(new d(t,this.resultSelector))},t}(),d=function(n){function t(t,e,i){void 0===i&&(i=Object.create(null));t=n.call(this,t)||this;return t.iterators=[],t.active=0,t.resultSelector="function"==typeof e?e:null,t.values=i,t}return r.a(t,n),t.prototype._next=function(t){var e=this.iterators;Object(o.a)(t)?e.push(new h(t)):"function"==typeof t[u.a]?e.push(new p(t[u.a]())):e.push(new f(this.destination,this,t))},t.prototype._complete=function(){var t=this.iterators,e=t.length;if(0!==e){this.active=e;for(var i=0;i<e;i++){var n=t[i];n.stillUnsubscribed?this.add(n.subscribe(n,i)):this.active--}}else this.destination.complete()},t.prototype.notifyInactive=function(){this.active--,0===this.active&&this.destination.complete()},t.prototype.checkIterators=function(){for(var t=this.iterators,e=t.length,i=this.destination,n=0;n<e;n++)if("function"==typeof(s=t[n]).hasValue&&!s.hasValue())return;for(var r=!1,o=[],n=0;n<e;n++){var s,a=(s=t[n]).next();if(s.hasCompleted()&&(r=!0),a.done)return void i.complete();o.push(a.value)}this.resultSelector?this._tryresultSelector(o):i.next(o),r&&i.complete()},t.prototype._tryresultSelector=function(t){var e;try{e=this.resultSelector.apply(this,t)}catch(t){return void this.destination.error(t)}this.destination.next(e)},t}(s.a),p=function(){function t(t){this.iterator=t,this.nextResult=t.next()}return t.prototype.hasValue=function(){return!0},t.prototype.next=function(){var t=this.nextResult;return this.nextResult=this.iterator.next(),t},t.prototype.hasCompleted=function(){var t=this.nextResult;return t&&t.done},t}(),h=function(){function t(t){this.array=t,this.index=0,this.length=0,this.length=t.length}return t.prototype[u.a]=function(){return this},t.prototype.next=function(t){var e=this.index++,i=this.array;return e<this.length?{value:i[e],done:!1}:{value:null,done:!0}},t.prototype.hasValue=function(){return this.array.length>this.index},t.prototype.hasCompleted=function(){return this.array.length===this.index},t}(),f=function(n){function t(t,e,i){t=n.call(this,t)||this;return t.parent=e,t.observable=i,t.stillUnsubscribed=!0,t.buffer=[],t.isComplete=!1,t}return r.a(t,n),t.prototype[u.a]=function(){return this},t.prototype.next=function(){var t=this.buffer;return 0===t.length&&this.isComplete?{value:null,done:!0}:{value:t.shift(),done:!1}},t.prototype.hasValue=function(){return 0<this.buffer.length},t.prototype.hasCompleted=function(){return 0===this.buffer.length&&this.isComplete},t.prototype.notifyComplete=function(){0<this.buffer.length?(this.isComplete=!0,this.parent.notifyInactive()):this.destination.complete()},t.prototype.notifyNext=function(t,e,i,n,r){this.buffer.push(e),this.parent.checkIterators()},t.prototype.subscribe=function(t,e){return Object(a.a)(this,this.observable,this,e)},t}(e.a)},function(t,e,i){"use strict";i.d(e,"a",function(){return r});var n=i(2);function r(e){var t=new n.a(function(t){t.next(e),t.complete()});return t._isScalar=!0,t.value=e,t}},function(t,e,i){"use strict";var r=i(0),n=1,o={};var s=function(t){var e=n++;return o[e]=t,Promise.resolve().then(function(){var t;(t=o[t=e])&&t()}),e},a=function(t){delete o[t]},u=function(n){function t(t,e){var i=n.call(this,t,e)||this;return i.scheduler=t,i.work=e,i}return r.a(t,n),t.prototype.requestAsyncId=function(t,e,i){return null!==(i=void 0===i?0:i)&&0<i?n.prototype.requestAsyncId.call(this,t,e,i):(t.actions.push(this),t.scheduled||(t.scheduled=s(t.flush.bind(t,null))))},t.prototype.recycleAsyncId=function(t,e,i){if(null!==(i=void 0===i?0:i)&&0<i||null===i&&0<this.delay)return n.prototype.recycleAsyncId.call(this,t,e,i);0===t.actions.length&&(a(e),t.scheduled=void 0)},t}(i(41).a),l=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r.a(e,t),e.prototype.flush=function(t){this.active=!0,this.scheduled=void 0;var e,i=this.actions,n=-1,r=i.length;t=t||i.shift();do{if(e=t.execute(t.state,t.delay))break}while(++n<r&&(t=i.shift()));if(this.active=!1,e){for(;++n<r&&(t=i.shift());)t.unsubscribe();throw e}},e}(i(39).a);i.d(e,"a",function(){return c});var c=new l(u)},function(t,e,i){"use strict";i.d(e,"a",function(){return o});var n=i(22),r=i(45),o={closed:!0,next:function(t){},error:function(t){if(n.a.useDeprecatedSynchronousErrorHandling)throw t;Object(r.a)(t)},complete:function(){}}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=(r.prototype.getPostedAt=function(){return null},r.prototype.getColorClass=function(){return null},r.prototype.getSource=function(){return null},r.prototype.getTitle=function(){return this.type},r.prototype.getSubtitle=function(){return null},r.prototype.getUserType=function(){return null},r.prototype.getTooltip=function(){return null},r.prototype.getTooltipForSubtitle=function(){return null},r.prototype.getSenderUid=function(){return null},r.prototype.getRequiresAction=function(){return!1},r.prototype.getAggregationKey=function(){if(null!=this.aggregationKey&&0<this.aggregationKey.length){var t=JSON.parse(this.aggregationKey);return t.type=this.type,JSON.stringify(t)}return JSON.stringify({type:this.type})},Object.defineProperty(r.prototype,"lookUpKey",{get:function(){return""},enumerable:!0,configurable:!0}),r);function r(t,e,i,n,r){void 0===e&&(e=!1),void 0===i&&(i=!1),void 0===n&&(n=""),this.type=t,this.isSeen=e,this.isRead=i,this.aggregationKey=n,this.subtype=r,this.isMarkedReadOnClick=!0}e.NotificationItem=n},function(t,e,i){"use strict";var n,r=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var o,s=i(5),a=i(120),u=i(104),l=i(6),r=(o=s.PdsWidget,r(c,o),c.prototype.attached=function(){o.prototype.attached.call(this),this.isPopoverShowing=!1,this.createPopover()},c.prototype.createPopover=function(){var t,e=this;this.log("createPopover() called"),null==this.popoverInstance&&(this.isRequiredDataDefined()&&null!=this.querySelector(this.getPopoverSelector())?(this.log("the data is in.  Initialize the popover"),this.popoverAccessibilityController=a.PopoverAccessibilityControllerFactory.getPopoverAccessibilityControllerInstance(),this.popoverTrigger=this.querySelector(this.getPopoverTriggerSelector()),this.popoverContentElement=this.querySelector(this.getPopoverSelector()),this.popoverAccessibilityController.setPanelTrigger(this.popoverTrigger),this.popoverAccessibilityController.setHidePanelCallback(function(){e.hidePopover()}),this.popoverAccessibilityController.setPanelContainer(this.popoverContentElement),this.popoverAccessibilityController.addRequiredAccessibilityLabelsToChildTabbableElements(),this.createPopoverPanel()):this.domEventListenerAdded||(this.log("the data is not in.  Wait for the data to come in before initializing the popover."),null!=(t=this.querySelector(this.getListenerSelector()))?(t.addEventListener("dom-change",function(t){e.log("dom-change event occurred"),e.createPopover()}),this.domEventListenerAdded=!0):console.error(this.getListenerSelector()+" does not exist")))},c.prototype.createPopoverPanel=function(){var e=this;this.log("createPopoverPanel() called");var t=u.PoppableElementFactory.generatePopoverConfig(!1,this.getDefaultAlignment(),7e3,"popover "+this.is,this.popoverContentElement,function(t){e.onPopoverHidden(t)},function(t){e.onPopoverShown(t)});this.popoverInstance=u.PoppableElementFactory.generatePoppableElement(this.popoverTrigger,t,this.is)},c.prototype.hidePopover=function(){this.log("hidePopover() called"),null!=this.popoverInstance&&this.popoverInstance.hide()},c.prototype.getListenerSelector=function(){return this.getPopoverSelector()},c.prototype.onPopoverHidden=function(t){this.log("onPopoverHidden called"),this.isPopoverShowing=!1,this.popoverAccessibilityController.deregisterEventListenerOnPanel("keydown")},c.prototype.onPopoverShown=function(t){this.log("onPopoverShown called"),this.isPopoverShowing=!0,this.popoverContentElement=t.popper,this.popoverAccessibilityController.setPanelContainer(this.popoverContentElement),this.popoverContentElement.setAttribute("aria-label",l.pdsI18n.getText("pds|popover|Backwards From First Element")),this.popoverAccessibilityController.registerEventListenerOnPanel("keydown")},c);function c(){var t=null!==o&&o.apply(this,arguments)||this;return t.domEventListenerAdded=!1,t.isPopoverShowing=!1,t}e.SinglePopoverWidget=r},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(15),i=function(t){this.notificationStream=new n.Subject};e.NotificationService=i},function(t,e,i){"use strict";i.d(e,"a",function(){return n});var n=function(){function i(t,e){void 0===e&&(e=i.now),this.SchedulerAction=t,this.now=e}return i.prototype.schedule=function(t,e,i){return void 0===e&&(e=0),new this.SchedulerAction(this,t).schedule(i,e)},i.now=function(){return Date.now()},i}()},function(t,e,i){"use strict";function r(t,e){return t<e?-1:e<t?1:0}(e=e.DateUtil||(e.DateUtil={})).compareDates=r,e.isBefore=function(t,e){return-1===r(t,e)},e.isAfter=function(t,e){return 1===r(t,e)},e.dateRangeIsContained=function(t,e,i,n){return 0<=r(t,i)&&r(e,n)<=0}},function(t,e,i){"use strict";function r(t,e){return null==t||null==e?t:Number(Math.round(t+"e"+e)+"e-"+e)}(e=e.NumberUtil||(e.NumberUtil={})).compareNumbers=function(t,e){return t<e?-1:e<t?1:0},e.isNumber=function(t){return null!=t&&!isNaN(t)},e.round=r,e.roundToPrecision=function(t,e,i,n){return r(t,n?e:i)}},function(t,e,i){"use strict";(e=e.StringUtil||(e.StringUtil={})).defaultString=function(t){return null!=t?t:""},e.compareStrings=function(t,e){return null!=t&&null==e?-1:null==t&&null!=e?1:null==t&&null==e?0:t.localeCompare(e)},e.compareStringsIgnoreCase=function(t,e){return this.compareStrings(t.toLowerCase(),e.toLowerCase())},e.ESCAPE_EXCLUDE_CHARS_REGEX=/[\-\^\*\\\]]/g,e.scrubStringForFileName=function(t){return t.replace(/[^a-z0-9]/gi,"_").toLowerCase()}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(6),o=0,i=(r.compare=function(t,e){return null!=t.mostRecentPostedAt&&null==e.mostRecentPostedAt?-1:null==t.mostRecentPostedAt&&null!=e.mostRecentPostedAt?1:null==t.mostRecentPostedAt&&null==e.mostRecentPostedAt?0:e.mostRecentPostedAt.getTime()-t.mostRecentPostedAt.getTime()},r.prototype.addNotification=function(t){var e=t.getTitle();0===this.notifications.length?this.title=e:null!=this.title&&-1===this.title.indexOf(e)&&(this.title+=", "+e);var i=t.getTooltip();null==this.tooltip&&(this.tooltip=i);e=t.getSubtitle();this.subtitle||(this.subtitle=e);e=t.getUserType();this.userType||(this.userType=e),null==this.senderUid&&(this.senderUid=t.getSenderUid());e=t.getPostedAt();null!=e&&(null==this.mostRecentPostedAt||e.getTime()>this.mostRecentPostedAt.getTime())&&(this.senderUid=t.getSenderUid(),this.mostRecentPostedAt=e,this.tooltip=i,this.postedAtUXFormat=n.pdsI18n.formatDate(e,"DATE_TIME_PRETTY")),this.notifications.push(t),t.isSeen||(this.isSeen=!1,this.unseenNotificationCount++),t.isRead||(this.isRead=!1,this.unreadNotificationCount++),this.colorClass||(this.colorClass=t.getColorClass()),this.requiresAction=this.requiresAction||t.getRequiresAction()},r.prototype.markAsSeen=function(){for(var t=0,e=this.notifications;t<e.length;t++)e[t].isSeen=!0;this.unseenNotificationCount=0,this.isSeen=!0},r.prototype.markAsRead=function(){for(var t=0,e=this.notifications;t<e.length;t++)e[t].isRead=!0;this.unreadNotificationCount=0,this.isRead=!0},r.prototype.getUnreadNotifications=function(){return this.notifications.filter(function(t){return!t.isRead})},Object.defineProperty(r.prototype,"lookUpKey",{get:function(){return 0<this.notifications.length?this.notifications[0].lookUpKey:""},enumerable:!0,configurable:!0}),r.prototype.markReadWhere=function(t){for(var t=this.notifications.filter(t),e=0,i=t;e<i.length;e++)i[e].isRead=!0,--this.unreadNotificationCount;return t},r);function r(t,e,i,n,r){void 0===n&&(n=!0),void 0===r&&(r=!0),this.type=t,this.aggregationKey=e,this.isMarkedReadOnClick=i,this.isRead=n,this.isSeen=r,this.notifications=[],this.unreadNotificationCount=0,this.unseenNotificationCount=0,this.id=String(o++)}e.NotificationItemGroup=i},function(t,e,i){"use strict";i.d(e,"b",function(){return a}),i.d(e,"a",function(){return d});var n=i(0),r=i(1),o=i(7),e=i(2),s=i(11);function a(e,i,n,r){return function(t){return t.lift(new u(e,i,n,r))}}var u=function(){function t(t,e,i,n){this.keySelector=t,this.elementSelector=e,this.durationSelector=i,this.subjectSelector=n}return t.prototype.call=function(t,e){return e.subscribe(new l(t,this.keySelector,this.elementSelector,this.durationSelector,this.subjectSelector))},t}(),l=function(o){function t(t,e,i,n,r){t=o.call(this,t)||this;return t.keySelector=e,t.elementSelector=i,t.durationSelector=n,t.subjectSelector=r,t.groups=null,t.attemptedToUnsubscribe=!1,t.count=0,t}return n.a(t,o),t.prototype._next=function(t){var e;try{e=this.keySelector(t)}catch(t){return void this.error(t)}this._group(t,e)},t.prototype._group=function(t,e){var i,n=this.groups,r=(n=n||(this.groups=new Map)).get(e);if(this.elementSelector)try{i=this.elementSelector(t)}catch(t){this.error(t)}else i=t;if(!r){r=this.subjectSelector?this.subjectSelector():new s.a,n.set(e,r);n=new d(e,r,this);if(this.destination.next(n),this.durationSelector){var o=void 0;try{o=this.durationSelector(new d(e,r))}catch(t){return void this.error(t)}this.add(o.subscribe(new c(e,r,this)))}}r.closed||r.next(i)},t.prototype._error=function(i){var t=this.groups;t&&(t.forEach(function(t,e){t.error(i)}),t.clear()),this.destination.error(i)},t.prototype._complete=function(){var t=this.groups;t&&(t.forEach(function(t,e){t.complete()}),t.clear()),this.destination.complete()},t.prototype.removeGroup=function(t){this.groups.delete(t)},t.prototype.unsubscribe=function(){this.closed||(this.attemptedToUnsubscribe=!0,0===this.count&&o.prototype.unsubscribe.call(this))},t}(r.a),c=function(r){function t(t,e,i){var n=r.call(this,e)||this;return n.key=t,n.group=e,n.parent=i,n}return n.a(t,r),t.prototype._next=function(t){this.complete()},t.prototype._unsubscribe=function(){var t=this.parent,e=this.key;this.key=this.parent=null,t&&t.removeGroup(e)},t}(r.a),d=function(r){function t(t,e,i){var n=r.call(this)||this;return n.key=t,n.groupSubject=e,n.refCountSubscription=i,n}return n.a(t,r),t.prototype._subscribe=function(t){var e=new o.a,i=this.refCountSubscription,n=this.groupSubject;return i&&!i.closed&&e.add(new p(i)),e.add(n.subscribe(t)),e},t}(e.a),p=function(i){function t(t){var e=i.call(this)||this;return(e.parent=t).count++,e}return n.a(t,i),t.prototype.unsubscribe=function(){var t=this.parent;t.closed||this.closed||(i.prototype.unsubscribe.call(this),--t.count,0===t.count&&t.attemptedToUnsubscribe&&t.unsubscribe())},t}(o.a)},function(t,e,i){"use strict";var n,r=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var o,s=i(65),a=i(9),r=(o=s.NotificationItem,r(u,o),u.generateLookUpKey=function(t){return[t,u.NOTIFICATION_TYPE].join(",")},u.prototype.getColorClass=function(){return a.pdsUtils.getSectionColorForClass(this.context.section)},u.prototype.getSource=function(){return this.context.activitySenderName},u.prototype.getTitle=function(){if("TEACHER"!==this.context.userType)return""+this.context.section.primaryDisplay;var t=this.context.section.secondaryDisplay||"";return(0<(t=15<t.length?t.slice(0,15)+"...":t).length?t+" ":"")+this.context.section.primaryDisplay},u.prototype.getSubtitle=function(){return"PARENT"!==this.context.userType||null==this.context.students?"":this.context.students.map(function(t){return t.firstName+" "+t.lastName}).join(",")},u.prototype.getTooltip=function(){return this.context.activitySenderName+"\n"+this.context.section.secondaryDisplay+" "+this.context.section.primaryDisplay},u.prototype.getPostedAt=function(){return this.context.postedAt},u.prototype.getSenderUid=function(){return this.context.senderUid},Object.defineProperty(u.prototype,"lookUpKey",{get:function(){return u.generateLookUpKey(this.context.section.uid)},enumerable:!0,configurable:!0}),u.NOTIFICATION_TYPE="ACTIVITY_FEED_NOTIFICATION",u);function u(t,e,i){e=o.call(this,u.NOTIFICATION_TYPE,t,e)||this;return e.context=i,e.id=e.context.activityId,e.feedName=e.context.feedName,e.aggregationKey=JSON.stringify({sectionUid:e.context.section.uid}),e}e.ActivityFeedNotificationItem=r},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=/^[A-Za-z0-9_]+(\(\))?(\.[A-Za-z0-9_]+(\(\))?)*$/,r=/^[A-Za-z0-9]+$/,o=/^([A-Za-z0-9]+)\( *\)$/,s=(a.prototype.resolve=function(t){var e=t;return this.tokens.find(function(t){return null==e||(e=t.isFunction?e[t.hash].call(e):e[t.hash],!1)}),e},a);function a(t){var e=this;if(this.tokens=[],!n.test(t))throw"parseText not supported: "+t;t.split(".").forEach(function(t){r.test(t)?e.tokens.push({hash:t,isFunction:!1}):!o.test(t)||null!=(t=o.exec(t))&&e.tokens.push({hash:t[1],isFunction:!0})})}e.SimpleParseResolver=s},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=i(27);e.pdsValidation={pds:void 0,_customValidationFunctions:{},validateElements:function(t,e){if(void 0===e&&(e=!0),null==t)return!0;for(var i=!0,n=t.querySelectorAll(o.allInputTagsSelector),r=0;r<n.length;r++)i=n[r].validateWidget(!0)&&i;return!i&&e&&this.setFocusOnFirstInvalidElement(t),i},registerCustomValidate:function(t,e){null!=t&&""!==t&&null!=e&&(this._customValidationFunctions[t]=e)},getCustomValidate:function(t){return this._customValidationFunctions[t]},getAllInvalidElements:function(t){for(var e=new Array,i=t.querySelectorAll(o.allInputTagsSelector),n=0;n<i.length;n++)i[n].validateWidget(!0)||e.push(i[n]);return e},getFirstInvalidElement:function(t){for(var e,i=t.querySelectorAll(o.allInputTagsSelector),n=0;n<i.length;n++)if(!i[n].validateWidget(!0))return e=i[n];return e},setFocusOnFirstInvalidElement:function(t){t=this.getFirstInvalidElement(t);null!=t&&(t.setAttribute("tabindex","-1"),t.focus())}}},function(t,e,i){"use strict";var n,r=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var o,s=i(51),a=i(9),u=i(49),r=(o=s.GridWidgetFilter,r(l,o),l.prototype.isBlank=function(){return null==this.searchValue||this.searchValue===l.blankObject},l.prototype.internalPassesFilter=function(t){return t===this.searchValue},l.prototype.preFilterUpdate=function(){},l.prototype.getTagName=function(){return"pds-gw-select-filter"},l.prototype.setQuickSearchValue=function(i){var n=this;this.searchValue=void 0;var r=!1;return null!=i&&""!==i&&this.dataField.selectOptions.forEach(function(t,e){0<=e.toUpperCase().search(a.pdsUtils.escapeUserInput(i.toUpperCase()))&&(r=!0,(null==n.searchValue||t.length<n.searchValue.length)&&(n.searchValue=t))}),r},l.prototype.getRestArguments=function(){return this.isBlank()?[]:[new u.RestArgument(this.dataField.id,"=",this.searchValue)]},l.prototype.getTagText=function(){var i=this,t=this.dataField.selectOptions.find(function(t,e){return i.searchValue===t});return null==t?"blank":t.key},l.prototype.getPersistenceObject=function(){return this.searchValue},l.prototype.restoreFromPersistenceObject=function(t){this.searchValue=t},l.blankObject={toString:function(){return"blank object"}},l);function l(){return null!==o&&o.apply(this,arguments)||this}e.SelectFilter=r},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=i(15),n=i(10),o=i(19),l=i(107),s=n.pdsLogger.requiresLogger("feed"),n=(a.prototype.realTimeUpdates=function(){var u=this;return r.Observable.create(function(a){var t=u.clientFeed.subscribe(function(t){if(t.new&&0<t.new.length){l.GetStreamCacheService.evictObservable(u.clientFeed.feedUrl,"GetStreamFeedService.realTimeUpdates (new activity)");for(var e=0,i=t.new;e<i.length;e++){var n=i[e];a.next({newActivity:n})}}if(t.deleted&&0<t.deleted.length){l.GetStreamCacheService.evictObservable(u.clientFeed.feedUrl,"GetStreamFeedService.realTimeUpdates (deleted activity)");for(var r=0,o=t.deleted;r<o.length;r++){var s=o[r];a.next({deletedActivity:{id:s,feed:t.feed}})}}});u.clientFeedSubscriptions.push(t),t.then(function(){u.debug("Listening in realtime for "+u.feedInfo())},function(t){throw a.complete(),new Error("Getstream: something went wrong when initializing real-time updates connection for "+u.feedInfo())})})},a.prototype.cancelSubscriptions=function(){for(var t=0,e=this.clientFeedSubscriptions;t<e.length;t++)e[t].cancel();this.clientFeedSubscriptions=[]},a.prototype.getFeedId=function(){return this.clientFeed.id},a.prototype.getSignedId=function(){return this.clientFeed.id+" "+this.clientFeed.token},Object.defineProperty(a.prototype,"hasMoreActivities",{get:function(){return null!==this.lastActivity},enumerable:!0,configurable:!0}),a.prototype.getPreviousActivities=function(t){var e=this;if(void 0===t&&(t=6),this.isNotificationFeed)throw"can not fetch activities on notification feed yet";function i(t){return r.from(e.clientFeed.get(t).then(function(t){return 0<t.results.length?e.lastActivity=t.results[t.results.length-1]:e.lastActivity=null,t.results}).catch(function(t){e.debug("[getPreviousActivities]",t)}))}if(null!=this.lastActivity)return i({id_lt:this.lastActivity.id,limit:t});var n=l.GetStreamCacheService.getObservable(this.clientFeed.feedUrl,t);return null==n&&(n=i({limit:t}),l.GetStreamCacheService.cacheObservable(this.clientFeed.feedUrl,t,"GetStreamFeedService.getPreviousActivities",n)),n},a.prototype.getNotifications=function(t){if(void 0===t&&(t=200),!this.isNotificationFeed)throw"can only get notifications from notification feeds";var e=l.GetStreamCacheService.getObservable(this.clientFeed.feedUrl,t);return null==e&&(e=r.from(this.clientFeed.get({limit:t}).then(function(t){return t.results})),l.GetStreamCacheService.cacheObservable(this.clientFeed.feedUrl,t,"GetStreamFeedService.getNotifications",e)),e},a.prototype.markNotificationsRead=function(t){if(!this.isNotificationFeed)throw"can only mark notifications read on notification feeds";if(0===t.length)return r.of(null);var e=JSON.parse(JSON.stringify(t)),i=[];for(l.GetStreamCacheService.evictObservable(this.clientFeed.feedUrl,"GetStreamFeedService.markNotificationsRead");0<e.length;){var n=e.splice(0,45);i.push(this.clientFeed.get({limit:5,mark_read:n}))}return r.forkJoin(i).pipe(o.mapTo(null))},a.prototype.getFeedName=function(){return this.feedName},a.prototype.debug=function(t){for(var e=[],i=1;i<arguments.length;i++)e[i-1]=arguments[i];s("Getstream("+this.feedInfo()+"): "+t,e)},a.prototype.feedInfo=function(){return this.groupName+": "+this.feedName},a);function a(t,e,i,n,r){void 0===r&&(r=!1),this.client=t,this.groupName=e,this.feedName=i,this.isNotificationFeed=r,this.clientFeedSubscriptions=[],this.token=n,this.clientFeed=this.client.feed(this.groupName,this.feedName,this.token),this.debug("New feed",this.clientFeed)}e.GetStreamFeedService=n},function(t,e,i){"use strict";var n,r=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var o,s=i(44),a=i(77),u=i(75),l=i(48),r=(o=s.GridWidgetDataField,r(c,o),c.generateOrderedMap=function(t,e){var i=new u.SimpleParseResolver(e),n=new l.OrderedMap,r={};t.forEach(function(t){t=i.resolve(t);null!=t&&""!==t&&(r[String(t).toUpperCase()]=t)});t=Object.keys(r);return t.sort(),t.forEach(function(t){n.put(r[t],t)}),n},c.prototype.getFilterInstance=function(){return new a.SelectFilter(this)},c.prototype.resolveAsString=function(t){for(var e,i=this.resolve(t),n=0,r=this.selectOptions.keys();n<r.length;n++){var o=r[n];this.selectOptions.get(o)===i&&(null==e?e=o:console.error("selectOptions has multiple keys for the same value: "+i))}return e||""},c);function c(t,e,i,n,r){r=o.call(this,t,e,i,r)||this;return r.selectOptions=n,r}e.SelectField=r},function(t,e,i){"use strict";i.d(e,"a",function(){return u}),i.d(e,"b",function(){return l});var r=i(0),n=i(11),o=i(2),e=i(1),s=i(7),a=i(54),u=function(n){function t(t,e){var i=n.call(this)||this;return i.source=t,i.subjectFactory=e,i._refCount=0,i._isComplete=!1,i}return r.a(t,n),t.prototype._subscribe=function(t){return this.getSubject().subscribe(t)},t.prototype.getSubject=function(){var t=this._subject;return t&&!t.isStopped||(this._subject=this.subjectFactory()),this._subject},t.prototype.connect=function(){var t=this._connection;return t||(this._isComplete=!1,(t=this._connection=new s.a).add(this.source.subscribe(new c(this.getSubject(),this))),t.closed?(this._connection=null,t=s.a.EMPTY):this._connection=t),t},t.prototype.refCount=function(){return Object(a.a)()(this)},t}(o.a),o=u.prototype,l={operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:o._subscribe},_isComplete:{value:o._isComplete,writable:!0},getSubject:{value:o.getSubject},connect:{value:o.connect},refCount:{value:o.refCount}},c=function(i){function t(t,e){t=i.call(this,t)||this;return t.connectable=e,t}return r.a(t,i),t.prototype._error=function(t){this._unsubscribe(),i.prototype._error.call(this,t)},t.prototype._complete=function(){this.connectable._isComplete=!0,this._unsubscribe(),i.prototype._complete.call(this)},t.prototype._unsubscribe=function(){var t,e=this.connectable;e&&(this.connectable=null,t=e._connection,e._refCount=0,e._subject=null,e._connection=null,t&&t.unsubscribe())},t}(n.b);e.a},function(t,e,i){"use strict";i.d(e,"a",function(){return o});var n=i(0),e=i(11),r=i(30),o=function(i){function t(t){var e=i.call(this)||this;return e._value=t,e}return n.a(t,i),Object.defineProperty(t.prototype,"value",{get:function(){return this.getValue()},enumerable:!0,configurable:!0}),t.prototype._subscribe=function(t){var e=i.prototype._subscribe.call(this,t);return e&&!e.closed&&t.next(this._value),e},t.prototype.getValue=function(){if(this.hasError)throw this.thrownError;if(this.closed)throw new r.a;return this._value},t.prototype.next=function(t){i.prototype.next.call(this,this._value=t)},t}(e.a)},function(t,e,i){"use strict";i.d(e,"b",function(){return n}),i.d(e,"a",function(){return a});var r=i(0),e=i(1),o=i(25);function n(e,i){return void 0===i&&(i=0),function(t){return t.lift(new s(e,i))}}var s=function(){function t(t,e){void 0===e&&(e=0),this.scheduler=t,this.delay=e}return t.prototype.call=function(t,e){return e.subscribe(new a(t,this.scheduler,this.delay))},t}(),a=function(n){function e(t,e,i){void 0===i&&(i=0);t=n.call(this,t)||this;return t.scheduler=e,t.delay=i,t}return r.a(e,n),e.dispatch=function(t){var e=t.notification,t=t.destination;e.observe(t),this.unsubscribe()},e.prototype.scheduleMessage=function(t){this.add(this.scheduler.schedule(e.dispatch,this.delay,new u(t,this.destination)))},e.prototype._next=function(t){this.scheduleMessage(o.a.createNext(t))},e.prototype._error=function(t){this.scheduleMessage(o.a.createError(t))},e.prototype._complete=function(){this.scheduleMessage(o.a.createComplete())},e}(e.a),u=function(){return function(t,e){this.notification=t,this.destination=e}}()},function(t,e,i){"use strict";i.d(e,"a",function(){return r});var n=i(0),r=function(e){function i(){var t=e.call(this,"Timeout has occurred")||this;return t.name="TimeoutError",Object.setPrototypeOf(t,i.prototype),t}return n.a(i,e),i}(Error)},function(t,e,i){"use strict";i.d(e,"a",function(){return r});var n=i(59);function r(){return Object(n.a)(1)}},function(t,e,i){"use strict";i.d(e,"a",function(){return n});var o=i(2),s=i(16),a=i(59),u=i(21);function n(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var i=Number.POSITIVE_INFINITY,n=null,r=t[t.length-1];return Object(s.a)(r)?(n=t.pop(),1<t.length&&"number"==typeof t[t.length-1]&&(i=t.pop())):"number"==typeof r&&(i=t.pop()),null===n&&1===t.length&&t[0]instanceof o.a?t[0]:Object(a.a)(i)(Object(u.a)(t,n))}},function(t,e,i){"use strict";i.d(e,"a",function(){return a});var n=i(0),r=i(14),o=i(21),e=i(4),s=i(3);function a(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if(1===t.length){if(!Object(r.a)(t[0]))return t[0];t=t[0]}return Object(o.a)(t,void 0).lift(new u)}var u=function(){function t(){}return t.prototype.call=function(t,e){return e.subscribe(new l(t))},t}(),l=function(e){function t(t){t=e.call(this,t)||this;return t.hasFirst=!1,t.observables=[],t.subscriptions=[],t}return n.a(t,e),t.prototype._next=function(t){this.observables.push(t)},t.prototype._complete=function(){var t=this.observables,e=t.length;if(0===e)this.destination.complete();else{for(var i=0;i<e&&!this.hasFirst;i++){var n=t[i],n=Object(s.a)(this,n,n,i);this.subscriptions&&this.subscriptions.push(n),this.add(n)}this.observables=null}},t.prototype.notifyNext=function(t,e,i,n,r){if(!this.hasFirst){this.hasFirst=!0;for(var o,s=0;s<this.subscriptions.length;s++)s!==i&&((o=this.subscriptions[s]).unsubscribe(),this.remove(o));this.subscriptions=null}this.destination.next(e)},t}(e.a)},function(t,e,i){"use strict";i.d(e,"a",function(){return n});var o=i(2),s=i(13),a=i(42),u=i(16);function n(i,t,n){void 0===i&&(i=0);var r=-1;return Object(a.a)(t)?r=Number(t)<1?1:Number(t):Object(u.a)(t)&&(n=t),Object(u.a)(n)||(n=s.a),new o.a(function(t){var e=Object(a.a)(i)?i:+i-n.now();return n.schedule(l,e,{index:0,period:r,subscriber:t})})}function l(t){var e=t.index,i=t.period,n=t.subscriber;if(n.next(e),!n.closed){if(-1===i)return n.complete();t.index=e+1,this.schedule(t,i)}}},function(t,e,i){"use strict";var r=i(0),n=function(n){function t(t,e){var i=n.call(this,t,e)||this;return i.scheduler=t,i.work=e,i}return r.a(t,n),t.prototype.schedule=function(t,e){return 0<(e=void 0===e?0:e)?n.prototype.schedule.call(this,t,e):(this.delay=e,this.state=t,this.scheduler.flush(this),this)},t.prototype.execute=function(t,e){return 0<e||this.closed?n.prototype.execute.call(this,t,e):this._execute(t,e)},t.prototype.requestAsyncId=function(t,e,i){return null!==(i=void 0===i?0:i)&&0<i||null===i&&0<this.delay?n.prototype.requestAsyncId.call(this,t,e,i):t.flush(this)},t}(i(41).a),o=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r.a(e,t),e}(i(39).a);i.d(e,"a",function(){return s});var s=new o(n)},function(t,e,i){"use strict";function n(t){return null!=t&&"object"==typeof t}i.d(e,"a",function(){return n})},function(t,e,i){"use strict";i.d(e,"a",function(){return n});var r=i(0),n=function(n){function t(t,e){var i=n.call(this)||this;return i.subject=t,i.subscriber=e,i.closed=!1,i}return r.a(t,n),t.prototype.unsubscribe=function(){var t,e;this.closed||(this.closed=!0,t=(e=this.subject).observers,this.subject=null,!t||0===t.length||e.isStopped||e.closed||-1!==(e=t.indexOf(this.subscriber))&&t.splice(e,1))},t}(i(7).a)},function(t,e,i){"use strict";i.d(e,"a",function(){return n});var n=function(n){return function(t){for(var e=0,i=n.length;e<i&&!t.closed;e++)t.next(n[e]);t.closed||t.complete()}}},function(t,e,i){"use strict";i.d(e,"a",function(){return h});var n=i(2),r=i(91),o=i(96),s=i(97),a=i(93),u=i(94),l=i(95),c=i(89),d=i(26),p=i(29),h=function(e){if(e instanceof n.a)return function(t){if(!e._isScalar)return e.subscribe(t);t.next(e.value),t.complete()};if(e&&"function"==typeof e[p.a])return Object(a.a)(e);if(Object(u.a)(e))return Object(r.a)(e);if(Object(l.a)(e))return Object(o.a)(e);if(e&&"function"==typeof e[d.a])return Object(s.a)(e);var t=Object(c.a)(e)?"an invalid object":"'"+e+"'";throw new TypeError("You provided "+t+" where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.")}},function(t,e,i){"use strict";i.d(e,"a",function(){return r});var n=i(29),r=function(i){return function(t){var e=i[n.a]();if("function"!=typeof e.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return e.subscribe(t)}}},function(t,e,i){"use strict";i.d(e,"a",function(){return n});var n=function(t){return t&&"number"==typeof t.length&&"function"!=typeof t}},function(t,e,i){"use strict";function n(t){return t&&"function"!=typeof t.subscribe&&"function"==typeof t.then}i.d(e,"a",function(){return n})},function(t,e,i){"use strict";i.d(e,"a",function(){return r});var n=i(45),r=function(t){return function(e){return t.then(function(t){e.closed||(e.next(t),e.complete())},function(t){return e.error(t)}).then(null,n.a),e}}},function(t,e,i){"use strict";i.d(e,"a",function(){return n});var r=i(26),n=function(n){return function(t){for(var e=n[r.a]();;){var i=e.next();if(i.done){t.complete();break}if(t.next(i.value),t.closed)break}return"function"==typeof e.return&&t.add(function(){e.return&&e.return()}),t}}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.HTML_TAG_WHITELIST=["strike","del","dd","h3","small","big","sub","tt","fieldset","a","ul","h4","cite","dfn","thead","legend","h5","kbd","code","b","ins","img","acronym","h6","sup","pre","iframe","tbody","blockquote","td","o:p","dt","br","output","p","strong","caption","div","samp","table","li","ol","var","s","font","tr","em","th","h1","address","i","abbr","h2","span","hr","u"],e.HTML_ATTRIBUTE_WHITELIST=["name","face","href","cellspacing","bgcolor","size","cite","dir","class","title","src","border","summary","color","height","rowspan","cellpadding","align","datetime","alt","colspan","style","target","width"],e.WHITE_LIST={},e.HTML_TAG_WHITELIST.forEach(function(t){e.WHITE_LIST[t]=e.HTML_ATTRIBUTE_WHITELIST});var n={whiteList:e.WHITE_LIST};e.sanitizeHtmlString=function(t){return filterXSS(t,n)}},function(t,e,i){"use strict";var n,r=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var o,s=i(6),i=i(65),r=(o=i.NotificationItem,r(a,o),a.generateLookUpKey=function(t){return[t,a.NOTIFICATION_TYPE].join(",")},a.prototype.getTitle=function(){return this.context.activity.assignmentName},a.prototype.getSubtitle=function(){return this.context.activity.studentName},a.prototype.getPostedAt=function(){return new Date(this.context.activity.time+"Z")},a.prototype.getUserType=function(){return this.context.userType},a.prototype.getTooltip=function(){return s.pdsI18n.getText("pds|notifications|Student submitted homework")},a.prototype.getSenderUid=function(){return this.context.activity.studentUid},a.prototype.getSectionUid=function(){return this.context.activity.sectionUid},a.prototype.getSectionName=function(){return this.context.sectionName},a.prototype.getColorClass=function(){return this.context.activity.assignmentCategoryColor},Object.defineProperty(a.prototype,"lookUpKey",{get:function(){return a.generateLookUpKey(this.context.activity.assignmentUid)},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"currentUserUid",{get:function(){return this.context.currentUserUid},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"getstreamGroupId",{get:function(){return this.context.getStreamGroupId},enumerable:!0,configurable:!0}),a.NOTIFICATION_TYPE="ASSIGNMENT_NOTIFICATION",a.NOTIFICATION_SUBTYPE="ASSIGNMENT_SUBMISSION_NOTIFICATION",a);function a(t,e,i){void 0===t&&(t=!1),void 0===e&&(e=!1);e=o.call(this,a.NOTIFICATION_TYPE,t,e,void 0,a.NOTIFICATION_SUBTYPE)||this;return e.context=i,e.id=e.context.activity.group||e.id,e.aggregationKey=JSON.stringify({assignmentUid:e.context.activity.assignmentUid}),e}e.AsgmtSubmissionNotificationItem=r},function(t,e,i){"use strict";var n,r=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var o,s=i(65),a=i(6),r=(o=s.NotificationItem,r(u,o),u.generateLookUpKey=function(t){return[t.assignmentTemplateUid,t.sectionUid,u.NOTIFICATION_TYPE].join(",")},u.prototype.getTitle=function(){return this.context.assignmentName},u.prototype.getSubtitle=function(){return this.context.sectionName||""},u.prototype.getPostedAt=function(){return new Date(this.context.postedAt)},u.prototype.getTooltip=function(){return a.pdsI18n.getText("pds|notifications|Messages regarding xx",{name:this.context.assignmentName})},u.prototype.getRequiresAction=function(){return!this.context.hasBeenAssigned||this.context.needsReassignment},Object.defineProperty(u.prototype,"lookUpKey",{get:function(){return u.generateLookUpKey(this.context)},enumerable:!0,configurable:!0}),u.NOTIFICATION_TYPE="ASSIGNMENT_NOTIFICATION",u.NOTIFICATION_SUBTYPE="ASSIGNMENT_TEMPLATE_NOTIFICATION",u);function u(t){var e=o.call(this,u.NOTIFICATION_TYPE,!1,t.hasBeenAssigned&&!t.needsReassignment,void 0,u.NOTIFICATION_SUBTYPE)||this;return e.context=t,e.isMarkedReadOnClick=!1,e.aggregationKey=JSON.stringify({assignmentTemplateUid:e.context.assignmentTemplateUid,sectionUid:e.context.sectionUid,assignmentUid:e.context.assignmentUid}),e}e.AssignmentTemplateNotificationItem=r},function(t,e,i){"use strict";var n,r=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var u,o=i(65),s=i(6),r=(u=o.NotificationItem,r(l,u),l.getIsPartOfThread=function(e){return function(t){return t.getThreadUid()===e&&!t.isRead}},l.generateLookUpKey=function(t,e){return[t,e,l.NOTIFICATION_TYPE].join(",")},l.prototype.getTitle=function(){return null==this.context.senderInfo?"Display Name Not Available":this.context.senderInfo.firstName+" "+this.context.senderInfo.lastName},l.prototype.getSections=function(){return Array.from(this.sectionToDetailMap.values())},l.prototype.getPostedAt=function(){return new Date(this.context.activity.message.sentAt)},l.prototype.getThreadType=function(){return this.context.activity.threadType},l.prototype.getUserType=function(){return this.context.userType},l.prototype.getTopicUid=function(){return this.context.activity.topicUid},l.prototype.getTopicOrOwnerUid=function(){return"TEACHER"===this.context.userType?this.context.activity.topicUid:this.context.activity.threadOwnerUid},l.prototype.getTooltip=function(){return s.pdsI18n.getText("pds|notifications|Messages regarding xx",{name:this.getTitle()})},l.prototype.getThreadUid=function(){return this.context.activity.message.threadUid},Object.defineProperty(l.prototype,"lookUpKey",{get:function(){return l.generateLookUpKey(this.context.activity.topicUid,this.context.activity.threadOwnerUid)},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"message",{get:function(){return this.context.activity.message},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"threadUid",{get:function(){return this.context.activity.message.threadUid},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"currentUserUid",{get:function(){return this.context.currentUserUid},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"getstreamGroupId",{get:function(){return this.context.getStreamGroupId},enumerable:!0,configurable:!0}),l.NOTIFICATION_TYPE="COMMUNICATION_NOTIFICATION",l);function l(t,e,i){void 0===t&&(t=!1),void 0===e&&(e=!1);var n=u.call(this,l.NOTIFICATION_TYPE,t,e)||this;n.context=i,n.id=n.context.activity.group||n.id,n.isMarkedReadOnClick=!1,n.aggregationKey=JSON.stringify({topicUid:n.context.activity.topicUid,threadOwnerUid:n.context.activity.threadOwnerUid}),n.sectionToDetailMap=new Map;var r=new Set(n.context.activity.message.associatedSectionUids||[]);if(null==n.context.senderInfo)return console.error("this context does not have senderInfo"),n;for(var o=0,s=n.context.senderInfo.sections;o<s.length;o++){var a=s[o];r.has(a.uid)&&n.sectionToDetailMap.set(a.uid,a)}return n}e.CommunicationNotificationItem=r},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var h=i(75),y=function(t){return null!=t&&("number"==typeof t?!isNaN(t):"string"==typeof t?0<t.trim().length:!0===t||!1===t||("function"==typeof t||"object"==typeof t&&("length"in t?0<t.length:!(t instanceof HTMLElement)||y(t.value))))},i=(n.prototype.clearKey=function(){this.key=null},n.prototype.setAlphabet=function(t){this.alphabet=y(t)?t:null},n.prototype.setAscending=function(t){this.isAscending=t},n.prototype.setEmptyAsNull=function(t){this.emptyAsNull=t},n.prototype.setIgnoreCase=function(t){this.isIgnoreCase=t},n.prototype.setKey=function(t){null==(this.key=t)&&console.warn("Invalid value for natural compare key: ",t)},n.prototype.setNulls=function(t){t=(t=null==t||"string"!=typeof t?"asc":t).toLowerCase(),this.nulls="desc"===t||"first"===t||"last"===t?t:"asc"},n.prototype.ascending=function(){this.isAscending=!0},n.prototype.descending=function(){this.isAscending=!1},n.prototype.ignoreCase=function(){this.isIgnoreCase=!0},n.prototype.nullsAsc=function(){this.nulls="asc"},n.prototype.nullsDesc=function(){this.nulls="desc"},n.prototype.nullsFirst=function(){this.nulls="first"},n.prototype.nullsLast=function(){this.nulls="last"},n.prototype.useCase=function(){this.isIgnoreCase=!1},n.prototype.reset=function(){this.alphabet=null,this.emptyAsNull=!1,this.isAscending=!0,this.isIgnoreCase=!1,this.nulls="asc",this.clearKey()},n.prototype.naturalSort=function(t,e){var i;if(t instanceof Array){var n=!1,r=!1;if(t.forEach(function(t){null!=t&&"object"==typeof t?n=!0:r=!0}),n&&!r){if(null==e)throw"Unable to sort an array of objects without a lookup key";this.setKey(e),i=t.sort(this.naturalCompare)}else if(!n&&r)this.key=null,i=t.slice().sort(this.naturalCompare);else{if(n||r)throw"Unable to sort an array containing both primitives and objects.";i=t}}else i=t;return i},n.prototype.sortObjectsAdvanced=function(t,e,i){var a=this;void 0===i&&(i=!1);for(var n=[],r=0;r<t.length;r++)n[r]=t[r],void 0===n[r]&&console.error("natural sort does not support undefined elements in the array.");for(var u=[],o=0,s=e;o<s.length;o++){var l=s[o],c=l.extractionKey,d=void 0;"function"==typeof c?d=c:"string"==typeof c&&(d=(c=new h.SimpleParseResolver(c)).resolve.bind(c));var p={extractor:d,isReversed:!1,nullsFirst:!0};switch(l.sortDirection){case"+!":p.isReversed=i,p.nullsFirst=!1;break;case"!-":p.isReversed=!i,p.nullsFirst=!1;break;case"-":case"-!":p.isReversed=!i,p.nullsFirst=!0;break;case"++":case"!++":case"!!++":p.isReversed=!1,p.nullsFirst=!0;break;case"!--":case"!!--":p.isReversed=!0,p.nullsFirst=!1;break;case"--":case"--!":case"--!!":p.isReversed=!0,p.nullsFirst=!0;break;case"++!":case"++!!":p.isReversed=!1,p.nullsFirst=!1;break;case"!!+":p.isReversed=i,p.nullsFirst=!0!==p.isReversed;break;case"+!!":p.isReversed=i,p.nullsFirst=!0===p.isReversed;break;case"!!-":p.isReversed=!i,p.nullsFirst=!0!==p.isReversed;break;case"-!!":p.isReversed=!i,p.nullsFirst=!0===p.isReversed;break;case"!":case"+":case"!!":case"!+":default:p.isReversed=i,p.nullsFirst=!0}u.push(p)}return n.sort(function(t,e){for(var i=0,n=u;i<n.length;i++){var r=n[i],o=r.extractor(t),s=r.extractor(e);r.nullsFirst?a.nullsFirst():a.nullsLast();s=a.naturalCompare(o,s);if(0!==s)return r.isReversed?1===s?-1:1:s}return 0}),n},n.prototype.sortPrimitives=function(t,i){var n=this;void 0===i&&(i=!1);for(var e=[],r=0;r<t.length;r++)e[r]=t[r],void 0===e[r]&&console.error("natural sort does not support undefined elements in the array.");return e.sort(function(t,e){e=n.naturalCompare(t,e);return e<0?!1!==i?1:-1:0<e?!1!==i?-1:1:0})},n.prototype.sortObjects=function(t,e,i){void 0===i&&(i=!1);for(var n=[],r=0,o=e="string"==typeof e?[e]:e;r<o.length;r++){var s=o[r],s=this.splitConfigurationSetting(s);n.push(s)}return this.sortObjectsAdvanced(t,n,i)},n.prototype.splitConfigurationSetting=function(t){var e,t=this.CONFIG_SPLIT_REGEX.exec(t);return e=null!=t&&2<t.length?{sortDirection:t[1],extractionKey:t[2]}:e},n);function n(){this.CONFIG_SPLIT_REGEX=/^(\+{1,2}!{0,2}|\-{1,2}!{0,2}|\!{1,2}[+-]{0,2})?([^!^+^-].*)$/,this.alphabet=null,this.emptyAsNull=!1,this.isAscending=!0,this.isIgnoreCase=!1,this.key=null,this.nulls="asc",this.naturalCompare=function(t,e){null!=this.key&&(t=t[this.key],e=e[this.key]);var n,i,r,o=this.alphabet,s=this.isIgnoreCase,a=this.isAscending,u=1,l=0,c=0,d=function(t,e,i){if(i){for(n=e;(i=d(t,n))<76&&65<i;)++n;return parseInt(t.slice(e-1,n),10)}return i=o&&o.indexOf(t.charAt(e)),y(i)&&-1<i?i+76:(i=t.charCodeAt(e)||0)<45||127<i?i:i<46?65:i<48?i-1:i<58?i+18:i<65?i-11:i<91?i+11:i<97?i-37:i<123?i+5:i-63},p=!1,h=!1;if(this.emptyAsNull&&(p=null!=t&&!y(t),h=null!=e&&!y(e)),null==t||null==e||p||h){var f,g=this.nulls;return f=void 0===t&&void 0===e||null===t&&null===e?0:void 0===t?null===e||h||"first"===g?-1:"last"===g?1:"desc"===g?a?1:-1:a?-1:1:void 0===e?null===t||p||"first"===g?1:"last"===g?-1:"desc"===g?a?-1:1:a?1:-1:p&&h?t.localeCompare(e):null===t||p?null===e?1:h||"first"===g?-1:"last"===g?1:"desc"===g?a?1:-1:a?-1:1:"first"===g?1:"last"===g?-1:"desc"===g?a?-1:1:a?1:-1}if(t instanceof Date&&e instanceof Date?(t=t.getTime(),e=e.getTime()):("string"==typeof t&&(r=parseFloat(t),isNaN(r)||t===String(r)&&t.length===r.toString().length&&(t=r)),"string"==typeof e&&(r=parseFloat(e),isNaN(r)||e===String(r)&&e.length===r.toString().length&&(e=r))),"number"==typeof t&&"number"==typeof e)return f=t===e?0:t<e?-1:1,a||(f*=-1),f;if((t+="")!==(e+=""))for(s&&(t=t.toLowerCase(),e=e.toLowerCase());u;)if(i=d(t,l++),u=d(e,c++),i<76&&u<76&&66<i&&66<u&&(i=d(t,l,l),u=d(e,c,l=n),c=n),i!==u)return f=i<u?-1:1,a||(f*=-1),f;return 0}.bind(this)}e.PdsNaturalSort=i,e.pdsNaturalSort=new i},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=i(15),s=i(19),a=i(47),i=(n.prototype.fetchParentParticipants=function(t,e){return a.pdsHttpUtils.get(t+"/navigation/v1/student/"+e+"/parents",{},a.pdsHttpUtils.addUCAuthHeader({})).pipe(s.map(function(t){return JSON.parse(t.data).map(function(t){return{userUid:t.uid,userType:"PARENT"}})}))},n.prototype.fetchTopicThread=function(i,n){var r=this,t={topicUid:n.topicUid,threadType:String(n.threadType),ownerUid:n.ownerUid};return a.pdsHttpUtils.get(i+"/communication/v1/topic_thread",t,a.pdsHttpUtils.addUCAuthHeader({})).pipe(s.mergeMap(function(t){return 204===t.status?r.createTopicThread(i,n):o.of(JSON.parse(t.data))}),s.catchError(function(t,e){return 204===t.status?r.createTopicThread(i,n):e}))},n.prototype.createTopicThread=function(t,e){return a.pdsHttpUtils.post(t+"/communication/v1/thread",e,{},a.pdsHttpUtils.addUCAuthHeader({})).pipe(s.map(function(t){return JSON.parse(t.data)}))},n);function n(){}e.ChatThreadService=i},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var l=i(196);e.PoppableElementFactory={generateTooltipConfig:function(t,e,i,n,r){void 0===r&&(r=[420,0]);var o=this.getScopeContainer();return l.PopperConfiguration.getPopperConfiguration({showArrow:!1,defaultPlacement:t,trigger:e,appendTo:o,stickToReference:!1,interactive:!1,onDisplayAnimation:"fade",customStyleClassName:n,htmlReference:i,popperJsOptions:{modifiers:{preventOverflow:{enabled:!0},computeStyle:{gpuAcceleration:!1},hide:{enabled:!1},removeOnDestroy:!0}},zIndex:9999,transitionDuration:r,beforeShownCallback:function(t){var e=t.popper.querySelector(".tippy-content");null!=e&&""===e.innerHTML.trim()&&null!=t.popperInstance&&t.popperInstance.destroy()}})},generatePopoverConfig:function(t,e,i,n,r,o,s,a){null==a&&(a=this.getScopeContainer());var u={modifiers:{preventOverflow:{enabled:!0,priority:["right","left"],boundariesElement:document.body},computeStyle:{gpuAcceleration:!1},hide:{enabled:!1}}};return l.PopperConfiguration.getPopperConfiguration({showArrow:t,defaultPlacement:e,trigger:"click",appendTo:a,stickToReference:!1,interactive:!0,arrowSizeTransform:"scale(2)",onDisplayAnimation:"shift-toward",customStyleClassName:n,htmlReference:r,popperJsOptions:u,zIndex:i,onShownCallback:s,onHiddenCallback:o})},generatePoppableElement:function(t,e,i){if(window.hasOwnProperty("tippy")){tippy.disableAnimations();e=tippy.one(t,e);return null!=e&&null!=e.popper&&null!=i&&e.popper.firstChild instanceof HTMLElement&&(e.popper.classList.add(i),e.popper.firstChild.classList.add(i)),e}console.error("tippy is undefined. Did the tippy.js script get loaded before calling this? - poppable-element-factory.ts")},getScopeContainer:function(){var t=document.getElementById("pds-tippy-scope");if(t)return t;t=document.createElement("div");return t.classList.add("pds-scope"),t.setAttribute("id","pds-tippy-scope"),document.body.appendChild(t),t}}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=localStorage.getItem("pdsCdnAssetPath")||"https://assets.powerschool.com/pds/22.4.0";e.versionAndPaths={version:"22.4.0",cdnAssetPath:n}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.textLength={name:"textLength",value:function(t,e,i){return i.getText().join().length+(null!=t.node.textContent?t.node.textContent.trim().length:0)}}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=i(10).pdsLogger.requiresLogger("get-stream-cache"),o=new Map,s=!0,n=3e5;r("GetStreamCache: maxCacheDuration = "+n+"(default)");a.getObservable=function(t,e){if(s){var i=o.get(t);if(i){if(i.limit===e)if(Date.now()-i.timestamp<n)return r("GetStreamCache("+o.size+", "+t+"): [Cache Hit] - "+i.description),i.observable;o.delete(t)}}},a.cacheObservable=function(t,e,i,n){return s&&(r("GetStreamCache("+o.size+", "+t+"): [Cache Miss] - "+i),o.set(t,{limit:e,timestamp:Date.now(),description:i,observable:n})),n},a.evictObservable=function(t,e){var i;s&&(i="GetStreamCache("+o.size+", "+t+"): Evicting...",o.has(t)?(o.delete(t),r(i+"[Cache Evicted] - "+e)):r(i+"[Cache Entry Not Found] - "+e))},a.clear=function(){o.clear()},i=a;function a(){}e.GetStreamCacheService=i;Object.defineProperty(u,"enableCaching",{get:function(){return s},set:function(t){r("GetStreamCache: Setting enableCaching to "+(s=t))},enumerable:!0,configurable:!0}),Object.defineProperty(u,"maxCacheDuration",{get:function(){return n},set:function(t){r("GetStreamCache: Setting maxCacheDuration to "+(n=t))},enumerable:!0,configurable:!0}),u.dump=function(){r("GetStreamCache: Dump",o)},i=u;function u(){}e.GetStreamCacheServiceConfig=i},function(t,e,i){"use strict";var n,r=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var o,s=i(51),a=i(49),u=i(9),r=(o=s.GridWidgetFilter,r(l,o),l.prototype.isBlank=function(){var e=this;return null!=this.isBlankOverride?this.isBlankOverride:null==Object.keys(this.searchValues).find(function(t){return e.searchValues[t]})},l.prototype.internalPassesFilter=function(e){var i=this;return null!=Object.keys(this.searchValues).find(function(t){if(i.searchValues[t]){t=i.dataField.selectOptions.get(t);return"function"==typeof t?!0===t(e):"string"==typeof e&&"string"==typeof t?e.toUpperCase()===t.toUpperCase():e===t}return!1})},l.prototype.preFilterUpdate=function(){},l.prototype.getTagName=function(){return"pds-gw-multi-select-filter"},l.prototype.setQuickSearchValue=function(i){var n=this,r=!1;return this.searchValues={},null!=i&&""!==i&&(this.isBlankOverride=!1,this.dataField.selectOptions.forEach(function(t,e){0<=e.toUpperCase().search(u.pdsUtils.escapeUserInput(i.toUpperCase()))&&(n.searchValues[e]=!0,r=!0)})),r},l.prototype.getRestArguments=function(){var t,e=[];for(t in this.searchValues)this.searchValues[t]&&e.push(new a.RestArgument(this.dataField.id,"=",this.dataField.selectOptions.get(t)));return e},l.prototype.getTagText=function(){var t,e=[];for(t in this.searchValues)this.searchValues[t]&&e.push(t);return e.join(", ")},l.prototype.getPersistenceObject=function(){return{searchValues:this.searchValues,isBlankOverride:this.isBlankOverride}},l.prototype.restoreFromPersistenceObject=function(t){this.searchValues=t.searchValues||{},this.isBlankOverride=t.isBlankOverride},l);function l(){var t=null!==o&&o.apply(this,arguments)||this;return t.searchValues={},t}e.MultiSelectFilter=r},function(t,e,i){"use strict";function n(){}e.ScoreIf=n},function(t,e,i){"use strict";var n=i(32),i=(r.prototype.to24HourTime=function(){var t=this.getHours(),e=this.getMinutes();return(t=t<10?"0"+t:t)+":"+(e=e<10?"0"+e:e)},r.prototype.getHours=function(){return this.hours},r.prototype.getMinutes=function(){return this.minutes},r.prototype.setHours=function(t){t%=24;this.hours=0<=t?t:24+t},r.prototype.setMinutes=function(t){var e=Math.floor(t/60);this.setHours(this.hours+e);t%=60;this.minutes=0<=t?t:60+t},r.prototype.getTime=function(){return 6e4*(60*this.hours+this.getMinutes())},r.prototype.set=function(t){this.setHours(t.getHours()),this.setMinutes(t.getMinutes())},r);function r(t,e){"number"==typeof t?(this.setHours(t),this.setMinutes(e||0)):"string"==typeof t?null!=(t=n.i18n.parse24HourTime(t))&&this.set(t):(this.setHours(0),this.setMinutes(0))}e.SimpleTime=i},function(t,e,i){"use strict";var n=/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/,r=/@-|@.*\.-|@.*-\./;(e.EmailUtil||(e.EmailUtil={})).validateEmail=function(t){var e=!1;return e=n.test(t)&&!r.test(t)?!0:e}},function(t,e,i){"use strict";var d=i(113),l=i(70),p=l.NumberUtil.roundToPrecision,o=i(32),n=/[+\-]$/,h=6;function r(t,e){for(var i=new Map,n=new Map,r=0,o=t;r<o.length;r++){var s,a=o[r],u=a.gradeScaleUid;i.has(u)||(s={uid:a.gradeScaleUid,name:a.gradeScaleName,description:a.gradeScaleDescription,gradeScaleType:a.gradeScaleType,colorLevels:a.colorLevels,numericMax:a.numericMax,numericMin:a.numericMin,numericDecimals:a.numericDecimals,numericExtras:a.numericExtras,conversionToNumeric:a.conversionToNumeric,specialGradeScaleUid:a.specialGradeScaleUid,gradeScaleItems:[]},i.set(u,s)),n.has(u)||n.set(u,[]);u=(e?f:c)(a);null!=u&&n.get(a.gradeScaleUid).push(u)}return y(Array.from(i.values()).map(function(t){return t.gradeScaleItems=g(n.get(t.uid)||[]),t}))}function c(t){if(null!=t.gradeScaleItemUid)return{uid:t.gradeScaleItemUid,name:t.gradeScaleItemName,description:t.gradeScaleItemDescription,color:t.gradeScaleItemColor,numericCutOff:t.gradeScaleItemNumericCutOff,cutOffPercentage:t.gradeScaleItemCutOffPercentage,numericValue:t.gradeScaleItemNumericValue,percentValue:t.gradeScaleItemPercentValue,isProficient:1===t.gradeScaleItemIsProficient,displayPosition:t.gradeScaleItemDisplayPosition}}function f(t){var e=c(t);if(null!=e&&null!=t.gradeScaleItemUid){e=e;return e.isAbsent=1===t.gradeScaleItemIsAbsent,e.isCollected=1===t.gradeScaleItemIsCollected,e.isExempt=1===t.gradeScaleItemIsExempt,e.isIncomplete=1===t.gradeScaleItemIsIncomplete,e.isLate=1===t.gradeScaleItemIsLate,e.isMissing=1===t.gradeScaleItemIsMissing,e.isScoreCodeOnAssignments=1===t.gradeScaleItemIsScoreCodeOnAssignments,e.numericType="Max"===t.specialNumericType||"Min"===t.specialNumericType||"Custom"===t.specialNumericType?t.specialNumericType.toUpperCase():void 0,e.numericValue=t.specialNumericValue,e.percentValue=t.specialPercentValue,e.displayPosition=t.gradeScaleItemDisplayPosition,e}}function g(t){return t.sort(function(t,e){if(t.cutOffPercentage!==e.cutOffPercentage)return e.cutOffPercentage-t.cutOffPercentage;var i=t.displayPosition||0,n=e.displayPosition||0;return i-n?n-i:t.name.toLowerCase().localeCompare(e.name.toLowerCase())}),t}function y(t){return t.sort(function(t,e){return t.name.toLowerCase()>e.name.toLowerCase()?1:-1}),t}function a(t,e,i,n,r,o){if(void 0===r&&(r="GRADESCALE"),null!=t){var s;if("GRADESCALE"===i)return t;if("NUMERIC"===e.gradeScaleType)switch(i){case"POINTS":if(null==o)return;s=T(t,e,r,o,n);break;case"PERCENT":s=b(t,e,n)}else switch(i){case"POINTS":if(null==o)return;s=S(t,e,o,n);break;case"PERCENT":s=v(t,e,n)}return null!=s?String(s):void 0}}function u(t,e){if(null!=t&&null!=e)for(var i=t.toUpperCase(),n=0,r=e.gradeScaleItems;n<r.length;n++){var o=r[n];if(o.name.toUpperCase()===i)return o}}function s(t,e,i,n,r,o){if(null!=t&&null!=e&&null!=i){if("GRADESCALE"===t&&(k(i)||"PERCENT"===i.conversionToNumeric))return l.NumberUtil.round(e,k(i)?i.numericDecimals:2);if("NUMERIC"===i.gradeScaleType)switch(t){case"POINTS":case"PERCENT":return a(String(e),i,t,r,n,o);case"GRADESCALE":var s=i.gradeScaleItems.find(function(t){return t.numericCutOff<=e});return null==s?void 0:isNaN(s.name)?s.name:Number(s.name)}else console.error("convertNumericValueTo expects a Numeric gradeScaleType")}}function m(t,e){if(null!=t){var i=u(t,e);if(null!=i)return i;if(""!==t&&t!==String(e.numericMax)&&t!==String(e.numericMin)&&(t=t.replace(n,""),!isNaN(t))){t=Number(t);return t>e.numericMax?u(String(e.numericMax),e):t<e.numericMin?u(String(e.numericMin),e):void 0}}}function v(t,e,i){if(null!=t){e=u(t,e);return null!=e?p(e.percentValue,2,h,i):void 0}}function b(t,e,i){if(null!=t){var n=m(t,e);return null!=n?p(n.percentValue,2,h,i):I(t,e,i)}}function S(t,e,i,n){if(null!=t){e=v(t,e,!1);if(null!=e)return p(e/100*i,2,h,n)}}function T(t,e,i,n,r){if(null!=t){if("LEVELS"===i){var o=void 0,i=m(t,e);return null!=i?o=i.numericValue:isNaN(t)||(o=Number(t)),null!=o?((o=o>e.numericMax?e.numericMax:o)<e.numericMin&&(o=e.numericMin),p(n*o/e.numericMax,2,h,r)):void 0}e=b(t,e,!1);return null!=e?p(e/100*n,2,h,r):void 0}}function C(t,e,i){if(null!=t)return _(l.NumberUtil.round(t/e*100,h),i)}function _(t,e){if(null!=t)for(var i=0,n=e.gradeScaleItems;i<n.length;i++){var r=n[i];if(r.cutOffPercentage<=t)return r.name}}function w(t,e,i){if(null!=t)return"PERCENT"===e.conversionToNumeric||k(e)?P(t,e,i):_(t,e)}function x(t,e,i,n,r){if(null!=t){var o=l.NumberUtil.round(t/e,h);if("LEVELS"!==n)return"PERCENT"===i.conversionToNumeric||k(i)?P(100*o,i,r):C(t,e,i);if("PERCENT"===i.conversionToNumeric||k(i)){e=2;null!=i.numericDecimals&&k(i)&&(e=i.numericDecimals);r=l.NumberUtil.roundToPrecision(o*i.numericMax,e,h,r);return null!=i.numericMax&&r>i.numericMax?String(i.numericMax):null!=i.numericMin&&r<i.numericMin?String(i.numericMin):O(r,i)}for(var s=0,a=i.gradeScaleItems;s<a.length;s++){var u=a[s];if((isNaN(u.name)?l.NumberUtil.round(u.numericValue/i.numericMax,h):l.NumberUtil.round(Number(u.name)/i.numericMax,h))<=o)return u.name}return i.gradeScaleItems.slice(-1)[0].name}}function P(t,e,i){if(null!=t)return O(N(t,e,i),e)}function O(t,e){if(null!=t){if(!e.numericDecimals)for(var i=0,n=e.gradeScaleItems;i<n.length;i++){var r=n[i];if(r.numericValue+.05>=t&&r.numericValue-.05<=t)return r.name}return String(t)}}function N(t,e,i){if(null!=t){for(var n=e.numericDecimals||2,r=void 0,o=void 0,s=0,a=e.gradeScaleItems;s<a.length;s++){var u=a[s];if(t===u.cutOffPercentage)return u.numericValue;if(t>u.cutOffPercentage){o=u;break}r=u}if(null==o&&null==r)return p(E(0,e),n,h,i);if(null!=o&&null==r)return p(o.numericValue,n,h,i);if(null==o&&null!=r)return p(r.numericValue,n,h,i);if(null!=o&&null!=r){var l=r.numericValue,c=o.numericValue,d=r.cutOffPercentage,e=o.cutOffPercentage;return p(A(t,e,c,d,l),n,h,i)}}}function I(t,e,i){if(!isNaN(t)&&null!=t){for(var n=void 0,r=void 0,o=Number(t),s=0,a=e.gradeScaleItems;s<a.length;s++){var u=a[s];if(t===u.name)return u.percentValue;if(o>u.numericValue){r=u;break}n=u}if(null==r&&null==n)return p(E(0,e),2,h,i);if(null!=r&&null==n)return p(r.percentValue,2,h,i);if(null==r&&null!=n)return p(n.percentValue,2,h,i);if(null!=r&&null!=n){var l=n.numericValue,c=r.numericValue,d=n.percentValue,e=r.percentValue;return p(A(o,c,e,l,d),2,h,i)}}}function E(t,e){return e.numericMin}function A(e,i,n,r,o){var t;try{t=l.NumberUtil.round(n+(o-n)*(e-i)/(r-i),h)}catch(t){throw"ArithmeticException Error Interpolating for Y given x, x0, y0, x1, y1: "+e+","+i+","+n+","+r+","+o}if(isNaN(t)||!isFinite(t))throw"Not a Number or Infinite result:  Interpolating for Y given x, x0, y0, x1, y1: "+e+","+i+","+n+","+r+","+o;return t}function D(t,e,i){var n=u(t,e.specialGradeScale);if(null!=n){switch(i){case"POINTS":case"PERCENT":if(!isNaN(t))return;break;case"GRADESCALE":if(null!=u(t,e))return;if("NUMERIC"===e.gradeScaleType&&!isNaN(t)&&("PERCENT"===e.conversionToNumeric||k(e))){var r=Number(t);if(r>=e.numericMin&&r<=e.numericMax)return}}return n}}function M(t,e,i,n,r,o){if(!t.isExempt)switch(i){case"POINTS":return l.NumberUtil.roundToPrecision(t.percentValue/100*o,2,h,n);case"PERCENT":return l.NumberUtil.roundToPrecision(t.percentValue,2,h,n);case"GRADESCALE":return"ALPHA"===e.gradeScaleType?_(t.percentValue,e):"MAX"===t.numericType?e.numericMax:"MIN"===t.numericType?e.numericMin:s("GRADESCALE",t.numericValue,e,r,!0)}}function k(t){return(null==t||null!=t.numericDecimals)&&0<t.numericDecimals}(e=e.GradeScaleUtil||(e.GradeScaleUtil={})).buildGradeScaleHierarchyRIs=function(t){return r(t,!1)},e.buildSpecialGradeScaleHierarchyRIs=function(t){return r(t,!0)},e.buildGradeScaleItemRI=c,e.buildSpecialGradeScaleItemRI=f,e.sortGradeScaleItems=g,e.sortGradeScales=y,e.getHighestGradeScaleScore=function(t){if(null!=t&&null!=t.gradeScaleItems&&0!==t.gradeScaleItems.length)return t.gradeScaleItems[0]},e.convertGradeScaleItemToScoreOfType=a,e.convertScoreOfTypeToGradeScaleItem=function(t,e,i,n,r,o){if(void 0===r&&(r="GRADESCALE"),null!=t){var s=D(t,e,i);if(null!=s){s=M(s,e,"GRADESCALE",!0,r,o);return null==s?void 0:String(s)}if("GRADESCALE"===i)return t;if("NUMERIC"===e.gradeScaleType)switch(i){case"POINTS":return null==o?void 0:x(Number(t),o,e,r,n);case"PERCENT":return w(Number(t),e,n)}else switch(i){case"POINTS":return null==o?void 0:C(Number(t),o,e);case"PERCENT":return _(Number(t),e)}}},e.getGradeScaleItem=u,e.convertNumericValueToNumericValue=function(t,e){if(null!=t)for(var i=0,n=e.gradeScaleItems;i<n.length;i++){var r=n[i];if(r.numericCutOff<=t)return r.numericValue}},e.convertNumericValueTo=s,e.convertNumericGradeScaleItemToNumericValue=function(t,e){if(null!=t){if(!isNaN(t))return Number(t);e=u(t,e);return null!=e?e.numericValue:void 0}},e.getNumericGradeScaleItem=m,e.convertGradeScaleItemToPercent=v,e.convertNumericGradeScaleItemToPercent=b,e.convertGradeScaleItemToPoints=S,e.convertNumericGradeScaleItemToPoints=T,e.convertPointsToGradeScaleItem=C,e.convertPercentToGradeScaleItem=_,e.convertPercentToNumericGradeScaleItem=w,e.convertPointsToNumericGradeScaleItem=x,e.convertPercentToNumericGradeScaleItemUsingRatios=P,e.convertPercentToCalculatedNumericGradeScaleItemUsingRatios=N,e.convertCalculatedNumericValueToPercentUsingRatios=I,e.getDefaultNumericGrade=E,e.interpolateForYGivenX=A,e.generateValidators=function(t,o,e,s){var i,a,n;switch(null==s&&(s=new d.ValidationRulesEngine),null!=o.specialGradeScale&&(a=o.specialGradeScale,n={execute:function(t,e,i){var n,r=!1;return null!=t&&(n=t.toUpperCase(),r=null!=a.gradeScaleItems.find(function(t){return t.name.toUpperCase()===n})),{isValid:!0,ignoreSubsequentValidators:r}}}),t){case"POINTS":return i=s.getValidatorsForRules({isNumber:!0,minValue:0,maxValue:e,maxDecimals:2}),null!=n&&i.unshift(n),0===e&&i.unshift({execute:function(t,e,i){return{isValid:!1,ignoreSubsequentValidators:!0,errorMessage:this.i18n.getText("cu|grade scale util|Score entered is greater than maximum points.")}}}),i;case"PERCENT":return i=s.getValidatorsForRules({isNumber:!0,minValue:0,maxValue:200,maxDecimals:2}),null!=n&&i.unshift(n),i;case"GRADESCALE":var r,u={},l=void 0,c=void 0;return"NUMERIC"===o.gradeScaleType?(u={isNumber:!0,maxValue:o.numericMax,minValue:o.numericMin},null!=o.numericDecimals&&k(o)?u.maxDecimals=o.numericDecimals:"PERCENT"===o.conversionToNumeric&&(u.maxDecimals=2),r=o.gradeScaleItems.map(function(t){if(!isNaN(t.name)){var e=s.i18n.localizeNumber(Number(t.name));if(null!=e)return e}return t.name}),l={execute:function(e,t,i){var n={isValid:!0};return null!=r.find(function(t){return t===e})&&(n.ignoreSubsequentValidators=!0),n}},o.numericDecimals||"PERCENT"===o.conversionToNumeric||(c={execute:function(t,e,i){return{isValid:!1,errorMessage:s.i18n.getText("cu|grade scale util|Invalid")}}})):(u.isText=!0,u.maxLength=7,l={execute:function(t,e,i){var n,r=!1;null!=t&&(n=t.toUpperCase(),r=null!=o.gradeScaleItems.find(function(t){return t.name.toUpperCase()===n}));r={isValid:r};return r.isValid||(r.errorMessage=s.i18n.getText("cu|grade scale util|Invalid")),r}}),i=s.getValidatorsForRules(u),null!=l&&i.unshift(l),null!=n&&i.unshift(n),null!=c&&i.push(c),i;case"COLLECTED_ONLY":return i=[{execute:function(t,e,i){t={isValid:t.length<=0};return t.isValid||(t.errorMessage=s.i18n.getText("cu|grade scale util|Collected Only assignments cannot accept scores.")),t}}];default:return[]}},e.getColorLevel=function(t,e){if(null!=t&&0!==t.trim().length&&null!=e){var i;if("ALPHA"===e.gradeScaleType)i=u(t,e);else if(null==(i=m(t,e))&&!isNaN(t))for(var n=Number(t),r=0,o=e.gradeScaleItems;r<o.length;r++){var s=o[r];if(n>=s.numericCutOff){i=s;break}}return null!=i?i.color:void 0}},e.getSpecialGradeScaleItem=D,e.convertSpecialGradeScaleItemTo=M,e.hasNumericDecimals=k,e.gradeScaleValueExpression=function(t,e){if(null==e&&(e=new o.I18nUtil),"NUMERIC"!==t.gradeScaleType)return t.gradeScaleItems[0].name+"-"+t.gradeScaleItems[t.gradeScaleItems.length-1].name;var i="";switch(t.numericExtras){case"QUARTER_POINT_25":i=" ("+e.localizeNumber(.25)+")";break;case"THIRD_POINT_33":i=" ("+e.localizeNumber(.33)+")";break;case"HALF_POINT_5":i=" ("+e.localizeNumber(.5)+")";break;case"HALF_PLUS":i=" (+)";break;case"THIRD_PLUS_MINUS":i=" (+/-)"}var n=t.numericDecimals||0,r=t.numericMin||0,t=t.numericMax||0;return e.localizeNumber(r,n,0<n)+"-"+e.localizeNumber(t,n,0<n)+i}},function(t,e,i){"use strict";function n(t,e,i){void 0===i&&(i=String),null!=e&&""!==e&&("number"==typeof(e=i===Boolean?"true"===e:i===Number?i(e):new i(e))&&isNaN(e)||e instanceof Date&&isNaN(e.getTime())||(this[t]=e))}var r=i(160),o=i(161),s=i(162),a=i(163),u=i(71),l=i(32),c={isValid:!0},i=(d.prototype.setI18n=function(t){this.i18n=t,r.numberValidationRules.i18n=t,o.dateValidationRules.i18n=t,s.textValidationRules.i18n=t,a.timeValidationRules.i18n=t},d.prototype.getValidatorsForRules=function(t){var e=[];return t.isNumber?e=this._getNumberValidators(t):t.isDate?e=this._getDateValidators(t):t.isText?e=this._getTextValidators(t):t.isTime&&(e=this._getTimeValidators(t)),e},d.prototype.validate=function(t,e){if(null==e||0===e.length)return{isValid:!0};if(e[0].execute!==this._validateIsRequired&&(""===t||null==t))return{isValid:!0};for(var i={},n=0,r=e;n<r.length;n++){var o=r[n],o=o.execute.call(this,t,o.condition,i);if(!0===o.ignoreSubsequentValidators||!o.isValid)return o}return{isValid:!0}},d.prototype.validateWithRules=function(t,e){e=this.getValidatorsForRules(e);return this.validate(t,e)},d.prototype.getBasicValidationRules=function(){return{setProperty:n}},d.prototype._validateIsRequired=function(t,e,i){return null==t||0===t.trim().length?{isValid:!1,errorMessage:this.i18n.getText("cu|required"),invalidRule:"isRequired"}:c},d.prototype._getNumberValidators=function(t){var e=[];return t.isRequired&&e.push({execute:this._validateIsRequired}),e.push({execute:r.numberValidationRules.validateIsNumber}),t.isInteger&&e.push({execute:r.numberValidationRules.validateIsInteger}),null!=t.maxValue&&"string"!=typeof t.maxValue&&e.push({execute:r.numberValidationRules.validateMaxNumberValue,condition:t.maxValue}),null!=t.minValue&&"string"!=typeof t.minValue&&e.push({execute:r.numberValidationRules.validateMinNumberValue,condition:t.minValue}),null!=t.maxValueExclusive&&"string"!=typeof t.maxValueExclusive&&e.push({execute:r.numberValidationRules.validateMaxNumberValueExclusive,condition:t.maxValueExclusive}),null!=t.minValueExclusive&&"string"!=typeof t.minValueExclusive&&e.push({execute:r.numberValidationRules.validateMinNumberValueExclusive,condition:t.minValueExclusive}),null!=t.maxLength&&e.push({execute:r.numberValidationRules.validateMaxNumberLength,condition:t.maxLength}),null!=t.minLength&&e.push({execute:r.numberValidationRules.validateMinNumberLength,condition:t.minLength}),null!=t.maxDecimals&&e.push({execute:r.numberValidationRules.validateMaxDecimals,condition:t.maxDecimals}),e},d.prototype._getDateValidators=function(t){var e=[];return t.isRequired&&e.push({execute:this._validateIsRequired}),e.push({execute:o.dateValidationRules.validateIsDate}),t.maxValue instanceof Date&&e.push({execute:o.dateValidationRules.validateMaxDate,condition:t.maxValue}),t.minValue instanceof Date&&e.push({execute:o.dateValidationRules.validateMinDate,condition:t.minValue}),e},d.prototype._getTimeValidators=function(t){var e=[];return t.isRequired&&e.push({execute:this._validateIsRequired}),e.push({execute:a.timeValidationRules.validateIsTime}),null!=t.maxValue&&"function"==typeof t.maxValue.getHours&&"function"==typeof t.maxValue.getMinutes&&e.push({execute:a.timeValidationRules.validateMaxTime,condition:t.maxValue}),null!=t.minValue&&"function"==typeof t.minValue.getHours&&"function"==typeof t.minValue.getMinutes&&e.push({execute:a.timeValidationRules.validateMinTime,condition:t.minValue}),e},d.prototype._getTextValidators=function(t){var e,i=[];return t.isRequired&&i.push({execute:this._validateIsRequired}),null!=t.maxLength&&i.push({execute:s.textValidationRules.validateMaxTextLength,condition:t.maxLength}),null!=t.minLength&&i.push({execute:s.textValidationRules.validateMinTextLength,condition:t.minLength}),null!=t.excludeChars&&(e=t.excludeChars.replace(u.StringUtil.ESCAPE_EXCLUDE_CHARS_REGEX,"\\$&"),i.push({execute:s.textValidationRules.validateExcludeChars,condition:{pattern:new RegExp("["+e+"]","i"),excludeChars:t.excludeChars}})),null!=t.regex&&i.push({execute:s.textValidationRules.validateRegex,condition:t.regex}),null!=t.inverseRegex&&i.push({execute:s.textValidationRules.validateInverseRegex,condition:t.inverseRegex}),t.isEmail&&i.push({execute:s.textValidationRules.validateEmail}),i},d);function d(){this.i18n=l.i18n}e.ValidationRulesEngine=i},function(t,e,i){"use strict";var r=i(69),o=i(71);!function(t){var e;(e=t.TreeSortType||(t.TreeSortType={}))[e.PRE_ORDER=0]="PRE_ORDER",e[e.POST_ORDER=1]="POST_ORDER",e[e.LEVEL_ORDER=2]="LEVEL_ORDER";var n=t.TreeSortType;t.getSortedTreesUsing=function(t,e){var i;switch(e=void 0===e?n.PRE_ORDER:e){case n.LEVEL_ORDER:i=function t(e,i){if(null==i)return e;for(var n=0,r=i;n<r.length;n++){var o=r[n];e.push(o)}for(var s=0,a=i;s<a.length;s++){var u=a[s];t(e,u.getChildren())}return e}([],t);break;case n.POST_ORDER:i=function t(e,i){for(var n=0,r=e;n<r.length;n++){var o=r[n],s=o.getChildren();null!=s&&0<s.length&&t(s,i),i.push(o)}return i}(t,[]);break;case n.PRE_ORDER:i=function t(e,i){for(var n=0,r=e;n<r.length;n++){var o=r[n];i.push(o);var o=o.getChildren();null!=o&&0<o.length&&t(o,i)}return i}(t,[]);break;default:throw new Error("Unknown Sort Order")}return i},t.sortTreesPostOrder=function(t){return t.sort(function(t,e){var i=r.DateUtil.compareDates(t.getEndDate(),e.getEndDate());return 0!==i||0!==(i=r.DateUtil.compareDates(e.getStartDate(),t.getStartDate()))?i:o.StringUtil.compareStrings(t.getReportingTermName(),e.getReportingTermName())})}}(e.TreeSort||(e.TreeSort={}))},function(t,e,i){"use strict";var n=i(32),i=(r.prototype.getUid=function(){return this.uid},r.prototype.getSchedulingTermUid=function(){return this.schedulingTermUid},r.prototype.getReportingTermName=function(){return this.reportingTermName},r.prototype.getStartDate=function(){return"string"==typeof this.startDate?n.i18n.parseJsonDate(this.startDate):this.startDate},r.prototype.getEndDate=function(){return"string"==typeof this.endDate?n.i18n.parseJsonDate(this.endDate):this.endDate},r.prototype.getName=function(){return this.reportingTermName},r);function r(t){this.uid=t.uid,this.schedulingTermUid=t.schedulingTermUid,this.reportingTermName=t.reportingTermName,this.startDate=t.startDate,this.endDate=t.endDate}e.ReportingTerm=i},function(t,e,i){"use strict";var n=(r.prototype.getUid=function(){return this.uid},r.prototype.getReportingTermName=function(){return this.reportingTermName},r.prototype.getName=function(){return this.reportingTermName},r.prototype.getSchedulingTermUid=function(){return this.schedulingTermUid},r.prototype.getStartDate=function(){return this.startDate},r.prototype.setStartDate=function(t){this.startDate=t},r.prototype.getEndDate=function(){return this.endDate},r.prototype.setEndDate=function(t){this.endDate=t},r.prototype.setParent=function(t){this.parent=t,this.parent.addChild(this)},r.prototype.isRoot=function(){return null==this.parent},r.prototype.addChild=function(t){null==this.children&&(this.children=[]),this.children.push(t)},r.prototype.getChildren=function(){return this.children},r);function r(t,e){this.uid=t.getUid(),this.schedulingTermUid=t.getSchedulingTermUid(),this.reportingTermName=t.getReportingTermName(),this.startDate=t.getStartDate(),this.endDate=t.getEndDate(),this.children=e}e.ReportingTermWrapper=n},function(t,e,i){"use strict";var n,r=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var a,o=i(99),i=i(72),u=0,r=(a=i.NotificationItemGroup,r(s,a),s.prototype.addNotification=function(t){var e,i,n;a.prototype.addNotification.call(this,t),t.subtype===o.AsgmtSubmissionNotificationItem.NOTIFICATION_SUBTYPE&&(i=t.getSenderUid()||"",e=t.getSubtitle()||"",null==this.studentUidMap[i]&&(this.studentUidMap[i]=e),n="",1==(i=Object.keys(this.studentUidMap).length-1)?n=" and "+i+" other":1<i&&(n=" and "+i+" others"),this.updateSectionString(t.getSectionUid(),t.getSectionName()),this.subtitle=e+n,this.tooltip=Object.values(this.studentUidMap).join(", "),this.userType=t.getUserType())},s.prototype.markAsRead=function(){this.subtype===o.AsgmtSubmissionNotificationItem.NOTIFICATION_SUBTYPE&&(a.prototype.markAsRead.call(this),this.studentUidMap={},this.sectionNameMap=new Map)},s.prototype.getSectionUids=function(){return Array.from(this.sectionNameMap.keys())},s.prototype.updateSectionString=function(t,e){this.sectionNameMap.has(t)||this.sectionNameMap.set(t,e),1===this.sectionNameMap.size?this.sectionString=e:1<this.sectionNameMap.size?this.sectionString=this.sectionNameMap.size+" Sections":this.sectionString=""},s);function s(t,e,i,n,r,o){void 0===r&&(r=!0),void 0===o&&(o=!0);var s=a.call(this,t,e,i,r,o)||this;return s.type=t,s.aggregationKey=e,s.isMarkedReadOnClick=i,s.subtype=n,s.isRead=r,s.isSeen=o,s.studentUidMap={},s.sectionNameMap=new Map,s.id=String(u++),s}e.AssignmentNotificationItemGroup=r},function(t,e,i){"use strict";var n,r=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var o,s=i(6),i=i(65),r=(o=i.NotificationItem,r(a,o),a.generateLookUpKey=function(t){return[t,a.NOTIFICATION_TYPE].join(",")},a.prototype.getTitle=function(){return this.context.activity.assignmentName},a.prototype.getSubtitle=function(){return this.context.activity.studentName},a.prototype.getPostedAt=function(){return new Date(this.context.activity.time+"Z")},a.prototype.getUserType=function(){return this.context.userType},a.prototype.getTooltip=function(){return s.pdsI18n.getText("pds|notifications|Student submitted homework")},a.prototype.getSenderUid=function(){return this.context.activity.studentUid},a.prototype.getSectionUid=function(){return this.context.activity.sectionUid},a.prototype.getSectionName=function(){return this.context.sectionName},a.prototype.getColorClass=function(){return this.context.activity.assignmentCategoryColor},Object.defineProperty(a.prototype,"lookUpKey",{get:function(){return a.generateLookUpKey(this.context.activity.assignmentUid)},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"currentUserUid",{get:function(){return this.context.currentUserUid},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"getstreamGroupId",{get:function(){return this.context.getStreamGroupId},enumerable:!0,configurable:!0}),a.NOTIFICATION_TYPE="ASSIGNMENT_NOTIFICATION",a.NOTIFICATION_SUBTYPE="ASSIGNMENT_SUBMISSION_NOTIFICATION",a);function a(t,e,i){void 0===t&&(t=!1),void 0===e&&(e=!1);e=o.call(this,a.NOTIFICATION_TYPE,t,e,void 0,a.NOTIFICATION_SUBTYPE)||this;return e.context=i,e.id=e.context.activity.group||e.id,e.aggregationKey=JSON.stringify({assignmentUid:e.context.activity.assignmentUid}),e}e.AsgmtReturnNotificationItem=r},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=i(47),o=i(43),s=i(19),i=(n.prototype.getNavLinks=function(t,e,i,n){n+="/navigation/v1/navigationlink",e={navigationGroups:(i="string"==typeof i?[i]:i).join(","),userType:e,districtUid:t},t={"content-type":"application/json",Authorization:"Bearer "+o.pdsLocalStorage.getItem("auth_token")};return r.pdsHttpUtils.get(n,e,t).pipe(s.map(function(t){return JSON.parse(t.data)}))},n);function n(){}e.HelpLinkService=i},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(195);e.PopoverAccessibilityControllerFactory={getPopoverAccessibilityControllerInstance:function(){return new n.PopoverAccessibilityController}}},function(t,e,i){"use strict";var n,r=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var u,i=i(5),r=(u=i.PdsWidget,r(o,u),o.prototype.ready=function(){var e=this;u.prototype.ready.call(this),this.onKeyDown=function(t){27===t.keyCode&&e.closeDialog(t)}},o.prototype.attached=function(){var t,a=this;this.classList.add("pds-is-hidden"),"true"!==this.dataIsDrawerMode||null!=(t=this.querySelector(".pds-modal"))&&t.classList.add("pds-drawer-mode"),setTimeout(function(){u.prototype.attached.call(a),window.addEventListener("keydown",a.onKeyDown);var t,e,i=a.querySelector(".pds-modal"),n=a.querySelector("header"),r=a.querySelector("h4"),o=a.querySelector("section"),s=a.querySelector("footer");null!=r&&(r.classList.add("pds-modal-title"),r.setAttribute("tabindex","0"),a.modalTitle=r.innerText,n.appendChild(r)),null!=o&&(o.classList.add("pds-modal-body"),o.setAttribute("role","main"),i.appendChild(o)),null!=s&&(s.classList.add("pds-modal-footer"),i.appendChild(s),1<=s.childElementCount&&(e=a.pds.utils.findLastNode(s))),null==e&&(e=a.pds.utils.findLastNode(i)).setAttribute("tabindex","0"),null!=document.querySelector("pds-main-loader")&&a.pds.utils.markFocusableElement(t),a.classList.remove("pds-is-hidden");s=a.pds.utils.getAllTabbableElements(n);null!=s&&0<s.length&&(t=s[0]).focus(),a.manageFocus(i,n,t,e)})},o.prototype.manageFocus=function(e,i,t,n){var r=this,o=t,s=n;e.addEventListener("keydown",function(t){(s=r.pds.utils.findLastNode(e)).setAttribute("tabindex","0"),9===t.keyCode&&(t.shiftKey||t.target!==s?!t.shiftKey||t.target!==o&&t.target!==i||(s.focus(),t.preventDefault()):(o.focus(),t.preventDefault())),27===t.keyCode&&(r.closeDialog(t),t.preventDefault(),t.stopPropagation())})},o.prototype.detached=function(){if(u.prototype.detached.call(this),window.removeEventListener("keydown",this.onKeyDown),null==this.dataReturnFocus||0===this.dataReturnFocus.trim().length){if(null!=this.returnFocusCallback){var t=this.returnFocusCallback();if(t instanceof HTMLElement)return void t.focus();if(null!=t&&0<t.trim().length){t=document.querySelector(t);if(t)return void t.focus()}}else if(null!=this.pds.utils.peekLastMarkedElement()){var e=this.pds.utils.getLastMarkedElement();if(null!=e)return void e.focus()}console.error('Selector from data-return-focus did not find any elements, or a callback function was not specified for [returnFocusCallback]. Please set the data-return-focus attribute like: <pds-dialog data-return-focus="#id-of-button-that-opened-dialog"> or the callback function like <pds-dialog [returnFocusCallback]="returnFocusToElement"')}else{e=document.querySelector(this.dataReturnFocus);null!=e?e.focus():null!=document.activeElement&&document.activeElement.focus()}},o.prototype.closeDialog=function(t){this.fire("pdsRemoveDialog",!0)},o.prototype.messageKeysUpdated=function(){},o);function o(){var t=null!==u&&u.apply(this,arguments)||this;return t.is="pds-dialog",t.modalTitle="",t.name="",t.dataIsDrawerMode="false",t.properties={name:{type:String,value:""},dataReturnFocus:{type:String,value:""},dataIsDrawerMode:{type:String,value:"false"},dataIsLarge:{type:String,value:"false"}},t}e.PdsDialog=r},function(t,i,e){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var a=e(226),u=e(15),l=e(19),n=e(9),r=e(6),c=e(123);function d(t){return console.warn(t),u.throwError(new Error(t))}Object.defineProperty(o.prototype,"isExpired",{get:function(){return!this.expiresAt||this.expiresAt<new Date},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"cacheIsReady",{get:function(){return!!this.accessTokenRequest&&!!this.subdomainRequest},enumerable:!0,configurable:!0}),o.prototype.getAccessToken=function(){return this.accessTokenRequest?(!this.isExpired&&this.accessTokenCachedRequest||(this.accessTokenCachedRequest=this.accessTokenRequest.pipe(l.shareReplay())),this.accessTokenCachedRequest):d("The access token request has not been initialized.")},o.prototype.getSubdomain=function(){return this.subdomainRequest?(this.subdomainCachedRequest||(this.subdomainCachedRequest=this.subdomainRequest.pipe(l.shareReplay())),this.subdomainCachedRequest):d("The subdomain request has not been initialized.")},o.prototype.initializeRequest=function(e,i){var t=this,n=u.defer(function(){var t=e();return u.isObservable(t)?t:u.from(t)});this.accessTokenRequest=n.pipe(l.tap(function(){t.expiresAt=new Date,t.expiresAt.setMinutes(t.expiresAt.getMinutes()+59)}));n=u.defer(function(){var t=i();return u.isObservable(t)?t:"string"==typeof t?u.of(t):u.from(t)});this.subdomainRequest=n},o.prototype.clearCache=function(){this.accessTokenCachedRequest=void 0,this.accessTokenRequest=void 0,this.expiresAt=new Date,this.subdomainCachedRequest=void 0,this.subdomainRequest=void 0},e=o;function o(){}i.immersiveReaderAccessTokenCache=new e;s.prototype.start=function(o){var s=this,t=u.forkJoin(this.getValues(o),i.immersiveReaderAccessTokenCache.getAccessToken(),i.immersiveReaderAccessTokenCache.getSubdomain()).pipe(l.flatMap(function(t){var e,i=t[0],n=t[1],r=t[2];if(null==i)return d("The Immersive Reader could not resolve the title, content, or access token.");if(!n)return d("The access token was not generated correctly.");if(!r)return d("The subdomain was not retrieved correctly.");t=new u.Observable(function(t){e=t});return u.from(s.msLaunchAsync(n,r,{title:i.title,chunks:i.content.map(function(t){return{content:t,lang:o.contentLanguage,mimeType:"text/plain"}})},{uiZIndex:1e4,uiLang:o.uiLanguage,onExit:function(){return e.complete()},cookiePolicy:a.CookiePolicy.Enable})).pipe(l.merge(t))})).pipe(l.catchError(function(t){return t instanceof c.CancelImmersiveReaderRequest?(a.close(),u.empty()):u.throwError(t)})).pipe(l.take(1)).pipe(l.shareReplay());return t.subscribe(void 0,function(t){return a.close(),s.displayPdsMessage(),u.throwError(t)}),t},s.prototype.setDefaultSeparator=function(t){this.defaultContentSeparator=t},s.prototype.displayPdsMessage=function(){var t="string"==typeof this.errorFiringElement?document.querySelector(this.errorFiringElement):this.errorFiringElement;null!=t&&n.pdsUtils.fireMessageEvent(t,r.pdsI18n.getText("pds|immersive-reader|Functionality not available because of invalid configuration.  Please contact your system administrator."),"ERROR")},s.prototype.getContent=function(e){var i=this,t=[];if(e.contentCallback){var n=e.contentCallback;return u.defer(function(){var t=n();return(u.isObservable(t)?t:u.from(Promise.resolve(t))).pipe(l.map(function(t){return"string"==typeof t?[t]:t})).pipe(l.map(function(t){return Object.assign({},e,{contentCallback:null,contentArray:t})})).pipe(l.flatMap(function(t){return i.getContent(t)}))})}if(e.contentArray)t=e.contentArray;else if(e.content)t=[e.content];else if(e.contentSelector){var r=Array.from(document.querySelectorAll(e.contentSelector));if(null==r||0===r.length)return d("The Immersive Reader could not find '"+e.contentSelector+"'.");t=r.map(function(t){return t.innerText})}var o=e.contentSeparator||this.defaultContentSeparator;return 1<t.length&&null!=o&&(t=t.reduce(function(t,e){return t.concat(e,o)},[]).slice(0,-1)),Array.isArray(t)&&0!==t.length?u.of(t):d("The Immersive Reader requires text content, an array of text content, or a content element selector.")},s.prototype.getTitle=function(t){if(t.titleCallback){var e=t.titleCallback;return u.defer(function(){var t=e();return u.isObservable(t)?t:u.from(Promise.resolve(t))})}if(t.title)return u.of(t.title);if(t.titleSelector){var i=document.querySelector(t.titleSelector);return null==i?d("The Immersive Reader could not find '"+t.titleSelector+"'."):u.of(i.innerText)}return d("The Immersive Reader requires a title or a title element selector.")},s.prototype.getValues=function(t){if(!i.immersiveReaderAccessTokenCache.cacheIsReady)return d("The Immersive Reader requires a way to retrieve an access token.");var e=this.getTitle(t),t=this.getContent(t);return u.forkJoin(e,t).pipe(l.map(function(t){var e=t[0];return{content:t[1],title:e}}))},e=s;function s(t){this.msLaunchAsync=a.launchAsync,this.defaultContentSeparator="\n\n",this.errorFiringElement=t}i.ImmersiveReaderService=e},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});function n(){}e.CancelImmersiveReaderRequest=n},function(t,e,i){"use strict";var n,r=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var o,s=i(5),a=i(10),u=i(125),l=i(130),c=a.pdsLogger.prependLogger(a.pdsLogger.requiresLogger("parsed-html-content"),"pds-parsed-html-content.ts"),r=(o=s.PdsWidget,r(d,o),d.prototype.ready=function(){var t=this;o.prototype.ready.call(this),this.overlayContainerHeight=0,this.overlayContainerWidth=0,this.parsedSections=[],this.isAttached=!1,this.engine=new u.HtmlContentSectionsEngine([u.HtmlContentSectionsEngine.sectionBreakHeuristics.breakOnAll]),this.resizeOverlay=function(){return t.refreshOverlay()}},d.prototype.attached=function(){var t=this;o.prototype.attached.call(this),window.addEventListener("resize",this.resizeOverlay),this.updateState(),this.contentObserver=this.polymerDom(this.$.content).observeNodes(function(){return t.updateState()})},d.prototype.detached=function(){o.prototype.detached.call(this),this.disable(),window.removeEventListener("resize",this.resizeOverlay),this.polymerDom(this.$.content).unobserveNodes(this.contentObserver),this.isAttached=!1},d.prototype.enable=function(){this.dataSelectTooltip||console.warn("Missing the select tooltip"),this.dataDeselectTooltip||console.warn("Missing the deselect tooltip");var t=this.dataNodeGroupingMode;if(null==l.NodeGroupingMode[t])throw new Error("Invalid grouping mode: "+t);this.overlayContainerHeight=this.$.container.offsetHeight,this.overlayContainerWidth=this.$.container.offsetWidth,this.parsedSections=this.engine.parse(this.$.container,this.overlayContainerWidth,this.overlayContainerHeight,l.NodeGroupingMode[t]),c(this.parsedSections.length+" sections found."),this.dataEnabled="true"},d.prototype.disable=function(){this.dataEnabled="false",this.parsedSections=[]},d.prototype.updateState=function(){this.isAttached&&("true"===this.dataEnabled?this.enable():this.disable())},d.prototype.sectionOnFocus=function(t){this.set("parsedSections."+t.model.sectionIndex+".focused",!0)},d.prototype.sectionOnBlur=function(t){this.set("parsedSections."+t.model.sectionIndex+".focused",!1)},d.prototype.sectionOnClick=function(t){this.set("parsedSections."+t.model.sectionIndex+".selected",!t.model.section.selected),this.dispatchEvent(new Event("section-clicked"))},d.prototype.getSelectedText=function(){return this.parsedSections.filter(function(t){return t.selected}).map(function(t){return t.getText()}).reduce(function(t,e){return t.concat(e)},[])},d.prototype.refreshOverlay=function(){var t=this.parsedSections;this.parsedSections=[],this.flushPolymer(),this.overlayContainerHeight=this.$.container.offsetHeight,this.overlayContainerWidth=this.$.container.offsetWidth;for(var e=0,i=t;e<i.length;e++)i[e].resetBounds(this.overlayContainerWidth,this.overlayContainerHeight);this.parsedSections=t,c("overlay for "+this.id+" document resized")},d);function d(){var t=null!==o&&o.apply(this,arguments)||this;return t.dataDebug="false",t.dataEnabled="false",t.dataNodeGroupingMode="Block",t.overlayContainerHeight=0,t.overlayContainerWidth=0,t.properties={id:{type:String,value:""},dataDebug:{type:String,value:"false"},dataEnabled:{type:String,value:"false",observer:"updateState"},dataNodeGroupingMode:{type:String,value:"Block",observer:"updateState"},engine:{observer:"updateState",value:null},dataSelectTooltip:{type:String,value:null},dataDeselectTooltip:{type:String,value:null}},t.parsedSections=[],t}e.PdsParsedHtmlContent=r},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(9),y=i(229),r=i(230),o=i(231),s=i(232),a=i(233),u=i(234),l=i(235),c=i(126),d=i(128),p=i(127),h=i(129),f=i(106),m=i(130),i=function(t){return null!=t.textContent&&0<t.textContent.trim().length&&t.parentNode instanceof HTMLElement?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP},v=i;v.acceptNode=i;b.evaluateHeuristics=function(t,e,i){return t.filter(function(t){return t.evaluate(e,i)}).map(function(t){return t.reason})},b.evaluateProperties=function(t,i,n,r){return t.reduce(function(t,e){return"string"==typeof e.value||"number"==typeof e.value?t[e.name]=n[e.value]:t[e.name]=e.value(i,n,r),t},{})},b.nodeContainsPreviousElements=function(t,e,i){if(!(t instanceof HTMLElement))return!1;for(var n=!1,r=0,o=e;r<o.length;r++){for(var s=o[r],a=0;a<s.nodes.length&&!n;a++)for(var u=s.nodes[a]instanceof HTMLElement?s.nodes[a]:s.nodes[a].parentNode;!n&&u&&u!==i;)n=u===t,u=u.parentElement;if(n)break}return n},b.nodeHasBeenProcessed=function(t,i,e){for(var n=!1,r=t.parentNode;!n&&r&&r!==e;)!function(){var e=r;n=i.some(function(t){return t.includesElement(e)}),r=r.parentElement}();return n},b.getTarget=function(e,t,i){var n=this,r=function(t){switch(t){case m.NodeGroupingMode.Block:return n.getBlockParent(e,i)||r(m.NodeGroupingMode.Element);case m.NodeGroupingMode.Element:return e.parentNode||r(m.NodeGroupingMode.Text);case m.NodeGroupingMode.Text:default:return e}},t=r(t);return{node:t,element:t instanceof HTMLElement?t:t.parentNode||i,container:i}},b.getBlockParent=function(t,e){for(var i=t.parentNode;i&&i!==e&&n.pdsUtils.isInline(i);)i=i.parentElement;return i=i===e&&n.pdsUtils.isInline(i)?null:i},b.isVisible=function(t,e){return!!(t.offsetWidth||t.offsetHeight||t.getClientRects().length)&&"visible"===e.visibility},b.prototype.parse=function(t,e,i,n){var r=[];if(0===this.heuristics.length){var o=new y.HtmlContentSection(t,e,i,["no heuristics were supplied"]);return o.addNode(t),[o]}for(var s,a,u,l=this.getUniquePropertiesList(),c=document.createTreeWalker(t,NodeFilter.SHOW_TEXT,v,!1);u=c.nextNode();){var d=b.getTarget(u,n,t),p=getComputedStyle(d.element);if(b.isVisible(d.element,p))if(null!=s&&null!=a){if(!b.nodeHasBeenProcessed(u,r,t)){for(var h=n;h>m.NodeGroupingMode.Text&&b.nodeContainsPreviousElements(d.node,r,t);)d=b.getTarget(u,--h,t);var f=b.evaluateProperties(l,d,p,s),g=b.evaluateHeuristics(this.heuristics,f,a);g.length&&(s=new y.HtmlContentSection(t,e,i,g),r.push(s)),a=f,s.addNode(d.node)}}else(s=new y.HtmlContentSection(t,e,i,["first text node"])).addNode(d.node),r.push(s),a=b.evaluateProperties(l,d,p,s)}return r},b.prototype.getUniquePropertiesList=function(){return this.heuristics.map(function(t){return t.properties}).reduce(function(e,t){t=t.filter(function(t){return!e.includes(t)});return e.concat(t)},[])},b.sectionBreakHeuristics={breakOnAll:r.breakOnAll,breakOnBackgroundChange:o.breakOnBackgroundChange,breakOnBold:s.breakOnBold,breakOnFontSizeIncrease:a.breakOnFontSizeIncrease,breakOnTableChange:u.breakOnTableChange,breakOnTooManyCharacters:l.breakOnTooManyCharacters},b.sectionBreakProperties={background:c.background,fontSize:d.fontSize,fontWeight:p.fontWeight,tableAncestor:h.tableAncestor,textLength:f.textLength},b.NodeGroupingMode=m.NodeGroupingMode,f=b;function b(t){this.heuristics=t}e.HtmlContentSectionsEngine=f},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.background={name:"background",value:function(t,e){for(var i=null,n=t.element;n&&null==i&&n!==t.container;)null==i&&"rgba(0, 0, 0, 0)"!==e.backgroundColor&&(i=e.backgroundColor),(n=n.parentElement)&&(e=getComputedStyle(n));return i}}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.fontWeight={name:"fontWeight",value:"fontWeight"}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(9);e.fontSize={name:"fontSize",value:function(t,e){return n.pdsUtils.getCssValueInPx(e.fontSize)}}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(9);e.tableAncestor={name:"table",value:function(t){return n.pdsUtils.getClosest(t.element,"table")}}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),(e=e.NodeGroupingMode||(e.NodeGroupingMode={}))[e.Text=0]="Text",e[e.Element=1]="Element",e[e.Block=2]="Block"},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(132),i=(r.prototype.getWizard=function(t){return null==this.wizardMap[t]&&(this.wizardMap[t]=new n.Wizard(t)),this.wizardMap[t]},r);function r(){this.wizardMap={}}e.WizardService=i},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(48),a=i(15),u=i(19),i=i(10),l=i.pdsLogger.prependLogger(i.pdsLogger.requiresLogger("wizard"),"wizard.ts"),i=(r.prototype.setSteps=function(t,e){if(l("setSteps() called"),null!=e&&(this.isSequential=e),t instanceof Array&&0<t.length){delete this.activeStep,this.steps.clear();for(var i=0,n=t;i<n.length;i++){var r=n[i];r.isComplete=!0===r.isComplete,r.isActive=!0===r.isActive,r.isDisabled=!0===r.isDisabled,this.steps.put(r.id,r),r.isActive?this.activeStep=r:this.isSequential&&null!=this.activeStep&&(r.isDisabled=!0)}if(null==this.activeStep&&(this.activeStep=t[0],this.activeStep.isActive=!0,this.isSequential))for(var o=1;o<t.length;o++)t[o].isDisabled=!0;this.fireChangeStream(this.steps.values())}},r.prototype.fireChangeStream=function(t){l("fireChangeStream() called"),null!=this.stepChangeInterceptor&&this.stepChangeInterceptor(t),this.changeStream.next(t)},r.prototype.setIsSequential=function(t){var n,r=this;l("setIsSequential("+t+") called"),this.isSequential=t,this.isSequential?this.steps.forEach(function(t,e,i){null==n?(t.isDisabled=!1,t.isComplete=!0):t.isDisabled=!0,t===r.activeStep&&((n=t).isComplete=!1)}):this.steps.forEach(function(t,e,i){t.isDisabled=!1}),this.fireChangeStream(this.steps.values())},r.prototype.setActiveStep=function(t){var e=this;if(l("setActiveStep() called"),"string"==typeof t){var i=t;if(null==(t=this.steps.get(i)))throw'Step id: "'+i+'" does not exist in the wizard with id: '+this.id}else{if(null==t)return a.of(!1);if(null==this.steps.get(t.id))throw"A step is being set that is not in the wizard"}function n(){o.isActive=!1,o.isComplete=!0,r.isActive=!0,r.isDisabled=!1,e.activeStep=r,e.fireChangeStream([o,r])}var r=t,o=this.getActiveStep(),s=new a.ReplaySubject(1);return null!=this.stepChangePrerequisite?"boolean"==typeof(t=this.stepChangePrerequisite(o,r))?(!0===t?n():l("step change canceled"),s.next(t),s.complete()):t.pipe(u.take(1)).subscribe(function(t){t?n():l("step change canceled"),s.next(t),s.complete()}):(n(),s.next(!0),s.complete()),s},r.prototype.getActiveStep=function(){if(null==this.activeStep){if(!(0<this.steps.array.length))throw"Cannot get active wizard step because the wizard has no steps";this.activeStep=this.steps.array[0].value}return this.activeStep},r.prototype.nextStep=function(){l("nextStep() called");var t=this.steps.indexOf(this.getActiveStep());return 0<=t&&t+1<this.steps.length?this.setActiveStep(this.steps.getValueAt(t+1)):a.of(!1)},r.prototype.previousStep=function(){l("previousStep() called");var t=this.steps.indexOf(this.getActiveStep());return 0<=t-1?this.setActiveStep(this.steps.getValueAt(t-1)):a.of(!1)},r);function r(t){this.steps=new n.OrderedMap,this.changeStream=new a.Subject,this.isSequential=!0,this.id=t,l("Created new Wizard with id: "+this.id)}e.Wizard=i},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MessageHistory={MESSAGES_TO_KEEP:5,messageHistory:[],lastMessage:null,add:function(t){this.lastMessage=t,this.messageHistory.unshift(t),this.messageHistory.length>this.MESSAGES_TO_KEEP&&this.messageHistory.pop()},getLastMessageString:function(){return this.lastMessage?this.lastMessage.message:""},clickOnLastMessageLink:function(t){if(this.lastMessage&&this.lastMessage.hasLinks)for(var e=0,i=this.lastMessage.tokens;e<i.length;e++){var n=i[e];n.isLinkItem&&n.linkItem&&n.linkItem.id===t&&n.linkItem.callback(n.linkItem)}},isLastMessageSuccess:function(){return!!this.lastMessage&&this.lastMessage.isTypeSuccess},isLastMessageInfo:function(){return!!this.lastMessage&&this.lastMessage.isTypeInfo},isLastMessageWarning:function(){return!!this.lastMessage&&this.lastMessage.isTypeWarning},isLastMessageError:function(){return!!this.lastMessage&&this.lastMessage.isTypeError},clear:function(){this.messageHistory=[],this.lastMessage=null}}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(15),f=i(244),g=i(9),r=i(48),y=i(6),l=i(102),i=i(10),m=i.pdsLogger.prependLogger(i.pdsLogger.requiresLogger("calendar"),"calendar.ts"),i=(o.prototype.getSelectedCalendarEventChangeStream=function(){return this.selectedCalendarEventChangeStream.asObservable()},o.prototype.getCalendarDataChangeStream=function(){return this.calendarDataChangeStream.asObservable()},o.prototype.setLegendItems=function(t){m("setLegendItems() called"),this.legendItems.clear();for(var e=0,i=t;e<i.length;e++){var n=i[e];this.legendItems.put(n.type,Object.assign({},n))}this.legendItems.put("unavailable-legend-item",{type:"unavailable-legend-item",icon:"calendar-unavailable",text:y.pdsI18n.getText("pds|calendar|Unavailable"),ariaText:y.pdsI18n.getText("pds|calendar|Unavailable Date")}),this.calendarDataChangeStream.next(new f.CalendarDataChangeEvent("LEGEND_CHANGE"))},o.prototype.setEvents=function(t,e,i,n){if(this.legendItems.length<=0)throw"You cannot set events without setting legend items first.";null==e&&(e=[]),m("setEvents() called.  events.length: "+(t=null==t?[]:t).length+" dayOptions.length: "+e.length);var r=new Date;if(null==i&&(i=r.getMonth()),null==n&&(n=r.getFullYear()),this.selectedYear!==n||this.selectedMonth!==i){this.selectedYear=n,this.selectedMonth=i,this.weeks=[];for(var o=g.pdsUtils.generateDays(this.selectedYear,this.selectedMonth,!0),s={},a=0,u=e;a<u.length;a++){var l=u[a],c=Object.assign({},l),l=this.toDate(l.date);null!=l?(c.date=l,s[y.pdsI18n.getJsonDate(c.date)]=c):console.error("CalendarDayOptions id: "+c.id+" did not have a date in the proper format. Skipping.")}for(var d={days:[]},p=0;p<o.length;p++){p%7==0&&(d={days:[]},this.weeks.push(d));var h=this.createCalendarDayWithEvents(o[p],t);h.options=s[y.pdsI18n.getJsonDate(new Date(h.dateTimeNum))]||null,d.days.push(h)}this.calendarDataChangeStream.next(new f.CalendarDataChangeEvent("MONTH_CHANGE"))}},o.prototype.addEvent=function(t){m("addEvent() called");var e,i,n=this.getCalendarEventLocation(t);null!=n&&(e=this.toDate(t.startTime),i=this.toDate(t.endTime),null!=e&&null!=i&&((t=Object.assign({},t)).startTime=e,t.endTime=i,n.calendarDay.events.push(t),n.calendarDay.events=l.pdsNaturalSort.sortObjects(n.calendarDay.events,["startTime","name"]),this.calendarDataChangeStream.next(new f.CalendarDataChangeEvent("ADD_EVENT",t,n))))},o.prototype.updateEvent=function(s){m("updateEvent() called");for(var a=0;a<this.weeks.length;a++)for(var u=this,t=0;t<this.weeks[a].days.length;t++){var e=function(t){var e=u.weeks[a].days[t],i=e.events.find(function(t){return t.id===s.id});if(null!=i){var n=new Date(e.dateTimeNum),r=u.toDate(s.startTime),o=u.toDate(s.endTime);if(null==r||null==o)return console.error("CalendarEvent with id: "+s.id+" cannot be updated because either the startDate or endDate are in the wrong format"),"continue";t={calendarDay:e,weekIndex:a,dayIndex:t};return n.getFullYear()===r.getFullYear()&&n.getMonth()===r.getMonth()&&n.getDate()===r.getDate()?(i.name=s.name,i.startTime=r,i.endTime=o,i.legendItemType=s.legendItemType,i.location=s.location,e.events=l.pdsNaturalSort.sortObjects(e.events,["startTime","name"]),u.calendarDataChangeStream.next(new f.CalendarDataChangeEvent("EDIT_EVENT",s,t))):(e.events=e.events.filter(function(t){return i!==t}),u.calendarDataChangeStream.next(new f.CalendarDataChangeEvent("DELETE_EVENT",s,t)),u.addEvent(s)),{value:void 0}}}(t);if("object"==typeof e)return e.value}},o.prototype.deleteEvent=function(e){m("deleteEvent() called");var t=this.getCalendarEventLocation(e);null!=t&&(t.calendarDay.events=t.calendarDay.events.filter(function(t){return t.id!==e.id}),this.calendarDataChangeStream.next(new f.CalendarDataChangeEvent("DELETE_EVENT",e,t)))},o.prototype.addDayOptions=function(t){m("addDayOptions() called");var e,i=this.getCalendarDayOptionsLocation(t);null!=i&&((e=Object.assign({},t)).date=this.toDate(t.date),i.calendarDay.options=e,this.calendarDataChangeStream.next(new f.CalendarDataChangeEvent("ADD_OPTIONS",t,i)))},o.prototype.updateDayOptions=function(t){m("updateDayOptions() called");var e=this.toDate(t.date);if(null!=e)for(var i=0;i<this.weeks.length;i++)for(var n=0;n<this.weeks[i].days.length;n++){var r=this.weeks[i].days[n];if(null!=r.options&&r.options.id===t.id){var o,s=this.toDate(r.dateTimeNum),a=this.toDate(t.date);return void(null!=s&&null!=a&&(o={calendarDay:r,weekIndex:i,dayIndex:n},s.getFullYear()===a.getFullYear()&&s.getMonth()===a.getMonth()&&s.getDate()===a.getDate()?(r.options=Object.assign({},t),r.options.date=e,this.calendarDataChangeStream.next(new f.CalendarDataChangeEvent("EDIT_OPTIONS",t,o))):(r.options=null,this.calendarDataChangeStream.next(new f.CalendarDataChangeEvent("DELETE_OPTIONS",t,o)),this.addDayOptions(t))))}}},o.prototype.deleteDayOptions=function(t){m("deleteDayOptions() called");var e=this.getCalendarDayOptionsLocation(t);null!=e&&(e.calendarDay.options=null,this.calendarDataChangeStream.next(new f.CalendarDataChangeEvent("DELETE_OPTIONS",t,e)))},o.prototype.isJsonDateString=function(t){return/^\d\d\d\d-\d?\d-\d?\d( \d?\d:\d?\d:\d?\d)?$/.test(t)},o.prototype.setSelectedCalendarEvent=function(t){m("setSelectedCalendarEvent() called"),this.selectedCalendarEvent=t,this.selectedCalendarEventChangeStream.next(this.selectedCalendarEvent)},o.prototype.getSelectedCalendarEvent=function(){return this.selectedCalendarEvent},o.prototype.getLegendItemAriaText=function(t){t=this.legendItems.get(t.legendItemType);return null!=t?null!=t.ariaText?t.ariaText:t.text:""},o.prototype.hasValidIcon=function(t){var e=this.legendItems.get(t.legendItemType);return null==e?(console.error("Could not find LegendItem with type: '"+t.legendItemType+"' in the legend.  The CalendarEvent with id: '"+t.id+"' cannot lookup an icon to use."),!1):null!=e.icon},o.prototype.getDayAndFullDate=function(t){t=this.toDate(t);return null==t?"":y.pdsI18n.locale.DATETIME_FORMATS.DAY[t.getDay()]+", "+y.pdsI18n.locale.DATETIME_FORMATS.MONTH[t.getMonth()]+" "+t.getDate()+", "+t.getFullYear()},o.prototype.getCalendarEventLocation=function(t){t=this.toDate(t.startTime);if(null!=t)return this.getCalendarDayLocationByDate(t)},o.prototype.getCalendarDayOptionsLocation=function(t){t=this.toDate(t.date);if(null!=t)return this.getCalendarDayLocationByDate(t)},o.prototype.createCalendarDayWithEvents=function(t,e){for(var i=new Date(t.dateTimeNum),n=[],r=0,o=e;r<o.length;r++){var s=o[r],a=Object.assign({},s),u=this.toDate(a.startTime);null!=u?(a.startTime=u,i.getFullYear()===u.getFullYear()&&i.getMonth()===u.getMonth()&&i.getDate()===u.getDate()&&(null!=(u=this.toDate(a.endTime))?(a.endTime=u,n.push(a)):console.error("Calendar event with id: "+s.id+" skipped because the date was not in a supported format."))):console.error("Calendar event with id: "+s.id+" skipped because the date was not in a supported format.")}return n=l.pdsNaturalSort.sortObjects(n,["startTime","name"]),Object.assign({events:n,options:null},t)},o.prototype.toDate=function(t){if(t instanceof Date)return t;if("number"==typeof t)return new Date(t);if("string"==typeof t){if(this.isJsonDateString(t))return y.pdsI18n.parseJsonDate(t,!0);console.error(t+" is not in the format yyyy-mm-dd hh:mm:ss")}},o.prototype.getCalendarDayLocationByDate=function(t){for(var e=0;e<this.weeks.length;e++)for(var i=0;i<this.weeks[e].days.length;i++){var n=this.weeks[e].days[i],r=new Date(n.dateTimeNum);if(t.getFullYear()===r.getFullYear()&&t.getMonth()===r.getMonth()&&t.getDate()===r.getDate())return{calendarDay:n,weekIndex:e,dayIndex:i}}},o);function o(t){this.legendItems=new r.OrderedMap,this.selectedCalendarEventChangeStream=new n.Subject,this.calendarDataChangeStream=new n.Subject,this.id=t}e.Calendar=i},function(t,r,e){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=e(48),o=e(15),s=e(9);r.DEFAULT_FORM_ID="default-form";i.prototype.watchForm=function(t){var e,i,n=this;null!=t?null!=t.id?e=t.id:console.error("Error: container must have an id."):(t=null!=(i=document.querySelector("form"))?i:document.querySelector("body"),e=r.DEFAULT_FORM_ID),null!=t&&null!=e&&(t.addEventListener("input",function(){n.dirtyForms.put(e,!0)}),t.addEventListener("change",function(){n.dirtyForms.put(e,!0)}))},i.prototype.isDirty=function(t){return void 0===t&&(t=r.DEFAULT_FORM_ID),this.dirtyForms.get(t)||!1},i.prototype.isPristine=function(t){return void 0===t&&(t=r.DEFAULT_FORM_ID),!this.dirtyForms.get(t)},i.prototype.setDirty=function(t){void 0===t&&(t=r.DEFAULT_FORM_ID),this.dirtyForms.put(t,!0)},i.prototype.setPristine=function(t){void 0===t&&(t=r.DEFAULT_FORM_ID),this.dirtyForms.put(t,!1)},i.prototype.removeForm=function(t){void 0===t&&(t=r.DEFAULT_FORM_ID),this.dirtyForms.remove(t)},i.prototype.isPageDirty=function(){return-1<this.dirtyForms.values().indexOf(!0)},i.prototype.setPagePristine=function(){this.dirtyForms.clear()},i.prototype.getLatestDirtyForm=function(){var i=void 0;return this.dirtyForms.forEach(function(t,e){t&&(i=e)}),i},i.prototype.promptUser=function(){var e=new o.Subject,i=document.createElement("pds-dirty-state-confirm-dialog"),n=function(t){t=t.detail;s.pdsUtils.remove(i),document.body.removeEventListener("pdsDirtyStateUserDecision",n),e.next(t),e.complete()};return document.body.addEventListener("pdsDirtyStateUserDecision",n),document.body.appendChild(i),e.asObservable()},i.prototype.informUserIfDirty=function(t){var e=o.of("DISCARD_AND_CONTINUE");return e=this.isDirty(t)?this.promptUser():e},e=i;function i(){var i=this;this.dirtyForms=new n.OrderedMap,window.onbeforeunload=function(t){if(i.isPageDirty()){var e=powerSchoolDesignSystemToolkit.i18n.getText("pds|dialog dirty state prompt|Leave site? Changes you made will not be saved."),t=t||window.event;return t&&(t.returnValue=e),e}}}r.DirtyStateService=e},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=i(137),i=(n.prototype.getDetailSelect=function(t){if(null==t)throw"to get a detail select out of the detail select service you must put in an id.";return this.detailSelectMap.has(t)||this.detailSelectMap.set(t,new r.DetailSelect),this.detailSelectMap.get(t)},n.prototype.setDetailSelectData=function(t,e,i,n){void 0===n&&(n=0),this.detailSelectMap.has(t)||this.detailSelectMap.set(t,new r.DetailSelect),this.detailSelectMap.get(t).setData(e,i,n)},n.prototype.fireOptionsUpdateStream=function(t){t=this.detailSelectMap.get(t);null!=t&&t.optionsChangeStream.next()},n.prototype.fireSelectionChange=function(t){t=this.detailSelectMap.get(t);null!=t&&t.selectionChangeStream.next(t.selectedOption)},n.prototype.getSelectionChangeStream=function(t){return this.getDetailSelect(t).selectionChangeStream},n);function n(){this.detailSelectMap=new Map}e.DetailSelectService=i},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(15),i=(Object.defineProperty(r.prototype,"selectedOption",{get:function(){if(this.options.length>this.selectedIndex)return this.options[this.selectedIndex]},enumerable:!0,configurable:!0}),r.prototype.next=function(){this.selectedIndex=this.nextIndex},r.prototype.previous=function(){this.selectedIndex=this.previousIndex},r.prototype.setData=function(t,e,i){void 0===i&&(i=0),this.options=t,this.selectedIndex=i,this.singleItemDescription=e,this.showIcons=t.some(function(t){return null!=t.icon||null!=t.img})},r.prototype.selectById=function(i){var n=this;this.options.find(function(t,e){return t.id===i&&(n.selectedIndex=e,!0)})},Object.defineProperty(r.prototype,"nextIndex",{get:function(){var t=this.selectedIndex+1;return t=t>=this.options.length?0:t},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"previousIndex",{get:function(){var t=this.selectedIndex-1;return t=t<0?Math.max(this.options.length-1,0):t},enumerable:!0,configurable:!0}),r);function r(){this.options=[],this.selectedIndex=0,this.selectionChangeStream=new n.Subject,this.optionsChangeStream=new n.Subject,this.showIcons=!0}e.DetailSelect=i},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(15),i=function(t){this.selectionChange=new n.Subject,this.multiSelectData=t};e.MultiSelect=i},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(10).pdsLogger.requiresLogger("gridWidget");e.gridWidgetLogger={log:function(t,e){null!=e?n("%c"+t,"color: "+e):n(t)}}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=(Object.defineProperty(r.prototype,"selectedFieldId",{get:function(){return this.dataField.id},set:function(t){this.dataField=this.availableFilterFields[t];t=this.dataField.getFilterInstance();t.useDataFromExistingFilter(this.filter),this.filter=t},enumerable:!0,configurable:!0}),r.prototype.update=function(){var t=this.lastDataField;return this.lastDataField=this.dataField,t},r.prototype.passesFilter=function(t){return this.filter.passesFilter(t)},r.prototype.toString=function(){return this.dataField.id},r);function r(t,e){this.availableFilterFields={},this.availableFilterFields=t,null!=e&&null!=t[e]||(e=Object.keys(this.availableFilterFields)[0]),this.dataField=t[e],this.filter=this.dataField.getFilterInstance(),this.lastDataField=this.dataField}e.FilterContainer=n},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(75),i=(r.prototype.resolve=function(t){if(null!=t){if(null!=this.objectLookupFunction)try{return this.objectLookupFunction.call(window,t)}catch(t){return void(this.logLookupFunctionExceptions&&console.error(t))}return this.parseResolver.resolve(t)}},r);function r(t,e,i){if(this.logLookupFunctionExceptions=!0,this.id=t,"string"==typeof e?(this.objectLookupKey=e,this.parseResolver=new n.SimpleParseResolver(this.objectLookupKey)):(this.objectLookupKey="using lookup function",this.objectLookupFunction=e),this.title=i,!/^[0-9a-z\][0-9a-z\-]*$/.test(t))throw'id "'+t+'" must contain only a-z, 0-9, and -.  Also, cannot start with -'}e.DataField=i},function(t,e,i){"use strict";var n,r=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var o,s=i(79),a=i(273),u=i(44),l=i(143),r=(o=s.SelectField,r(c,o),c.prototype.getFilterInstance=function(){return new a.InverseMultiSelectFilter(this)},c.prototype.resolveAsString=function(t){return l.MultiSelectField.multiSelectResolveAsString(this.resolve(t),this.selectOptions)},c);function c(t,e,i,n,r){r=o.call(this,t,e,i,n,r)||this;return r.popupThreshold=1,r.filterDisabled=u.DisableFilterOption.simpleOnly,r}e.InverseMultiSelectField=r},function(t,e,i){"use strict";var n,r=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var o,s=i(79),a=i(108),r=(o=s.SelectField,r(u,o),u.multiSelectResolveAsString=function(t,e){for(var i,n=0,r=e.keys();n<r.length;n++){var o=r[n],s=e.get(o);("function"==typeof s?s(t):"string"==typeof s&&"string"==typeof t?s.toUpperCase()===t.toUpperCase():e.get(o)===t)&&(null==i?i=o:console.error("selectOptions has multiple keys for the same value: "+t))}return i||""},u.prototype.getFilterInstance=function(){return new a.MultiSelectFilter(this)},u.prototype.resolveAsString=function(t){return u.multiSelectResolveAsString(this.resolve(t),this.selectOptions)},u);function u(){var t=null!==o&&o.apply(this,arguments)||this;return t.popupThreshold=1,t}e.MultiSelectField=r},function(t,e,i){"use strict";var n,r=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var o,s=i(44),a=i(145),r=(o=s.GridWidgetDataField,r(u,o),u.prototype.getFilterInstance=function(){return new a.MultiFieldFilter(this)},u.prototype.setValidationRules=function(t){this.validationRules=t},u.prototype.resolveAsString=function(t){return console.error("Multi-Field is not supported for exporting to string"),""},u);function u(t,e,i,n){n=o.call(this,t,function(t){return t},e,n)||this;return n.placeholderText="",n.dataFields=i,n.fieldExportDisabled=!0,n}e.MultiField=r},function(t,e,i){"use strict";var n,r=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var o,s=i(51),a=i(44),u=i(9),r=(o=s.GridWidgetFilter,r(l,o),l.prototype.getTagName=function(){return"pds-gw-multi-field-filter"},l.prototype.isBlank=function(){return null==this.searchValue||""===this.searchValue},l.prototype.internalPassesFilter=function(t){return!0},l.prototype.passesFilter=function(e){var t=!0;return t=null!=this.filterInstances&&0<this.filterInstances.length?null!=this.filterInstances.find(function(t){return t.passesFilter(e)}):t},l.prototype.preFilterUpdate=function(){var e=this;this.filterInstances=[],this.dataField.dataFields.forEach(function(t){t===e.dataField||t.filterDisabled===a.DisableFilterOption.simpleOnly||t.filterDisabled===a.DisableFilterOption.both||(t=t.getFilterInstance()).setQuickSearchValue(e.searchValue)&&(t.preFilterUpdate(),e.filterInstances.push(t))})},l.prototype.setQuickSearchValue=function(t){return this.searchValue=t||"",!0},l.prototype.getRestArguments=function(){for(var t=[],e=0,i=this.filterInstances;e<i.length;e++){var n=i[e];t.push(n.getRestArguments())}return u.pdsUtils.flatten(t)},l.prototype.getTagText=function(){return this.searchValue},l.prototype.getPersistenceObject=function(){return this.searchValue},l.prototype.restoreFromPersistenceObject=function(t){this.searchValue=t},l);function l(t){t=o.call(this,t)||this;return t.filterInstances=[],t}e.MultiFieldFilter=r},function(t,e,i){"use strict";var n,r=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var o,s=i(51),a=i(49),u=i(9),l=i(6),r=(o=s.GridWidgetFilter,r(c,o),c.prototype.getTagName=function(){return"pds-gw-text-filter"},c.prototype.preFilterUpdate=function(){this.searchValueRegex=null,this.searchValue&&0<this.searchValue.length&&(this.searchValueRegex=new RegExp(u.pdsUtils.escapeUserInput(this.searchValue),"i"))},c.prototype.isBlank=function(){switch(this.comparator){case"IS_BLANK":return!1;case"CONTAINS":default:return null==this.searchValue||""===this.searchValue}},c.prototype.internalPassesFilter=function(t){switch(this.comparator){case"IS_BLANK":return null==t||"string"==typeof t&&0===t.trim().length;case"CONTAINS":default:return null==t?!1:(t=String(t),!(this.searchValue&&0<this.searchValue.length&&null!=this.searchValueRegex)||null!==t.match(this.searchValueRegex))}},c.prototype.setQuickSearchValue=function(t){return this.searchValue=t,null!=this.searchValue&&0<this.searchValue.length},c.prototype.getRestArguments=function(){switch(this.comparator){case"IS_BLANK":return[new a.RestArgument(this.dataField.id,"=","")];case"CONTAINS":default:return this.isBlank()?[]:[new a.RestArgument(this.dataField.id,"=",this.searchValue)]}},c.prototype.previousFilter=function(t){if(t instanceof c){var e=t;switch(e.comparator){case"IS_BLANK":var i=this.dataField.comparatorSettings.get("IS_BLANK");if(null!=i&&i.isVisible)return void(this.comparator="IS_BLANK");case"CONTAINS":default:this.searchValue=e.searchValue}}},c.prototype.getTagText=function(){switch(this.comparator){case"IS_BLANK":return l.pdsI18n.getText("pds|grid widget|is blank");case"CONTAINS":default:return this.searchValue}},c.prototype.getPersistenceObject=function(){return{comparator:this.comparator,searchValue:"IS_BLANK"!==this.comparator?this.searchValue:""}},c.prototype.restoreFromPersistenceObject=function(t){var e;"string"==typeof t?(this.comparator="CONTAINS",this.searchValue=t):"object"==typeof t&&(e=t,null!=(t=this.dataField.comparatorSettings.get(e.comparator))&&t.isVisible?this.comparator=e.comparator:this.comparator="CONTAINS",this.searchValue=e.searchValue)},c);function c(){var t=null!==o&&o.apply(this,arguments)||this;return t.searchValue="",t.comparator="CONTAINS",t}e.TextFilter=r},function(t,e,i){"use strict";var n,r=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var o,s=i(51),a=i(6),u=i(49),r=(o=s.GridWidgetFilter,r(l,o),l.prototype.getTagName=function(){return"pds-gw-date-filter"},l.prototype.preFilterUpdate=function(){},l.prototype.isBlank=function(){return"range"===this.comparator?(null==this.searchValueDate||isNaN(this.searchValueDate.getTime()))&&(null==this.searchValueDate2||isNaN(this.searchValueDate2.getTime())):null==this.searchValueDate||isNaN(this.searchValueDate.getTime())},l.prototype.internalPassesFilter=function(t){if(null==t||!(t instanceof Date))return!1;var e=t.getTimezoneOffset();if((t=new Date(t.getFullYear(),t.getMonth(),t.getDate())).getTimezoneOffset()!==e&&console.error("The date from the data being filtered is not in the local time zone.  The grid widget does not support that at this time."),"range"!==this.comparator&&null==this.searchValueDate)return!0;switch(this.comparator){case"~":case"=":return t.getTime()===this.searchValueDate.getTime();case">":return t.getTime()>this.searchValueDate.getTime();case">=":return t.getTime()>=this.searchValueDate.getTime();case"<":return t.getTime()<this.searchValueDate.getTime();case"<=":return t.getTime()<=this.searchValueDate.getTime();case"range":var i=null==this.searchValueDate||isNaN(this.searchValueDate.getTime())||t.getTime()>=this.searchValueDate.getTime(),n=null==this.searchValueDate2||isNaN(this.searchValueDate2.getTime())||t.getTime()<=this.searchValueDate2.getTime();return i&&n;default:throw"The comparator is not set in the DateFilter or is not supported: "+this.comparator}},l.prototype.setQuickSearchValue=function(t){var e;return this.searchValueDate=a.pdsI18n.deLocalizeDate(t),null==this.searchValueDate&&"string"==typeof t&&(e=new Date,t.toLowerCase()===a.pdsI18n.getText("global|Today").toLowerCase()?this.searchValueDate=new Date(e.getFullYear(),e.getMonth(),e.getDate()):t.toLowerCase()===a.pdsI18n.getText("global|Tomorrow").toLowerCase()?this.searchValueDate=new Date(e.getFullYear(),e.getMonth(),e.getDate()+1):t.toLowerCase()===a.pdsI18n.getText("global|Yesterday").toLowerCase()&&(this.searchValueDate=new Date(e.getFullYear(),e.getMonth(),e.getDate()-1))),this.comparator="~",null!=this.searchValueDate},l.prototype.getRestArguments=function(){if(this.isBlank())return[];if("range"!==this.comparator)return[new u.RestArgument(this.dataField.id,"~"===this.comparator?"=":this.comparator,this.searchValueDate,a.pdsI18n.getMmDdYyyyDateString(this.searchValueDate))];var t=[];return this.searchValueDate instanceof Date&&t.push(new u.RestArgument(this.dataField.id,">=",this.searchValueDate,a.pdsI18n.getMmDdYyyyDateString(this.searchValueDate))),this.searchValueDate2 instanceof Date&&t.push(new u.RestArgument(this.dataField.id,"<=",this.searchValueDate2,a.pdsI18n.getMmDdYyyyDateString(this.searchValueDate2))),t},l.prototype.getTagText=function(){return"range"===this.comparator?a.pdsI18n.localizeDate(this.searchValueDate)+" - "+a.pdsI18n.localizeDate(this.searchValueDate2):this.comparator+" "+a.pdsI18n.localizeDate(this.searchValueDate)},l.prototype.getPersistenceObject=function(){return{comparator:this.comparator,searchValueDate:a.pdsI18n.getJsonDate(this.searchValueDate),searchValueDate2:a.pdsI18n.getJsonDate(this.searchValueDate2)}},l.prototype.restoreFromPersistenceObject=function(t){this.comparator=t.comparator,this.searchValueDate=a.pdsI18n.parseJsonDate(t.searchValueDate),this.searchValueDate2=a.pdsI18n.parseJsonDate(t.searchValueDate2)},l);function l(){var t=null!==o&&o.apply(this,arguments)||this;return t.comparator="=",t}e.DateFilter=r},function(t,e,i){"use strict";var n,r=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var o,i=i(77),r=(o=i.SelectFilter,r(s,o),s.prototype.getTagName=function(){return"pds-gw-pill-select-filter"},s);function s(){return null!==o&&o.apply(this,arguments)||this}e.PillSelectFilter=r},function(t,e,i){"use strict";var n,r=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var o,s=i(51),a=i(6),u=i(49),r=(o=s.GridWidgetFilter,r(l,o),l.prototype.getTagName=function(){return"pds-gw-number-filter"},l.prototype.preFilterUpdate=function(){null==this.searchValueNum?this.convertedSearchValueNum=void 0:null==this.selectedUnitConversion?this.convertedSearchValueNum=this.searchValueNum:this.convertedSearchValueNum=this.searchValueNum*this.selectedUnitConversion,null==this.searchValueNum2?this.convertedSearchValueNum2=void 0:null==this.selectedUnitConversion2?this.convertedSearchValueNum2=this.searchValueNum2:this.convertedSearchValueNum2=this.searchValueNum2*this.selectedUnitConversion2},l.prototype.isBlank=function(){return"range"===this.comparator?(null==this.searchValueNum||isNaN(this.searchValueNum))&&(null==this.searchValueNum2||isNaN(this.searchValueNum2)):null==this.searchValueNum||isNaN(this.searchValueNum)},l.prototype.internalPassesFilter=function(t){if(null==t||"number"!=typeof t)return!1;switch(this.comparator){case"=":return t===this.convertedSearchValueNum;case">":return null==this.convertedSearchValueNum||t>this.convertedSearchValueNum;case">=":return null==this.convertedSearchValueNum||t>=this.convertedSearchValueNum;case"<":return null==this.convertedSearchValueNum||t<this.convertedSearchValueNum;case"<=":return null==this.convertedSearchValueNum||t<=this.convertedSearchValueNum;case"~":return 0<=String(t).search(String(this.convertedSearchValueNum));case"range":var e=null==this.convertedSearchValueNum||isNaN(this.convertedSearchValueNum)||t>=this.convertedSearchValueNum,i=null==this.convertedSearchValueNum2||isNaN(this.convertedSearchValueNum2)||t<=this.convertedSearchValueNum2;return e&&i;default:throw"The comparator on the number filter is not set or is unsupported: "+this.comparator}},l.prototype.setQuickSearchValue=function(t){return this.searchValueNum=a.pdsI18n.deLocalizeNumber(t),this.comparator="~",null!=this.searchValueNum},l.prototype.getRestArguments=function(){if(this.isBlank())return[];if("range"!==this.comparator)return[new u.RestArgument(this.dataField.id,this.comparator,this.convertedSearchValueNum)];var t=[];return null==this.convertedSearchValueNum||isNaN(this.convertedSearchValueNum)||t.push(new u.RestArgument(this.dataField.id,">=",this.convertedSearchValueNum)),null==this.convertedSearchValueNum2||isNaN(this.convertedSearchValueNum2)||t.push(new u.RestArgument(this.dataField.id,"<=",this.convertedSearchValueNum2)),t},l.prototype.getTagText=function(){return"range"===this.comparator?a.pdsI18n.localizeNumber(this.searchValueNum)+" - "+a.pdsI18n.localizeNumber(this.searchValueNum2):this.comparator+" "+a.pdsI18n.localizeNumber(this.searchValueNum)},l.prototype.getPersistenceObject=function(){return{comparator:this.comparator,searchValueNum:this.searchValueNum,searchValueNum2:this.searchValueNum2,selectedUnitConversion:this.selectedUnitConversion,selectedUnitConversion2:this.selectedUnitConversion2}},l.prototype.restoreFromPersistenceObject=function(t){this.comparator=t.comparator,this.searchValueNum=t.searchValueNum,this.searchValueNum2=t.searchValueNum2,this.selectedUnitConversion=t.selectedUnitConversion,this.selectedUnitConversion2=t.selectedUnitConversion2},l);function l(t){var e=o.call(this,t)||this;e.comparator="=";t=e.dataField.unitsMap;return null!=t&&(e.selectedUnitConversion=t.getFirstValue(),e.selectedUnitConversion2=t.getFirstValue()),e}e.NumberFilter=r},function(t,Z,tt){"use strict";!function(t){Object.defineProperty(Z,"__esModule",{value:!0});var e=tt(37);Z.ChatThreadTypeEnum=e.ChatThreadTypeEnum,Z.ReportingTermSort=e.ReportingTermSort,Z.SimpleTime=e.SimpleTime,Z.TreeSort=e.TreeSort;var i=tt(173);Z.NotificationIndicatorController=i.NotificationIndicatorController;var n=tt(74);Z.ActivityFeedNotificationItem=n.ActivityFeedNotificationItem;var r=tt(99);Z.AsgmtSubmissionNotificationItem=r.AsgmtSubmissionNotificationItem;var o=tt(118);Z.AsgmtReturnNotificationItem=o.AsgmtReturnNotificationItem;var s=tt(100);Z.AssignmentTemplateNotificationItem=s.AssignmentTemplateNotificationItem;var a=tt(101);Z.CommunicationNotificationItem=a.CommunicationNotificationItem;var u=tt(176),l=tt(6),c=tt(43),d=tt(10),p=tt(102);Z.PdsNaturalSort=p.PdsNaturalSort;var h=tt(9),f=tt(76),g=tt(28),y=tt(178),m=tt(107);Z.GetStreamCacheServiceConfig=m.GetStreamCacheServiceConfig;var v=tt(265);Z.ActivityFeedNotificationService=v.ActivityFeedNotificationService;var b=tt(266);Z.AggregatedNotificationService=b.AggregatedNotificationService;var S=tt(267);Z.AsgmtSubmissionNotificationService=S.AsgmtSubmissionNotificationService;var T=tt(268);Z.AsgmtReturnNotificationService=T.AsgmtReturnNotificationService;var C=tt(269);Z.AssignmentTemplateNotificationService=C.AssignmentTemplateNotificationService;var _=tt(270);Z.CommunicationNotificationService=_.CommunicationNotificationService;var w=tt(103);Z.ChatThreadService=w.ChatThreadService;var x=tt(78);Z.GetStreamFeedService=x.GetStreamFeedService;var P=tt(119);Z.HelpLinkService=P.HelpLinkService;var O=tt(136);Z.DetailSelectService=O.DetailSelectService;var N=tt(75);Z.SimpleParseResolver=N.SimpleParseResolver;var I=tt(104);Z.PoppableElementFactory=I.PoppableElementFactory;var E=tt(133),A=tt(120);Z.PopoverAccessibilityControllerFactory=A.PopoverAccessibilityControllerFactory;var D=tt(122);Z.ImmersiveReaderService=D.ImmersiveReaderService;var M=tt(123);Z.CancelImmersiveReaderRequest=M.CancelImmersiveReaderRequest;var k=tt(125);Z.HtmlContentSectionsEngine=k.HtmlContentSectionsEngine;var F=tt(271);Z.GridWidget=F.GridWidget,Z.FilterConstraint=F.FilterConstraint;var R=tt(50);Z.GridWidgetTask=R.GridWidgetTask;var U=tt(281);Z.CounterTask=U.CounterTask;var j=tt(51);Z.GridWidgetFilter=j.GridWidgetFilter;var L=tt(282);Z.TextField=L.TextField;var V=tt(146);Z.TextFilter=V.TextFilter;var W=tt(283);Z.DateField=W.DateField;var G=tt(144);Z.MultiField=G.MultiField;var B=tt(44);Z.GridWidgetDataField=B.GridWidgetDataField,Z.DisableFilterOption=B.DisableFilterOption;var H=tt(145);Z.MultiFieldFilter=H.MultiFieldFilter;var q=tt(79);Z.SelectField=q.SelectField;var z=tt(284);Z.PillSelectField=z.PillSelectField;var K=tt(148);Z.PillSelectFilter=K.PillSelectFilter;var Y=tt(285);Z.SortConfiguration=Y.SortConfiguration,Z.SortDirection=Y.SortDirection;O=tt(143);Z.MultiSelectField=O.MultiSelectField;U=tt(108);Z.MultiSelectFilter=U.MultiSelectFilter;j=tt(77);Z.SelectFilter=j.SelectFilter;V=tt(138);Z.MultiSelect=V.MultiSelect;G=tt(48);Z.OrderedMap=G.OrderedMap;B=tt(286);Z.NumberField=B.NumberField;H=tt(142);Z.InverseMultiSelectField=H.InverseMultiSelectField;K=tt(149);Z.NumberFilter=K.NumberFilter;j=tt(49);Z.RestArgument=j.RestArgument;K=tt(140);Z.FilterContainer=K.FilterContainer;j=tt(147);Z.DateFilter=j.DateFilter;K=tt(141);Z.DataField=K.DataField;var J=tt(105),j=tt(137);Z.DetailSelect=j.DetailSelect;K=tt(33),j=tt(132);Z.Wizard=j.Wizard;j=tt(134);Z.Calendar=j.Calendar;j=tt(131);Z.WizardService=j.WizardService;j=tt(135);if(Z.DirtyStateService=j.DirtyStateService,"undefined"!=typeof window?$=window:void 0!==t&&($=t),null==$.powerSchoolDesignSystemToolkit){var Q,X={i18n:l.pdsI18n,validation:f.pdsValidation,utils:h.pdsUtils,accessibility:u.pdsAccessibility,localStorage:c.pdsLocalStorage,logger:d.pdsLogger,log:d.pdsLogger.log,naturalSort:p.pdsNaturalSort,naturalSortConstructor:p.PdsNaturalSort,validationEngine:g.pdsValidationRulesEngine,reportingTermSort:e.ReportingTermSort,pdsTreeSortUtil:e.TreeSort,factories:{PoppableElementFactory:I.PoppableElementFactory,PopoverAccessibilityControllerFactory:A.PopoverAccessibilityControllerFactory},controllers:{NotificationIndicatorController:i.NotificationIndicatorController},caches:{immersiveReaderAccessTokenCache:D.immersiveReaderAccessTokenCache},services:{AggregatedNotificationService:b.AggregatedNotificationService,ActivityFeedNotificationService:v.ActivityFeedNotificationService,AsgmtSubmissionNotificationService:S.AsgmtSubmissionNotificationService,AsgmtReturnNotificationService:T.AsgmtReturnNotificationService,ChatThreadService:w.ChatThreadService,CommunicationNotificationService:_.CommunicationNotificationService,GetStreamFeedService:x.GetStreamFeedService,GetStreamCacheServiceConfig:m.GetStreamCacheServiceConfig,AssignmentTemplateNotificationService:C.AssignmentTemplateNotificationService,HelpLinkService:P.HelpLinkService},serviceInstances:K.serviceInstances,models:{ActivityFeedNotificationItem:n.ActivityFeedNotificationItem,CommunicationNotificationItem:a.CommunicationNotificationItem,AssignmentTemplateNotificationItem:s.AssignmentTemplateNotificationItem,AsgmtSubmissionNotificationItem:r.AsgmtSubmissionNotificationItem,AsgmtReturnNotificationItem:o.AsgmtReturnNotificationItem,CancelImmersiveReaderRequest:M.CancelImmersiveReaderRequest,GridWidget:F.GridWidget,TextField:L.TextField,DateField:W.DateField,NumberField:B.NumberField,SelectField:q.SelectField,SortConfiguration:Y.SortConfiguration,MultiSelectField:O.MultiSelectField,MultiSelectFilter:U.MultiSelectFilter,MultiSelect:V.MultiSelect,PillSelectField:z.PillSelectField,InverseMultiSelectField:H.InverseMultiSelectField,OrderedMap:G.OrderedMap,GridWidgetTask:R.GridWidgetTask},polymerUtils:y.polymerUtils,sectionUtil:e.SectionUtil,preferences:{CACHE_KEY_PREFIX:void 0,host:"",getS3MediaPath:function(){return X.preferences.host+"/s3media"}},setAutomationChecker:function(t){null==this.automationChecker?(this.automationChecker=t,c.pdsLocalStorage.getPersistedBoolean("debug")&&this.automationChecker.startChecking()):console.error("The automation checker is already being downloaded in this app. To turn it on run localStorage.setItem('debug', 'true' and reload the page")},svgSpritePath:"",types:{Time:e.SimpleTime,PdsNaturalSort:p.PdsNaturalSort,ParseResolver:N.SimpleParseResolver,ReportingTermSort:e.ReportingTermSort,TreeSort:e.TreeSort,ChatThreadTypeEnum:e.ChatThreadTypeEnum,SortDirection:Y.SortDirection,FilterConstraint:F.FilterConstraint},messageHistory:E.MessageHistory,htmlContentSectionsEngine:k.HtmlContentSectionsEngine};for(Q in Object.defineProperty(X,"version",{get:function(){return J.versionAndPaths.version}}),Object.defineProperty(X,"cdnAssetPath",{get:function(){return J.versionAndPaths.cdnAssetPath},set:function(t){J.versionAndPaths.cdnAssetPath=t}}),X.naturalSort.ignoreCase(),X)"polymerUtils"!==Q&&"svgSpritePath"!==Q&&"version"!==Q&&"cdnAssetPath"!==Q&&(X[Q].pds=X);y.polymerUtils.addPdsObjToPolymerComponent(X),$.powerSchoolDesignSystemToolkit=X}Z.default=$.powerSchoolDesignSystemToolkit;var $=tt(124);Z.PdsParsedHtmlContent=$.PdsParsedHtmlContent}.call(this,tt(151))},function(t,e){var i=function(){return this}();try{i=i||new Function("return this")()}catch(t){"object"==typeof window&&(i=window)}t.exports=i},function(t,i,e){"use strict";function n(t){for(var e in t)i.hasOwnProperty(e)||(i[e]=t[e])}var r=e(153);i.Calculator=r.Calculator,i.ScoreIf=r.ScoreIf,n(e(158)),n(e(169)),n(e(170)),n(e(172))},function(t,i,e){"use strict";var n=e(154);!function(t){for(var e in t)i.hasOwnProperty(e)||(i[e]=t[e])}(e(156)),i.Calculator={calculateScore:function(t,e,i){if("TOTAL_POINTS"===(t=void 0===t?"TOTAL_POINTS":t))return n.calculateTotalPointsScore(e,i);throw new Error("Unknown CalculationType")}}},function(t,e,i){"use strict";var a=i(155);function u(t,e){var i=t.getPercent(),n=e.getPercent();if(i<n)return-1;if(n<i)return 1;t=t.getWeightedPointsPossible(),e=e.getWeightedPointsPossible();return e<t?-1:t<e?1:0}function l(t,e){t=t.getWeightedMissingPoints(),e=e.getWeightedMissingPoints();return e<t?-1:t<e?1:0}e.calculateTotalPointsScore=function(t,e){var i=e&&!0===e.debug||!1;if(null!=t&&0!==t.length){var n=t.filter(function(t){return null!=t.getPoints()}),r=n.length;if(0!==r){var o,s=r,t=n.map(function(t){t=new a.ValidScore(t);return t.isPercentInfinity()&&(i&&console.log("Found score that is inifinity"),s--),t}),r=0,n=0;null!=e&&null!=e.dropScores&&(r=null!=e.dropScores.dropLowScores&&0<e.dropScores.dropLowScores?e.dropScores.dropLowScores:0,n=null!=e.dropScores.dropHighScores&&0<e.dropScores.dropHighScores?e.dropScores.dropHighScores:0),(0<r||0<n)&&s<=r+n&&(i&&console.log("Ignoring options.dropScores calculation settings as there are not enough scores to allow dropping"),n=r=0),(0<r||0<n)&&(o=null!=e&&null!=e.dropScores&&!0===e.dropScores.studentsFavor,t=(o=function(t,e,i,n,r){!0===r?e.sort(l):e.sort(u);t&&console.log("Sorted score(s) before drop: "+JSON.stringify(e));t=[];0<i&&t.push.apply(t,e.slice(0,i));0<n&&t.push.apply(t,e.slice(e.length-n,e.length));return{droppedScores:t,scores:e.splice(i,e.length-n-1)}}(i,t,r,n,o)).scores,o=o.droppedScores.map(function(t){return t.getSourceScore()}),i&&console.log("Dropped "+o.length+" score(s): "+JSON.stringify(o))),i&&console.log("Using "+t.length+" score(s) to calcuate metrics");t=function(e,t){var i=0,n=0,r=0,o=0;t.forEach(function(t){e&&console.log("Running total: points: "+i+", totalPoints: "+n+", weightedPoints: "+r+", totalWeightedPoints: "+o+", adding score: "+JSON.stringify(t)),i+=t.getPoints(),n+=t.getTotalPoints(),r+=t.getPoints()*t.getWeight(),o+=t.getTotalPoints()*t.getWeight()}),e&&console.log("Total: points: "+i+", totalPoints: "+n+", weightedPoints: "+r+", totalWeightedPoints: "+o);return{points:i,totalPoints:n,weightedPoints:r,totalWeightedPoints:o}}(i,t);return t.droppedScores=o,t}i&&console.log("No scores with points were passed in to calculate.")}else i&&console.log("No scores were passed in to calculate.")}},function(t,e,i){"use strict";var n=(r.prototype.getPoints=function(){return this.points},r.prototype.getTotalPoints=function(){return this.totalPoints},r.prototype.getPercent=function(){return this.points/this.totalPoints},r.prototype.getWeight=function(){return this.weight},r.prototype.isPercentInfinity=function(){return 0===this.totalPoints},r.prototype.getWeightedPointsPossible=function(){return this.totalPoints*this.weight},r.prototype.getWeightedMissingPoints=function(){return(this.totalPoints-this.points)*this.weight},r.prototype.getSourceScore=function(){return this.sourceScore},r);function r(t){this.points=t.getPoints(),this.totalPoints=t.getTotalPoints(),this.weight=t.getWeight(),this.sourceScore=t}e.ValidScore=n},function(t,i,e){"use strict";function n(t){for(var e in t)i.hasOwnProperty(e)||(i[e]=t[e])}n(e(157)),n(e(109))},function(t,e,i){"use strict";var n,r=this&&this.__extends||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);function n(){this.constructor=t}t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},i=i(109),r=(n=i.ScoreIf,r(o,n),o.prototype.getWeight=function(){return this.weight||1},o.prototype.getPoints=function(){return this.points},o.prototype.getTotalPoints=function(){return this.totalPoints},o.prototype.getPercent=function(){return this.points/this.totalPoints},o);function o(t,e,i){n.call(this),this.points=t,this.totalPoints=e,this.weight=i}e.PointsScore=r},function(t,e,i){"use strict";var n=i(69);e.DateUtil=n.DateUtil;n=i(70);e.NumberUtil=n.NumberUtil;n=i(159);e.SectionUtil=n.SectionUtil;n=i(71);e.StringUtil=n.StringUtil;n=i(111);e.EmailUtil=n.EmailUtil;n=i(112);e.GradeScaleUtil=n.GradeScaleUtil;n=i(32);e.I18nUtil=n.I18nUtil,e.i18n=n.i18n;n=i(114);e.TreeSort=n.TreeSort;n=i(164);e.ReportingTermSort=n.ReportingTermSort;n=i(165);e.XssOptions=n.XssOptions;n=i(166);e.FeatureAccessChecker=n.FeatureAccessChecker;n=i(167);e.ScoreUtil=n.ScoreUtil;i=i(168);e.SmartTextUtil=i.SmartTextUtil},function(t,e,i){"use strict";var u=i(71),l=i(69),o=i(70),c=i(32);function n(t){t.primaryDisplay=t.preferredCourseName||t.courseName,t.secondaryDisplay=t.periodDay,t.classDisplayPreference="PeriodAndDay"}function r(t){t.primaryDisplay=t.preferredCourseName||t.courseName,t.secondaryDisplay=t.sectionNumber,t.classDisplayPreference="SectionNumber"}function s(t,e){switch(t){case"SectionNumber":return function(t,e){var i=d(t,e);return 0!==i||0!==(i=h(t,e))?i:p(t,e)};case"Custom":case"Alphabetical":return function(t,e){var i=h(t,e);return 0!==i||0!==(i=d(t,e))?i:p(t,e)};case"CustomPeriodDay":case"PeriodAndDay":default:if(null==e)throw Error("tried to sort by period day without passing in a termMap");return a=e,function(t,e){var i,n,r=u.StringUtil.compareStrings(t.schoolName,e.schoolName);if(0!==r)return r;if(0!==(r=u.StringUtil.compareStrings(t.schoolUid,e.schoolUid)))return r;if(null==t.periodDay&&null==e.periodDay)return 0;if(null==t.periodDay)return 1;if(null==e.periodDay)return-1;if(0!==(r=u.StringUtil.compareStrings(f(t.periodDay),f(e.periodDay))))return r;if(0!==(r=u.StringUtil.compareStrings(g(t.periodDay),g(e.periodDay))))return r;if(0!==(r=h(t,e)))return r;if(i=null!=t.schedulingTerm?a.get(t.schedulingTerm.uid):void 0,n=null!=e.schedulingTerm?a.get(e.schedulingTerm.uid):void 0,null==i&&null==n)return 0;if(null==i)return 1;if(null==n)return-1;var o=i.startDate instanceof Date?i.startDate:c.i18n.parseJsonDate(i.startDate),s=n.startDate instanceof Date?n.startDate:c.i18n.parseJsonDate(n.startDate);return 0!==(r=l.DateUtil.compareDates(o,s))?r:(o=i.endDate instanceof Date?i.endDate:c.i18n.parseJsonDate(i.endDate),s=n.endDate instanceof Date?n.endDate:c.i18n.parseJsonDate(n.endDate),0!==(r=l.DateUtil.compareDates(o,s))?r:p(t,e))}}var a}function d(t,e){var i,n=null!=t.sectionNumber?t.sectionNumber.trim():"",r=null!=e.sectionNumber?e.sectionNumber.trim():"",t=parseInt(n),e=parseInt(r);if(o.NumberUtil.isNumber(t)&&o.NumberUtil.isNumber(e))i=o.NumberUtil.compareNumbers(t,e);else{if(o.NumberUtil.isNumber(t)||o.NumberUtil.isNumber(e))return o.NumberUtil.isNumber(t)&&!o.NumberUtil.isNumber(e)?-1:1;i=u.StringUtil.compareStringsIgnoreCase(n,r)}return i}function p(t,e){var i=parseInt(t.sourceSystemId),n=parseInt(e.sourceSystemId);return o.NumberUtil.isNumber(i)&&o.NumberUtil.isNumber(n)?o.NumberUtil.compareNumbers(i,n):u.StringUtil.compareStringsIgnoreCase(t.sourceSystemId,e.sourceSystemId)}function h(t,e){t=(t.preferredCourseName?u.StringUtil.defaultString(t.preferredCourseName):u.StringUtil.defaultString(t.courseName)).trim(),e=(e.preferredCourseName?u.StringUtil.defaultString(e.preferredCourseName):u.StringUtil.defaultString(e.courseName)).trim();return u.StringUtil.compareStringsIgnoreCase(t,e)}function f(t){var e=t.substr(0,t.indexOf("("));if(e===t)return t;t=e.indexOf("-");return-1!==t?e.substr(0,t):e}function g(t){var e=t.substr(t.indexOf("(")+1,t.indexOf(")")-1);if(e===t)return t;t=e.indexOf(",");return-1!==t||-1!==(t=e.indexOf("-"))?e.substr(0,t):e}(e=e.SectionUtil||(e.SectionUtil={})).setDisplayValuesByPreference=function(t,e){var i;switch(e){case"Custom":case"SectionNumber":case"Alphabetical":i=r;break;case"CustomPeriodDay":case"PeriodAndDay":default:i=n}t.forEach(i)},e.getSortSectionByPreferenceComparator=s,e.sortSectionsByPreference=function(t,e,i){i=s(e,i),t.sort(i)}},function(t,e,i){"use strict";i=i(32);e.numberValidationRules={i18n:i.i18n,validateIsNumber:function(t,e,i){var n={isValid:this.i18n.isValidNumber(t)};return n.isValid?i.parsedNumber=this.i18n.deLocalizeNumber(t):n.errorMessage=this.i18n.getText("cu|validation engine|Must be a number"),n},validateIsInteger:function(t,e,i){var n={isValid:-1===t.indexOf(this.i18n.locale.NUMBER_FORMATS.DECIMAL_SEP)};return n.isValid||(n.errorMessage=this.i18n.getText("cu|validation engine|xx is not a valid integer.",{input:t})),n},validateMaxNumberValue:function(t,e,i){i={isValid:i.parsedNumber<=e};return i.isValid||(i.errorMessage=this.i18n.getText("cu|validation engine|The number must be less than or equal to xx",{maxValue:this.i18n.localizeNumber(e)})),i},validateMinNumberValue:function(t,e,i){i={isValid:i.parsedNumber>=e};return i.isValid||(i.errorMessage=this.i18n.getText("cu|validation engine|The number must be greater than or equal to xx",{minValue:this.i18n.localizeNumber(e)})),i},validateMaxNumberLength:function(t,e,i){t={isValid:t.length<=e};return t.isValid||(t.errorMessage=this.i18n.getText("cu|validation engine|The number must have xx or less digits.",{maxLength:e})),t},validateMinNumberLength:function(t,e,i){t={isValid:t.length>=e};return t.isValid||(t.errorMessage=this.i18n.getText("cu|validation engine|The number must have xx or more digits.",{minLength:e})),t},validateMaxNumberValueExclusive:function(t,e,i){i={isValid:i.parsedNumber<e};return i.isValid||(i.errorMessage=this.i18n.getText("cu|validation engine|The number must be less than xx",{maxValue:this.i18n.localizeNumber(e)})),i},validateMinNumberValueExclusive:function(t,e,i){i={isValid:i.parsedNumber>e};return i.isValid||(i.errorMessage=this.i18n.getText("cu|validation engine|The number must be greater than xx",{minValue:this.i18n.localizeNumber(e)})),i},validateMaxDecimals:function(t,e,i){var n,r={isValid:((n=i.parsedNumber)%1==0?0:n.toString().split(".")[1].length)<=e};return r.isValid||(r.errorMessage=this.i18n.getText("cu|validation engine|The number cannot have exceed xx decimal places.",{maxDecimals:e})),r}}},function(t,e,i){"use strict";i=i(32);e.dateValidationRules={i18n:i.i18n,validateIsDate:function(t,e,i){var n=this.i18n,r={isValid:n.isValidDate(t)};return r.isValid?i.parsedDate=n.deLocalizeDate(t):r.errorMessage=this.i18n.getText("cu|validation engine|Must be a date"),r},validateMaxDate:function(t,e,i){i={isValid:i.parsedDate.getTime()<=e.getTime()};return i.isValid||(i.errorMessage=this.i18n.getText("cu|validation engine|The date must be on or before xx",{maxDate:this.i18n.localizeDate(e)})),i},validateMinDate:function(t,e,i){i={isValid:i.parsedDate.getTime()>=e.getTime()};return i.isValid||(i.errorMessage=this.i18n.getText("cu|validation engine|The date must be on or after xx",{minDate:this.i18n.localizeDate(e)})),i}}},function(t,e,i){"use strict";var n=i(32),r=i(111);e.textValidationRules={i18n:n.i18n,validateMaxTextLength:function(t,e,i){t={isValid:t.length<=e};return t.isValid||(t.errorMessage=this.i18n.getText("cu|validation engine|The text must have xx or less characters.",{maxLength:e})),t},validateMinTextLength:function(t,e,i){t={isValid:t.length>=e};return t.isValid||(t.errorMessage=this.i18n.getText("cu|validation engine|The text must have xx or more characters.",{minLength:e})),t},validateExcludeChars:function(t,e,i){t={isValid:!e.pattern.test(t)};return t.isValid||(t.errorMessage=this.i18n.getText("cu|validation engine|Must not contain any characters in xx",{excludeChars:e.excludeChars})),t},validateRegex:function(t,e,i){t={isValid:e.pattern.test(t)};return t.isValid||(t.errorMessage=e.errorMessage),t},validateInverseRegex:function(t,e,i){t={isValid:!e.pattern.test(t)};return t.isValid||(t.errorMessage=e.errorMessage),t},validateEmail:function(t,e,i){t={isValid:r.EmailUtil.validateEmail(t)};return t.isValid||(t.errorMessage=this.i18n.getText("cu|validation engine|The email is not in the correct format.")),t}}},function(t,e,i){"use strict";i=i(32);e.timeValidationRules={i18n:i.i18n,validateIsTime:function(t,e,i){var n=this.i18n,r={isValid:n.isValidTime(t)};return r.isValid?i.parsedTime=n.deLocalizeTime(t):r.errorMessage=this.i18n.getText("HH:mm"===n.locale.DATETIME_FORMATS.shortTime?"cu|validation engine|Must be a time (HH:MM)":"cu|validation engine|Must be a time (HH:MM AM or PM)"),r},validateMaxTime:function(t,e,i){i={isValid:60*i.parsedTime.getHours()+i.parsedTime.getMinutes()<=60*e.getHours()+e.getMinutes()};return i.isValid||(i.errorMessage=this.i18n.getText("cu|validation engine|The time must be on or before xx",{maxTime:this.i18n.localizeTime(e)})),i},validateMinTime:function(t,e,i){i={isValid:60*i.parsedTime.getHours()+i.parsedTime.getMinutes()>=60*e.getHours()+e.getMinutes()};return i.isValid||(i.errorMessage=this.i18n.getText("cu|validation engine|The time must be on or after xx",{minTime:this.i18n.localizeTime(e)})),i}}},function(t,e,i){"use strict";var y=i(115),m=i(116),v=i(114),b=i(69);(e.ReportingTermSort||(e.ReportingTermSort={})).sortReportingTerms=function(t,e,i){void 0===e&&(e=!1),void 0===i&&(i=v.TreeSort.TreeSortType.PRE_ORDER);var n=[];t.forEach(function(t){t=new y.ReportingTerm(t);n.push(new m.ReportingTermWrapper(t))}),e||(n=function(t){for(var e=new Map,i=0,n=t;i<n.length;i++){var r=n[i],o=e.get(r.getReportingTermName());null!=o?(b.DateUtil.isAfter(o.getStartDate(),r.getEndDate())&&o.setStartDate(r.getStartDate()),b.DateUtil.isBefore(o.getEndDate(),r.getEndDate())&&o.setEndDate(r.getEndDate())):e.set(r.getReportingTermName(),new m.ReportingTermWrapper(r))}return Array.from(e.values())}(n)),v.TreeSort.sortTreesPostOrder(n);for(var r=0;r<n.length;r++)for(var o=n[r],s=r+1;s<n.length;s++){var a=n[s];if(b.DateUtil.dateRangeIsContained(o.getStartDate(),o.getEndDate(),a.getStartDate(),a.getEndDate())){o.setParent(a);break}}for(var u=[],l=0,c=n;l<c.length;l++){var d=c[l];d.isRoot()&&u.push(new m.ReportingTermWrapper(d,d.getChildren()))}for(var p=[],h=0,f=v.TreeSort.getSortedTreesUsing(u,i);h<f.length;h++){var g=f[h];p.push({uid:g.getUid(),schedulingTermUid:g.getSchedulingTermUid(),reportingTermName:g.getReportingTermName(),startDate:g.getStartDate(),endDate:g.getEndDate()})}return p}},function(t,e,i){"use strict";var n,r;(e.XssOptions||(e.XssOptions={})).options=(n=["name","face","href","cellspacing","bgcolor","size","cite","dir","class","title","src","border","summary","color","height","rowspan","cellpadding","align","datetime","alt","colspan","style","target","width"],r={},["strike","del","dd","h3","small","big","sub","tt","fieldset","a","ul","h4","cite","dfn","thead","legend","h5","kbd","code","b","ins","img","acronym","h6","sup","pre","iframe","tbody","blockquote","td","o:p","dt","br","output","p","strong","caption","div","samp","table","li","ol","var","s","font","tr","em","th","h1","address","i","abbr","h2","span","hr","u"].forEach(function(t){r[t]=n}),{whiteList:r})},function(t,e,i){"use strict";var n=(r.prototype.hasAccess=function(t){return!0===this.featureAccess[t]},r);function r(t){this.featureAccess=t}e.FeatureAccessChecker=n},function(t,e,i){"use strict";var f=i(70),p=f.NumberUtil.roundToPrecision,g=i(112),y=6;function l(t,e,i,n,r,o,s,a){void 0===a&&(a=!0);function u(t,e){return p((t=void 0===t?0:t)/e*100,2,y,a)}switch(r){case"POINTS":s.points=i===o?t.points:p(t.points/i*o,2,y,a),s.percent=u(t.points,i);break;case"PERCENT":s.percent=u(t.points,i);break;case"GRADESCALE":s.percent=u(t.points,i),b(g.GradeScaleUtil.convertScoreOfTypeToGradeScaleItem(String(t.points),n,"POINTS",!0,"GRADESCALE",i),s,n)}}function c(t,e,i,n,r,o,s){switch(void 0===s&&(s=!0),n){case"POINTS":o.points=p(t.percent/100*r,2,y,s),o.percent=t.percent;break;case"PERCENT":o.percent=t.percent;break;case"GRADESCALE":o.percent=t.percent,b(g.GradeScaleUtil.convertScoreOfTypeToGradeScaleItem(String(t.percent),i,"PERCENT",!0,"GRADESCALE"),o,i)}}function d(t,e,i,n,r,o,s,a){switch(void 0===a&&(a=!0),r){case"POINTS":var u=g.GradeScaleUtil.convertGradeScaleItemToScoreOfType(S(t,e),e,"POINTS",!0,"GRADESCALE",o),u=null!=u?Number(u):0;s.points=u,s.percent=p(u/i*100,2,y,a);break;case"PERCENT":u=g.GradeScaleUtil.convertGradeScaleItemToScoreOfType(S(t,e),e,"PERCENT",!0,"GRADESCALE",o);s.percent=null!=u?Number(u):void 0;break;case"GRADESCALE":h(t,e,s,n)}}function h(t,e,i,n){if(e.uid===n.uid)return i.letterGrade=t.letterGrade,void(i.numericGrade=t.numericGrade);var r;"NUMERIC"===e.gradeScaleType?"NUMERIC"===n.gradeScaleType?m(t,e,i,n):(r=S(t,e),r=g.GradeScaleUtil.convertNumericGradeScaleItemToPercent(r,e,!1),b(g.GradeScaleUtil.convertPercentToGradeScaleItem(r,n),i,n),i.percent=r):(e=g.GradeScaleUtil.convertNumericGradeScaleItemToPercent(t.letterGrade,e,!1),i.percent=e,b(g.GradeScaleUtil.convertPercentToGradeScaleItem(e,n),i,n))}function m(t,e,i,n){var r=S(t,e);if(e.numericMin===n.numericMin&&e.numericMax===n.numericMax){if(null!=g.GradeScaleUtil.getGradeScaleItem(r,n))b(r,i,n);else{t=g.GradeScaleUtil.convertNumericGradeScaleItemToNumericValue(r,e);if(null==t)return delete i.letterGrade,void delete i.numericGrade;"PERCENT"===n.conversionToNumeric||s(n)?b(String(t),i,n):b(String(g.GradeScaleUtil.convertNumericValueTo("GRADESCALE",t,n,"GRADESCALE",!0)),i,n)}null==i.percent&&(o=g.GradeScaleUtil.convertNumericGradeScaleItemToPercent(r,e,!1),i.percent=o)}else{var o=g.GradeScaleUtil.convertNumericGradeScaleItemToPercent(r,e,!1);null==i.percent&&(i.percent=o),b(g.GradeScaleUtil.convertPercentToNumericGradeScaleItem(o,n,!0),i,n)}}function v(t,e){e.actualScoreEntered=t.actualScoreEntered,e.letterGrade=t.letterGrade,e.numericGrade=t.numericGrade,e.percent=t.percent,e.points=t.points}function b(t,e,i){return null==e?{}:(null==i||(null==t?(delete e.numericGrade,delete e.letterGrade):"ALPHA"===i.gradeScaleType?(e.letterGrade=String(t),delete e.numericGrade):"NUMERIC"===i.gradeScaleType&&(null!=i.numericExtras&&"NONE"!==i.numericExtras&&(e.letterGrade=String(t)),isNaN(t)?(null!=t&&(t=String(t)),null!=(i=g.GradeScaleUtil.getNumericGradeScaleItem(t,i))?e.numericGrade=i.numericValue:delete e.numericGrade):e.numericGrade=Number(t))),e)}function S(t,e){if(null!=e&&null!=t)return"ALPHA"===e.gradeScaleType||null!=e.numericExtras&&"NONE"!==e.numericExtras?t.letterGrade:null!=t.numericGrade?String(t.numericGrade):void 0}function T(t,e,i,n,r,o){for(var s=0,a=0,u=0,l=t;u<l.length;u++){var c=l[u];switch(c.fromScoreType){case"POINTS":s+=c.fromScore.points/c.fromMaxPoints,a+=1;break;case"PERCENT":s+=c.fromScore.percent/100,a+=1;break;case"GRADESCALE":var d,p=g.GradeScaleUtil.convertGradeScaleItemToScoreOfType(S(c.fromScore,c.fromGradeScale),c.fromGradeScale,"PERCENT",!1,e);null!=p&&(null==(d=c.fromWeight)&&(d=1),s+=Number(p)/100*d,a+=d)}}var h=s/a;switch(n){case"POINTS":r.points=f.NumberUtil.round(h*o,2),b(g.GradeScaleUtil.convertScoreOfTypeToGradeScaleItem(String(r.points),i,"POINTS",!0,e,o),r,i);break;case"PERCENT":r.percent=f.NumberUtil.round(100*h,2);case"GRADESCALE":b(g.GradeScaleUtil.convertScoreOfTypeToGradeScaleItem(String(100*h),i,"PERCENT",!0,e,o),r,i)}"PERCENT"!==n&&(r.percent=f.NumberUtil.round(100*h,y))}function C(t,e,i,n,r,o){var s=t.reduce(function(t,e){return{numerator:e.fromScore.points?e.fromScore.points+t.numerator:t.numerator,denominator:e.fromMaxPoints+t.denominator}},{numerator:0,denominator:0}),a=s.numerator/s.denominator;switch(isNaN(a)&&(a=0),n){case"POINTS":s.denominator===o?r.points=f.NumberUtil.round(s.numerator,2):r.points=f.NumberUtil.round(a*o,2),b(g.GradeScaleUtil.convertScoreOfTypeToGradeScaleItem(String(r.points),i,"POINTS",!0,e,o),r,i);break;case"PERCENT":r.percent=f.NumberUtil.round(100*a,2);case"GRADESCALE":b(g.GradeScaleUtil.convertScoreOfTypeToGradeScaleItem(String(100*a),i,"PERCENT",!0,e,0),r,i)}"PERCENT"!==n&&(r.percent=f.NumberUtil.round(100*a,y))}function _(t,e,i,n,r,o){var s=t.reduce(function(t,e){if(e.fromScore.numericGrade){var i=null!=e.fromWeight?e.fromWeight:1;return{numerator:e.fromScore.numericGrade*i+t.numerator,denominator:t.denominator+i}}return{numerator:t.numerator,denominator:t.denominator}},{numerator:0,denominator:0}),a=s.numerator/s.denominator;if("NUMERIC"===i.gradeScaleType&&i.numericMin===t[0].fromGradeScale.numericMin&&i.numericMax===t[0].fromGradeScale.numericMax){switch(n){case"POINTS":r.points=g.GradeScaleUtil.convertNumericValueTo("POINTS",a,i,e,!0,o);break;case"PERCENT":r.percent=g.GradeScaleUtil.convertNumericValueTo("PERCENT",a,i,e,!0)}b(g.GradeScaleUtil.convertNumericValueTo("GRADESCALE",a,i,e,!0),r,i)}else{for(var u=void 0,l=0,c=t;l<c.length;l++){var d=c[l];(null==u||u.fromWeight<d.fromWeight)&&(u=d)}var p=g.GradeScaleUtil.convertNumericValueTo("PERCENT",a,u.fromGradeScale,e,!0,o);switch(n){case"POINTS":r.points=Number(g.GradeScaleUtil.convertNumericValueTo("POINTS",a,u.fromGradeScale,e,!0,o)),b(g.GradeScaleUtil.convertScoreOfTypeToGradeScaleItem(String(r.points),i,"POINTS",!0,e,o),r,i);break;case"PERCENT":r.percent=f.NumberUtil.round(p,2),b(g.GradeScaleUtil.convertScoreOfTypeToGradeScaleItem(String(p),i,"PERCENT",!0),r,i);break;case"GRADESCALE":b(g.GradeScaleUtil.convertScoreOfTypeToGradeScaleItem(String(p),i,"PERCENT",!0),r,i)}"PERCENT"!==n&&(r.percent=f.NumberUtil.round(p,y))}}function s(t){return(null==t||null!=t.numericDecimals)&&0<t.numericDecimals}(e=e.ScoreUtil||(e.ScoreUtil={})).pushCalculation=function(t,e,i,n,r,o,s,a){switch(null==a&&(a={}),r.uid===e.uid&&o===i&&s===n&&v(t,a),i){case"POINTS":l(t,0,n,r,o,s,a);break;case"PERCENT":c(t,0,r,o,s,a);break;case"GRADESCALE":d(t,e,n,r,o,s,a);break;default:throw"do not call this function on something without a scoretype"}function u(t,e,i){var n;null!=t&&null==t.percent&&(n=S(t,i),null!=(i=g.GradeScaleUtil.convertGradeScaleItemToScoreOfType(n,i,"PERCENT",!1,"GRADESCALE"))&&(t.percent=Number(i)))}if(e.gradeScaleType===r.gradeScaleType)if("ALPHA"===e.gradeScaleType){if(e.uid===r.uid&&null!=g.GradeScaleUtil.getGradeScaleItem(t.letterGrade,e))return a.letterGrade=t.letterGrade,u(a,0,r),delete a.numericGrade,a}else if("NUMERIC"===e.gradeScaleType&&e.numericMax===r.numericMax&&e.numericMin===r.numericMin)return m(t,e,a,r),u(a,0,r),a;switch(o){case"POINTS":b(g.GradeScaleUtil.convertScoreOfTypeToGradeScaleItem(String(a.points),r,"POINTS",!1,"GRADESCALE",s),a,r);break;case"PERCENT":b(g.GradeScaleUtil.convertScoreOfTypeToGradeScaleItem(String(a.percent),r,"PERCENT",!1,"GRADESCALE",0),a,r);break;case"GRADESCALE":u(a,0,r)}return null!=a.points&&(a.points=f.NumberUtil.round(a.points,2)),null!=a.percent&&(a.percent=f.NumberUtil.round(a.percent,2)),i=r.numericDecimals||2,null==a.letterGrade||isNaN(a.letterGrade)||(a.letterGrade=String(f.NumberUtil.round(Number(a.letterGrade),i))),null!=a.numericGrade&&(a.numericGrade=f.NumberUtil.round(a.numericGrade,i)),a},e.pushPoints=l,e.pushPercent=c,e.pushGradeScale=d,e.gradeScaleToGradeScale=h,e.numericGradeScaleToNumericGradeScale=m,e.copyFullScore=v,e.setGrade=b,e.getGrade=S,e.rollUpCalculation=function(t,e,i,n,r,o){null==o&&(o={});for(var s,a={},u=0,l=t;u<l.length;u++){var c=l[u];!(a[c.fromScoreType]=!0)!==s&&("GRADESCALE"===c.fromScoreType&&"NUMERIC"===c.fromGradeScale.gradeScaleType?null==s?s=(null!=c.fromGradeScale.numericMax||null!=c.fromGradeScale.numericMin)&&{max:c.fromGradeScale.numericMax,min:c.fromGradeScale.numericMin}:c.fromGradeScale.numericMax===s.max&&c.fromGradeScale.numericMin===s.min||(s=!1):s=!1)}var d,p=Object.keys(a);if(1===p.length)switch(p[0]){case"POINTS":d="POINTS";break;case"PERCENT":d="MIX";break;case"GRADESCALE":d=s?"ALL_SIMILAR_NUMERIC":"MIX"}else d="MIX";switch(d){case"POINTS":C(t,e,i,n,o,r);break;case"MIX":T(t,e,i,n,o,r);break;case"ALL_SIMILAR_NUMERIC":_(t,e,i,n,o,r)}return o},e.rollUpMix=T,e.rollUpPoints=C,e.rollUpAllNumeric=_,e.generateScoreRi=function(t,e,i,n,r,o,s){var a=null!=t&&0<t.trim().length,u=null!=e&&0<e.trim().length,l={actualScoreEntered:a?t:""};if(a||u){b(u?e.trim():void 0,l,n);var c,d=g.GradeScaleUtil.getSpecialGradeScaleItem(t,n,i);switch(l.actualScoreKind=null!=d?"SCORE_CODE":"REAL_SCORE",i){case"POINTS":null!=d?null!=(c=g.GradeScaleUtil.convertSpecialGradeScaleItemTo(d,n,i,!1,r,s))&&(l.points=Number(c)):l.points=Number(t),l.percent=o;break;case"PERCENT":case"GRADESCALE":null!=(l.percent=o)&&null!=s&&(l.points=p(o/100*s,2,y,!0))}}return l},e.hasNumericDecimals=s,e.isBlank=function(t){return null==t.points&&null==t.percent&&(null==t.letterGrade||""===t.letterGrade)&&null==t.numericGrade}},function(t,e,i){"use strict";var a,u=i(32);function n(t,e){return t.firstName||e.getText(this.fallbackMessageKey)}function r(t,e){var i;if("M"===t.gender)i=this.maleMessageKey;else if("F"===t.gender)i=this.femaleMessageKey;else if(i=this.fallbackMessageKey,null!=t.alternatePronouns){t=t.alternatePronouns[i];if(null!=t)return t}return e.getText(i)}function o(t,e,i){if(void 0===i&&(i=u.i18n),null!=t&&null!=e)for(var n=0,r=a;n<r.length;n++){var o,s=r[n];"<preferred name>"!==s.key&&("F"===e.gender&&"<him/her>"===s.key||null!=(o=function(t){if(t){t=t.replace(/[\-\[\]\/{}()*+?.\\^$|]/g,"\\$&");return RegExp("(?!\\B)"+t+"(?=$|\\.|,|!|\\?|;|:|\\s)","g")}}(s.getString(e,i)))&&(t=t.replace(o,s.key)))}return t}function s(t,e){return t=t&&e(t)}e=e.SmartTextUtil||(e.SmartTextUtil={}),a=[{key:"<last name, first name>",regEx:/<last name, first name>/g,getString:function(t,e){return t.firstName?t.lastName+", "+t.firstName:t.lastName}},{key:"<first name last name>",regEx:/<first name last name>/g,getString:function(t,e){return t.firstName?t.firstName+" "+t.lastName:t.lastName}},{key:"<preferred name>",regEx:/<preferred name>/g,fallbackMessageKey:"student",getString:n},{key:"<first name>",regEx:/<first name>/g,fallbackMessageKey:"student",getString:n},{key:"<last name>",regEx:/<last name>/g,getString:function(t,e){return t.lastName}},{key:"<he/she>",regEx:/<he\/she>/g,maleMessageKey:"he",femaleMessageKey:"she",fallbackMessageKey:"he/she",getString:r},{key:"<He/She>",regEx:/<He\/She>/g,maleMessageKey:"He",femaleMessageKey:"She",fallbackMessageKey:"He/She",getString:r},{key:"<his/her>",regEx:/<his\/her>/g,maleMessageKey:"his",femaleMessageKey:"her",fallbackMessageKey:"his/her",getString:r},{key:"<His/Her>",regEx:/<His\/Her>/g,maleMessageKey:"His",femaleMessageKey:"Her",fallbackMessageKey:"His/Her",getString:r},{key:"<him/her>",regEx:/<him\/her>/g,maleMessageKey:"him",femaleMessageKey:"her",fallbackMessageKey:"him/her",getString:r},{key:"<son/daughter>",regEx:/<son\/daughter>/g,maleMessageKey:"son",femaleMessageKey:"daughter",fallbackMessageKey:"son/daughter",getString:r}],e.getSmartTextList=function(){return a.filter(function(t){return"<preferred name>"!==t.key}).map(function(t){return t.key})},e.resolveText=function(t,e,i){if(void 0===i&&(i=u.i18n),e)for(var n=0,r=a;n<r.length;n++){var o=r[n],s=o.getString(t,i);e=e.replace(o.regEx,s)}return e},e.generateSmartText=function(t,e,i,n){return void 0===i&&(i=u.i18n),void 0===n&&(n=s),t=t?n(t,function(t){return t=t&&o(t,e,i)}):t}},function(t,e,i){"use strict";e.HTTP_HEADER_ACCEPT_LANGUAGE="accept-language",e.HTTP_HEADER_SELECTED_LANGUAGE="ps-language"},function(t,e,i){"use strict";var n=i(110);e.SimpleTime=n.SimpleTime;n=i(115);e.ReportingTerm=n.ReportingTerm;n=i(116);e.ReportingTermWrapper=n.ReportingTermWrapper;i=i(171);e.ChatThreadTypeEnum=i.ChatThreadTypeEnum},function(t,e,i){"use strict";var n;(n=e.ChatThreadTypeEnum||(e.ChatThreadTypeEnum={}))[n.DEFAULT=1]="DEFAULT",n[n.STUDENT_TEACHER=2]="STUDENT_TEACHER",n[n.STUDENT_PARENT_TEACHER=3]="STUDENT_PARENT_TEACHER",n[n.TEACHER_PARENT=4]="TEACHER_PARENT";e.ChatThreadTypeEnum},function(t,e,i){"use strict";i=i(113);e.ValidationRulesEngine=i.ValidationRulesEngine},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(72),r=i(15),o=i(15),s=i(74),a=i(9),u=i(174),l=i(117),i=(c.prototype.setCurrentNotificationType=function(t){this.currentNotificationType=t,this.fireNotificationStream(!1)},c.prototype.setupNotificationListener=function(){var e=this;this.notificationService.initializeNotificationStream().subscribe(function(){e.notificationService.notificationStream.subscribe(function(t){e.addNotification(t)})})},c.prototype.addNotification=function(e,t){var i;if(void 0===t&&(t=!1),null!=(i=this.notificationItemGroups.find(function(t){return t.aggregationKey===e.getAggregationKey()})))i.addNotification(e);else{switch(e.type){case"COMMUNICATION_NOTIFICATION":i=new u.CommunicationNotificationItemGroup(e.type,e.getAggregationKey(),e.getUserType(),e.currentUserUid);break;case"ASSIGNMENT_NOTIFICATION":i=new l.AssignmentNotificationItemGroup(e.type,e.getAggregationKey(),e.isMarkedReadOnClick,e.subtype);break;default:i=new n.NotificationItemGroup(e.type,e.getAggregationKey(),e.isMarkedReadOnClick)}i.addNotification(e),this.notificationGroupMap[i.id]=i,this.lookUpKeyToNotificationGroupMap[i.lookUpKey]=i,this.notificationItemGroups.unshift(i)}t||this.fireNotificationStream()},c.prototype.fireNotificationStream=function(t){var e=this;void 0===t&&(t=!0);var i=this.getNotificationTypeUnreadCountMap(),n=this.notificationItemGroups.reduce(function(t,e){return t+e.unreadNotificationCount},0);!t||null!=i[this.currentNotificationType]&&0!==i[this.currentNotificationType]||(r=this.notificationService.notificationServices.find(function(t){return 0<i[t.type]}),this.currentNotificationType=null!=r?r.type:this.currentNotificationType);var r=this.notificationItemGroups.filter(function(t){return t.type===e.currentNotificationType});this.notificationItemGroupStream.next({notificationGroups:r.slice(0,this.notificationsGroupsToDisplay),totalUnreadNotificationCount:n,currentTabUnreadCount:i[this.currentNotificationType]||0,notificationTypeUnreadCountMap:this.getNotificationTypeUnreadCountMap()})},c.prototype.markGroupAsRead=function(t){var e=this,i=this.notificationGroupMap[t.id];if(null==i)throw"bad notification mapping (read)";this.notificationService.markAsRead(i.getUnreadNotifications()).subscribe(function(){i.markAsRead(),e.fireNotificationStream()})},c.prototype.markAllAsSeen=function(){for(var t=this,e=[],i=0,n=this.notificationItemGroups||[];i<n.length;i++){var r=n[i];r.isSeen||r.type!==this.currentNotificationType||(r.markAsSeen(),e.push.apply(e,r.notifications))}this.notificationService.markAsSeen(e).subscribe(function(){t.fireNotificationStream()})},c.prototype.markAllAsRead=function(){for(var t=this,e=[],i=0,n=this.notificationItemGroups||[];i<n.length;i++){var r=n[i];r.isRead||r.type!==this.currentNotificationType||(e.push.apply(e,r.getUnreadNotifications()),r.markAsRead())}this.notificationService.markAsRead(e).subscribe(function(){t.fireNotificationStream()})},c.prototype.getNotificationTypeUnreadCountMap=function(){var t={};if(null!=this.notificationItemGroups)for(var e=a.pdsUtils.groupBy(this.notificationItemGroups,function(t){return t.type}),i=0,n=Object.keys(e);i<n.length;i++){var r=n[i];t[r]=e[r].reduce(function(t,e){return t+e.unreadNotificationCount},0)}return t},c.prototype.markGroupReadByLookUpKey=function(t,e){void 0===e&&(e=!1);t=this.lookUpKeyToNotificationGroupMap[t];null!=t&&e?this.markGroupAsRead(t):null!=t&&(t.markAsRead(),this.fireNotificationStream())},c.prototype.markReadByLookUpKeyAndFunction=function(t,e,i){var n=this;void 0===i&&(i=!1);t=this.lookUpKeyToNotificationGroupMap[t];null!=t&&(t=t.markReadWhere(e),e=r.of(!0),(e=i?this.notificationService.markAsRead(t):e).subscribe(function(){return n.fireNotificationStream()}))},c);function c(t,e){void 0===e&&(e=100);var r=this;this.notificationsGroupsToDisplay=e,this.notificationItemGroupStream=new o.BehaviorSubject({notificationGroups:[],totalUnreadNotificationCount:0,currentTabUnreadCount:0,notificationTypeUnreadCountMap:{}}),this.notificationGroupMap={},this.lookUpKeyToNotificationGroupMap={},this.notificationService=t,this.currentNotificationType=s.ActivityFeedNotificationItem.NOTIFICATION_TYPE,this.notificationService.getExistingNotifications().subscribe(function(t){r.notificationItemGroups=[];for(var e=0,i=t;e<i.length;e++){var n=i[e];r.addNotification(n,!0)}r.fireNotificationStream(),r.setupNotificationListener()})}e.NotificationIndicatorController=i},function(t,e,i){"use strict";var n,r=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var s,o=i(37),a=i(175),u=i(6),l=i(10).pdsLogger.requiresLogger("notification-service"),r=(s=a.MultiCountNotificationItemGroup,r(c,s),Object.defineProperty(c.prototype,"imageURL",{get:function(){if(!Array.isArray(this.notifications)||0===this.notifications.length)throw"tried to get imageURL for group with no notifications";var t=this.notifications[0].getTopicOrOwnerUid();return"TEACHER"===this.userType?"/images/student-"+t:"/images/teacher-"+t},enumerable:!0,configurable:!0}),Object.defineProperty(c.prototype,"countItems",{get:function(){var t=this.getUnreadNotifications();if("TEACHER"!==this.userType)return[{iconName:null,count:t.length,labelText:u.pdsI18n.getText("pds|chat notifications|xx Unread Notifications From Teacher",{count:t.length})}];var e=t.filter(function(t){return t.getThreadType()===o.ChatThreadTypeEnum.STUDENT_TEACHER}).length,t=t.filter(function(t){return t.getThreadType()===o.ChatThreadTypeEnum.TEACHER_PARENT}).length;return[{iconName:"notifications-student",count:e,labelText:u.pdsI18n.getText("pds|chat notifications|xx Unread Notifications From Student",{count:e})},{iconName:"notifications-parent",count:t,labelText:u.pdsI18n.getText("pds|chat notifications|xx Unread Notifications From Parent",{count:t})}]},enumerable:!0,configurable:!0}),c.prototype.addNotification=function(t){s.prototype.addNotification.call(this,t),l("Adding communication notification: "+JSON.stringify(t));for(var e=0,i=t.getSections();e<i.length;e++){var n=i[e];this.sectionMap.set(n.uid,n)}this.sectionNames=Array.from(this.sectionMap.values()).map(function(t){return t.courseName})},Object.defineProperty(c.prototype,"messages",{get:function(){return this.getUnreadNotifications().map(function(t){return t.message})},enumerable:!0,configurable:!0}),Object.defineProperty(c.prototype,"sectionUids",{get:function(){return Array.from(this.sectionMap.keys())},enumerable:!0,configurable:!0}),c.prototype.getThreadContext=function(){var t=this.getUnreadNotifications(),e=t.some(function(t){return t.getThreadType()===o.ChatThreadTypeEnum.STUDENT_TEACHER})?o.ChatThreadTypeEnum.STUDENT_TEACHER:o.ChatThreadTypeEnum.TEACHER_PARENT,t=t.find(function(t){return t.getThreadType()===e});if(null===t)throw"thread type not available when it should be";return{threadUid:t.threadUid,threadType:e,topicUid:t.getTopicUid()}},Object.defineProperty(c.prototype,"lookUpKey",{get:function(){if(0===this.notifications.length)throw"can not get look up key of empty group this should not have happened.";return this.notifications[0].lookUpKey},enumerable:!0,configurable:!0}),c);function c(t,e,i,n,r,o){void 0===r&&(r=!0),void 0===o&&(o=!0);o=s.call(this,t,e,!1,r,o)||this;return o.userType=i,o.currentUserUid=n,o.notifications=[],o.sectionNames=[],o.sectionMap=new Map,o}e.CommunicationNotificationItemGroup=r},function(t,e,i){"use strict";var n,r=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var o,i=i(72),r=(o=i.NotificationItemGroup,r(s,o),s);function s(){return null!==o&&o.apply(this,arguments)||this}e.MultiCountNotificationItemGroup=r},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(98),r=new Map;e.pdsAccessibility={announceViaScreenReader:function(t,e){void 0===e&&(e="default"),""!==t.trim()&&null!=t&&(t=n.sanitizeHtmlString(t),null!=(e=r.get(e))&&e.announceText(t))},registerAnnounceTextComponent:function(t,e){e?r.set(e,t):r.set("default",t)},unregisterAnnounceTextComponent:function(t){void 0===t&&(t="default"),null!=r.get(t)&&r.delete(t)},removeAnnounceTextComponentFromDefault:function(){null!=r.get("default")&&r.delete("default")},getListOfRegisteredComponent:function(){return r}}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=(r.prototype.enable=function(){var e=this;if(!this.enabled){var t=this.path.split(".");if(t.length<=1||0===t[1].length)throw new Error("Path needs to be at least one level deep: "+this.path);this.host=this.widget;for(var i=0;i<t.length-1&&null!=this.host;i++){var n=t[i];this.host=this.host[n]}if(null==this.host)throw new Error("Path was not valid: "+this.path);if(this.property=t[t.length-1],this.value=this.host[this.property],this.propertyDescriptor=Object.getOwnPropertyDescriptor(this.host,this.property),this.propertyDescriptor&&(this.propertyDescriptor.get||this.propertyDescriptor.set))throw new Error("Cannot apply a property observable to a property with a getter or setter: "+this.path);Object.defineProperty(this.host,this.property,{enumerable:!0,configurable:!0,get:function(){return e.value},set:function(t){e.value!==t&&(e.unwrapArray(e.value),e.value=t,e.wrapArray(t),e.widget.notifyPath(e.path),null!=e.callback&&e.callback())}}),this.wrapArray(this.value),this.enabled=!0}},r.prototype.disable=function(){this.enabled&&(Object.defineProperty(this.host,this.property,this.propertyDescriptor||{value:this.value,writable:!0}),null!=this.propertyDescriptor&&this.propertyDescriptor.writable&&(this.host[this.property]=this.value),this.unwrapArray(this.value),this.enabled=!1)},r.prototype.unwrapArray=function(t){null!=this.originalArray&&null!=t&&Array.isArray(t)&&(t.push=this.originalArray.push,t.pop=this.originalArray.pop,t.unshift=this.originalArray.unshift,t.shift=this.originalArray.shift,t.splice=this.originalArray.splice,delete this.originalArray)},r.prototype.wrapArray=function(t){var o=this;null!=t&&Array.isArray(t)&&(this.originalArray={push:t.push,pop:t.pop,unshift:t.unshift,shift:t.shift,splice:t.splice},t.push=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var i=o.value.length,n=(n=o.originalArray.push).call.apply(n,[o.value].concat(t));return o.widget.notifySplices(o.path,[{index:i,addedCount:t.length,object:o.value,removed:[],type:"splice"}]),null!=o.callback&&o.callback(),n},t.pop=function(){var t=o.originalArray.pop.call(o.value);return o.widget.notifySplices(o.path,[{index:o.value.length,addedCount:0,object:o.value,removed:[t],type:"splice"}]),null!=o.callback&&o.callback(),t},t.unshift=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var i=(i=o.originalArray.unshift).call.apply(i,[o.value].concat(t));return o.widget.notifySplices(o.path,[{index:0,addedCount:t.length,object:o.value,removed:[],type:"splice"}]),null!=o.callback&&o.callback(),i},t.shift=function(){var t=o.originalArray.shift.call(o.value);return o.widget.notifySplices(o.path,[{index:0,addedCount:0,object:o.value,removed:[t],type:"splice"}]),null!=o.callback&&o.callback(),t},t.splice=function(t,e){for(var i,n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];e=(i=o.originalArray.splice).call.apply(i,[o.value,t,e].concat(n));return o.widget.notifySplices(o.path,[{index:t,addedCount:n.length,object:o.value,removed:e,type:"splice"}]),null!=o.callback&&o.callback(),e})},r);function r(t,e,i){this.enabled=!1,this.widget=t,this.path=e,this.callback=i}e.PropertyObserver=n},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(9),r=i(15),o=i(179),s=i(180),a=i(181),u=i(182),l=i(183),c=i(184),d=i(185),p=i(186),h=i(187),f=i(188),g=i(189),y=i(190),m=i(191),v=i(192),b=i(193),S=i(194),T=i(197),C=i(198),_=i(199),w=i(200),x=i(201),P=i(203),O=i(204),N=i(205),I=i(206),E=i(207),A=i(208),D=i(121),M=i(209),k=i(210),F=i(211),R=i(212),U=i(213),j=i(214),L=i(215),V=i(216),W=i(218),G=i(219),B=i(220),H=i(221),q=i(222),z=i(223),K=i(224),Y=i(225),J=i(228),Q=i(124),X=i(236),$=i(237),Z=i(238),tt=i(239),et=i(245),it=i(246),nt=i(247),rt=i(248),ot=i(249),st=i(250),at=i(251),ut=i(252),lt=i(253),ct=i(254),dt=i(255),pt=i(256),ht=i(257),ft=i(258),gt=i(259),yt=i(260),mt=i(261),vt=i(262),bt=i(263),i=i(264);function St(t){t=n.pdsUtils.createFlattenedClassInstance(t);return delete t.querySelector,delete t.querySelectorAll,delete t.dispatchEvent,delete t.hasAttribute,delete t.setAttribute,delete t.appendChild,t}var Tt={pdsCheckboxWidgetDefinition:(e.createFlattenedPolymerDefinition=St)(z.PdsCheckboxWidget),pdsTextWidgetDefinition:St(p.PdsTextWidget),pdsTextareaWidgetDefinition:St(q.PdsTextareaWidget),pdsFilePickerWidgetDefinition:St(h.PdsFilePickerWidget),pdsSelectWidgetDefinition:St(d.PdsSelectWidget),pdsNumberWidgetDefinition:St(f.PdsNumberWidget),pdsDateWidgetDefinition:St(o.PdsDateWidget),pdsTimeWidgetDefinition:St(M.PdsTimeWidget),pdsDateWidgetDialogDefinition:St(s.PdsDateWidgetDialog),pdsDynamicSelectDefinition:St(c.PdsDynamicSelect),pdsNumberedSliderDefinition:St(g.PdsNumberedSlider),pdsIconDefinition:St(b.PdsIcon),pdsAppNav:St(a.PdsAppNav),pdsHelpMenuDefinition:St(S.PdsHelpMenu),pdsGlobalCreateMenuDefinition:St(T.PdsGlobalCreateMenu),pdsClassBlock:St(u.PdsClassBlock),pdsClassPicker:St(l.PdsClassPicker),pdsReportingTermSelector:St(m.PdsReportingTermSelector),pdsSearch:St(v.PdsSearch),pdsRadioButtonWidgetDefinition:St(w.PdsRadioButtonWidget),pdsRichTextEditor:St(x.PdsRichTextEditor),pdsProgressBarWidgetDefinition:St(y.PdsProgressBarWidget),pdsImgWidgetDefinition:St(P.PdsImg),pdsLoaderDefinition:St(C.PdsLoader),pdsCircularProgressDefinition:St(_.PdsCircularProgress),pdsNotificationIndicator:St(I.PdsNotificationIndicator),pdsOverlayDropdownDefinition:St(O.PdsOverlayDropdown),pdsAnnounceDefinition:St(N.PdsAnnounce),pdsRichTextDisplayDefinition:St(A.PdsRichTextDisplay),pdsActivityFeedNotification:St(E.PdsActivityFeedNotification),pdsDialogDefinition:St(D.PdsDialog),pdsCommunicationNotification:St(k.PdsCommunicationNotification),pdsAssignmentTemplateNotification:St(F.PdsAssignmentTemplateNotification),pdsAssignmentSubmissionNotification:St(R.PdsAssignmentSubmissionNotification),pdsAssignmentReturnNotification:St(U.PdsAssignmentReturnNotification),pdsChatQuickMessage:St(j.PdsChatQuickMessage),pdsNotificationBadge:St(L.PdsNotificationBadge),pdsUserAvatar:St(V.PdsUserAvatar),pdsTooltip:St(W.PdsTooltip),pdsErrorPage:St(G.PdsErrorPage),pdsCopyrightClause:St(B.PdsCopyrightClause),pdsAppSwitcher:St(H.PdsAppSwitcher),pdsUserMenuDefinition:St(K.PdsUserMenu),pdsImmersiveReader:St(Y.PdsImmersiveReader),pdsLogout:St(J.PdsLogout),pdsParsedHtmlContent:St(Q.PdsParsedHtmlContent),pdsElementRenderer:St($.PdsElementRenderer),pdsBanner:St(X.PdsBanner),pdsPopOver:St(ct.PdsPopOver),pdsDetailSelectWidgetDefinition:St(dt.PdsDetailSelectWidget),pdsDateFilter:St(Z.PdsGwDateFilter),pdsGridWidgetFilter:St(tt.PdsGridWidgetFilter),pdsGridWidgetPaginationControl:St(et.PdsGridWidgetPaginationControl),pdsMultiFieldFilter:St(it.PdsGwMultiFieldFilter),pdsMultiSelectFilter:St(nt.PdsGwMultiSelectFilter),pdsNumberFilter:St(rt.PdsGwNumberFilter),pdsPillSelectFilter:St(ot.PdsGwPillSelectFilter),pdsSelectFilter:St(st.PdsGwSelectFilter),pdsGridWidgetSortFields:St(at.PdsGridWidgetSortFields),pdsTextFilter:St(ut.PdsGwTextFilter),pdsMultiSelectWidget:St(lt.PdsMultiSelectWidget),pdsFormatTime:St(ht.PdsFormatTime),pdsFormatNumber:St(gt.PdsFormatNumber),pdsWizardSteps:St(ft.PdsWizardSteps),pdsMessagesWidgetDefinition:St(pt.PdsMessagesWidget),pdsCalendarDefinition:St(yt.PdsCalendar),pdsCalendarLegendDefinition:St(mt.PdsCalendarLegend),pdsFormatDate:St(bt.PdsFormatDate),pdsDirtyStateConfirmDialogDefinition:St(i.PdsDirtyStateConfirmDialog),pdsGridWidgetFilterToggleDefinition:St(vt.PdsGridWidgetFilterToggle)};e.polymerUtils={regComplete:new r.AsyncSubject,registeredPolymerComponents:0,pdsWidgetDefinitionCount:Object.keys(Tt).length,registerPolymerComponent:function(t){Tt.hasOwnProperty(t)?(window.Polymer(Tt[t]),this.registeredPolymerComponents++,this.pdsWidgetDefinitionCount===this.registeredPolymerComponents&&(this.regComplete.next(),this.regComplete.complete())):console.error('"'+t+'" was not found in list pdsWidgetDefinitions. polymer-utils.ts')},addPdsObjToPolymerComponent:function(t){for(var e in Tt)"pdsWidgetDefinitions"!==e&&(Tt[e].pds=t)},registerPdsCheckboxWidgetDefinition:function(){this.registerPolymerComponent("pdsCheckboxWidgetDefinition")},registerPdsSelectWidgetDefinition:function(){this.registerPolymerComponent("pdsSelectWidgetDefinition")},registerPdsTextWidgetDefinition:function(){this.registerPolymerComponent("pdsTextWidgetDefinition")},registerPdsTextareaWidgetDefinition:function(){this.registerPolymerComponent("pdsTextareaWidgetDefinition")},registerPdsFilePickerWidgetDefinition:function(){this.registerPolymerComponent("pdsFilePickerWidgetDefinition")},registerPdsNumberWidgetDefinition:function(){this.registerPolymerComponent("pdsNumberWidgetDefinition")},registerPdsDateWidgetDefinition:function(){this.registerPolymerComponent("pdsDateWidgetDefinition")},registerPdsTimeWidgetDefinition:function(){this.registerPolymerComponent("pdsTimeWidgetDefinition")},registerPdsDateWidgetDialogDefinition:function(){this.registerPolymerComponent("pdsDateWidgetDialogDefinition")},registerPdsDynamicSelectDefinition:function(){this.registerPolymerComponent("pdsDynamicSelectDefinition")},registerPdsNumberedSliderDefinition:function(){this.registerPolymerComponent("pdsNumberedSliderDefinition")},registerPdsIconDefinition:function(){this.registerPolymerComponent("pdsIconDefinition")},registerPdsAppNav:function(){this.registerPolymerComponent("pdsAppNav")},registerPdsHelpMenuDefinition:function(){this.registerPolymerComponent("pdsHelpMenuDefinition")},registerPdsGlobalCreateMenuDefinition:function(){this.registerPolymerComponent("pdsGlobalCreateMenuDefinition")},registerPdsClassBlock:function(){this.registerPolymerComponent("pdsClassBlock")},registerPdsClassPicker:function(){this.registerPolymerComponent("pdsClassPicker")},registerPdsReportingTermSelector:function(){this.registerPolymerComponent("pdsReportingTermSelector")},registerPdsSearch:function(){this.registerPolymerComponent("pdsSearch")},registerPdsRadioButtonWidgetDefinition:function(){this.registerPolymerComponent("pdsRadioButtonWidgetDefinition")},registerPdsRichTextEditor:function(){this.registerPolymerComponent("pdsRichTextEditor")},registerPdsProgressBarWidgetDefinition:function(){this.registerPolymerComponent("pdsProgressBarWidgetDefinition")},registerPdsImgWidgetDefinition:function(){this.registerPolymerComponent("pdsImgWidgetDefinition")},registerPdsLoaderDefinition:function(){this.registerPolymerComponent("pdsLoaderDefinition")},registerPdsCircularProgressDefinition:function(){this.registerPolymerComponent("pdsCircularProgressDefinition")},registerPdsNotificationIndicator:function(){this.registerPolymerComponent("pdsNotificationIndicator")},registerPdsOverlayDropdownDefinition:function(){this.registerPolymerComponent("pdsOverlayDropdownDefinition")},registerPdsAnnounceDefinition:function(){this.registerPolymerComponent("pdsAnnounceDefinition")},registerPdsRichTextDisplayDefinition:function(){this.registerPolymerComponent("pdsRichTextDisplayDefinition")},registerPdsActivityFeedNotification:function(){this.registerPolymerComponent("pdsActivityFeedNotification")},registerPdsDialogDefinition:function(){this.registerPolymerComponent("pdsDialogDefinition")},registerPdsCommunicationNotification:function(){this.registerPolymerComponent("pdsCommunicationNotification")},registerPdsAssignmentTemplateNotification:function(){this.registerPolymerComponent("pdsAssignmentTemplateNotification")},registerPdsAssignmentSubmissionNotification:function(){this.registerPolymerComponent("pdsAssignmentSubmissionNotification")},registerPdsAssignmentReturnNotification:function(){this.registerPolymerComponent("pdsAssignmentReturnNotification")},registerPdsChatQuickMessage:function(){this.registerPolymerComponent("pdsChatQuickMessage")},registerPdsNotificationBadge:function(){this.registerPolymerComponent("pdsNotificationBadge")},registerPdsUserAvatar:function(){this.registerPolymerComponent("pdsUserAvatar")},registerPdsTooltipDefinition:function(){this.registerPolymerComponent("pdsTooltip")},registerPdsErrorPage:function(){this.registerPolymerComponent("pdsErrorPage")},registerPdsCopyrightClause:function(){this.registerPolymerComponent("pdsCopyrightClause")},registerPdsAppSwitcher:function(){this.registerPolymerComponent("pdsAppSwitcher")},registerPdsUserMenuDefinition:function(){this.registerPolymerComponent("pdsUserMenuDefinition")},registerPdsImmersiveReaderDefinition:function(){this.registerPolymerComponent("pdsImmersiveReader")},registerPdsLogoutDefinition:function(){this.registerPolymerComponent("pdsLogout")},registerPdsParsedHtmlContentDefinition:function(){this.registerPolymerComponent("pdsParsedHtmlContent")},registerPdsElementRendererDefinition:function(){this.registerPolymerComponent("pdsElementRenderer")},registerPdsBanner:function(){this.registerPolymerComponent("pdsBanner")},registerPdsDateFilterDefinition:function(){this.registerPolymerComponent("pdsDateFilter")},registerPdsGridWidgetFilterDefinition:function(){this.registerPolymerComponent("pdsGridWidgetFilter")},registerPdsGridWidgetPaginationControlDefinition:function(){this.registerPolymerComponent("pdsGridWidgetPaginationControl")},registerPdsMultiFieldFilterDefinition:function(){this.registerPolymerComponent("pdsMultiFieldFilter")},registerPdsMultiSelectFilterDefinition:function(){this.registerPolymerComponent("pdsMultiSelectFilter")},registerPdsNumberFilterDefinition:function(){this.registerPolymerComponent("pdsNumberFilter")},registerPdsPillSelectFilterDefinition:function(){this.registerPolymerComponent("pdsPillSelectFilter")},registerPdsSelectFilterDefinition:function(){this.registerPolymerComponent("pdsSelectFilter")},registerPdsGridWidgetSortFieldsDefinition:function(){this.registerPolymerComponent("pdsGridWidgetSortFields")},registerPdsTextFieldsDefinition:function(){this.registerPolymerComponent("pdsTextFilter")},registerPdsMultiSelectWidgetDefinition:function(){this.registerPolymerComponent("pdsMultiSelectWidget")},registerPdsPopOverDefinition:function(){this.registerPolymerComponent("pdsPopOver")},registerPdsDetailSelectWidgetDefinition:function(){this.registerPolymerComponent("pdsDetailSelectWidgetDefinition")},registerPdsMessagesWidgetDefinition:function(){this.registerPolymerComponent("pdsMessagesWidgetDefinition")},registerPdsFormatTimeDefinition:function(){this.registerPolymerComponent("pdsFormatTime")},registerPdsWizardStepsDefinition:function(){this.registerPolymerComponent("pdsWizardSteps")},registerPdsFormatNumberDefinition:function(){this.registerPolymerComponent("pdsFormatNumber")},registerPdsCalendarDefinition:function(){this.registerPolymerComponent("pdsCalendarDefinition")},registerPdsCalendarLegendDefinition:function(){this.registerPolymerComponent("pdsCalendarLegendDefinition")},registerPdsGridWidgetFilterToggleDefinition:function(){this.registerPolymerComponent("pdsGridWidgetFilterToggleDefinition")},registerPdsFormatDateDefinition:function(){this.registerPolymerComponent("pdsFormatDate")},registerPdsDirtyStateConfirmDialogDefinition:function(){this.registerPolymerComponent("pdsDirtyStateConfirmDialogDefinition")}}},function(t,e,i){"use strict";var n,r=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var o,s=i(27),a=i(6),u=i(28),l=i(76),r=(o=s.PdsAbstractInputWidget,r(c,o),c.prototype.generateValidationRules=function(){var t=u.pdsValidationRulesEngine.getBasicValidationRules();t.isDate=!0,t.setProperty("isRequired",this.dataIsrequired,Boolean),t.setProperty("maxValue",this.dataMaxdate,Date),t.setProperty("minValue",this.dataMindate,Date),this.validators=u.pdsValidationRulesEngine.getValidatorsForRules(t),"dataCustomvalidate"in this&&this.validators.push({execute:l.pdsValidation.getCustomValidate(this.dataCustomvalidate),condition:{element:this}})},c.prototype.setModelValue=function(t,e){void 0===e&&(e=!1);var i=this.querySelector("input");return null!=i&&t!==i.modelValue&&(i.modelValue=t,this.dialogValue=t,!0!==e&&this.setValue(a.pdsI18n.localizeDate(t),!0),!0)},c.prototype.setValue=function(t,e){void 0===e&&(e=!1),null==t&&(t="");var i=this.querySelector("input");null!=i&&t!==i.value&&(i.value=t),!0!==e&&this.setModelValue(a.pdsI18n.deLocalizeDate(t),!0)},c.prototype.dateChanged=function(t){this.value=a.pdsI18n.localizeDate(t.target.value),this.inputChange(),this.validateWidget(!0),this.closeDatePickerDialog(),this.dispatchInputEvent(this.querySelector("input"))},c.prototype.openDatePickerDialog=function(t){0!==t.clientX&&0!==t.clientY&&(this.showDatePickerDialog=!0)},c.prototype.closeDatePickerDialog=function(){this.showDatePickerDialog=!1},c);function c(){var t=null!==o&&o.apply(this,arguments)||this;return t.is="pds-date-widget",t.showDatePickerDialog=!1,t.properties={name:String,dataLabelText:String,dataShowLabel:{type:String,value:null},dataBadgeText:{type:String,value:"",observer:"setUpBadge"},dataHelperText:{type:String,value:null},dataFieldHelpText:String,dataPlaceholderText:String,dataTooltipText:String,dataUseAlternateColorScheme:{type:String,value:"false"},dataIsreadonly:{type:String,value:"false",observer:"setReadonlyText"},dataIsfieldonly:{type:String,value:"false"},dataHideUnelevatedBadge:{type:String,value:"false",observer:"setUpBadge"},dataDisableInvalidBadgeElevation:{type:String,value:"false",observer:"setUpBadge"},dataIsrequired:{type:String,value:"false",observer:"setUpBadge"},disabled:{type:String,value:"false"},dataMaxdate:String,dataMindate:String,dataCustomvalidate:String,dataActionIcon:String,scopeClass:{type:String,value:null}},t}e.PdsDateWidget=r},function(t,e,i){"use strict";var n,r=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var o,s=i(5),a=i(9),u=i(6),r=(o=s.PdsWidget,r(l,o),l.prototype.setMonthLabels=function(){var i=[];u.pdsI18n.locale.DATETIME_FORMATS.SHORTMONTH.forEach(function(t,e){t={value:String(e),text:t};i.push(t)}),this.monthLabels=i},l.prototype.ready=function(){o.prototype.ready.call(this),this.setMonthLabels(),this.dayLabels=u.pdsI18n.locale.DATETIME_FORMATS.SHORTDAY;var t=new Date;t.setHours(0),t.setMinutes(0),t.setSeconds(0),t.setMilliseconds(0),this.todayTimeStamp=t.getTime(),null!=this.dataMaxdate&&(this.maxDateTimeStamp=new Date(this.dataMaxdate).getTime()),null!=this.dataMindate&&(this.minDateTimeStamp=new Date(this.dataMindate).getTime()),t=null!=this.value?this.value:t,this.holdRefresh=!0,this.month=String(t.getMonth()),this.holdRefresh=!1,this.year=String(t.getFullYear()),this.name=a.pdsUtils.getUniqueId(this.name)},l.prototype.attached=function(){o.prototype.attached.call(this),this.handleFocus()},l.prototype.handleFocus=function(){var i=this,n=this.escKey,r=this.tabKey;this.datePickerDialog=this.querySelector(".date-picker-dialog");var o=this.querySelector("#date-picker-close");null!=this.datePickerDialog&&null!=o&&(o.focus(),this.datePickerFocusTrap=function(t){var e=i.getLastDayNumElement(i.datePickerDialog);t.keyCode===n?i.closeDialog():t.keyCode===r&&(t.shiftKey||t.target!==e?t.shiftKey&&t.target===o&&(e.focus(),t.preventDefault()):(o.focus(),t.preventDefault()))},this.datePickerDialog.addEventListener("keydown",this.datePickerFocusTrap))},l.prototype.getLastDayNumElement=function(t){var t=t.querySelectorAll("button"),e=new Array;return Array.prototype.forEach.call(t,function(t){t.classList.contains("pds-is-invisible")||e.push(t)}),e[e.length-1]},l.prototype.closeDialog=function(t){var e=new Event("pds-remove-dialog");this.dispatchEvent(e)},l.prototype.detached=function(){var t;o.prototype.detached.call(this),null==this.dataReturnFocus||0===this.dataReturnFocus.trim().length||null!=(t=document.querySelector(this.dataReturnFocus))&&t.focus(),null!=this.datePickerDialog&&this.datePickerDialog.removeEventListener("keydown",this.datePickerFocusTrap),delete this.datePickerDialog},l.prototype.getSelectedMonth=function(t){return String(t)===this.month},l.prototype.getSelectedYear=function(t){return String(t)===String(this.year)},l.prototype.getSelectedDateClass=function(t,e){if(null!=e&&e.getTime()===t)return"pds-selected-day"},l.prototype.getTodayClass=function(t){if(null!=t&&t===this.todayTimeStamp)return"pds-date-picker-today"},l.prototype.getIsWeekendClass=function(t){if(!0===t)return"pds-weekend-day"},l.prototype.getDisabledItemClass=function(t){if(this.isTimeStampDisabled(t))return"pds-disabled-day"},l.prototype.isTimeStampDisabled=function(t){if(null!=t){if(null!=this.maxDateTimeStamp&&this.maxDateTimeStamp<t)return!0;if(null!=this.minDateTimeStamp&&this.minDateTimeStamp>t)return!0}return!1},l.prototype.selectDate=function(t){t=this.extractAttribute(t,"button","data-date-time");null!=t&&(t=new Date(parseInt(t)),this.isTimeStampDisabled(t.getTime())||(this.value=t,t=new Event("pds-date-change-event"),this.dispatchEvent(t)))},l.prototype.monthChange=function(){null!=this.month&&!0!==this.holdRefresh&&this.updateDays()},l.prototype.yearChange=function(){this.updateAvailableYears(this.year),this.updateDays()},l.prototype.updateAvailableYears=function(t){for(var e=[],i=0;i<21;i++){var n=String(t-10+i);e.push({value:n,text:n})}this.possibleYears=e},l.prototype.previousMonth=function(){"0"===this.month?(this.holdRefresh=!0,this.month="11",this.holdRefresh=!1,this.year=String(parseInt(this.year)-1)):this.month=String(parseInt(this.month)-1)},l.prototype.nextMonth=function(){"11"===this.month?(this.holdRefresh=!0,this.month="0",this.holdRefresh=!1,this.yearIncrement=!0,this.year=String(parseInt(this.year)+1),this.yearIncrement=!1):this.month=String(parseInt(this.month)+1)},l.prototype.setDate=function(t){this.value=new Date(t),this.updateDays()},l.prototype.updateDays=function(){var t=this.pds.utils.generateDays(parseInt(this.year),parseInt(this.month));t.forEach(function(t){t.hasOwnProperty("dayNum")||(t.dayNum=null)}),this.days=t},l.prototype.dashCaseToSr=function(t,e){if(t){e=u.pdsI18n.formatDate(new Date(t.replace(/-/g,"/")),e);if(e)return e}},l.prototype.messageKeysUpdated=function(){this.dayLabels=u.pdsI18n.locale.DATETIME_FORMATS.SHORTDAY,this.setMonthLabels(),o.prototype.messageKeysUpdated.call(this)},l);function l(){var t=null!==o&&o.apply(this,arguments)||this;return t.is="pds-date-picker-dialog",t.holdRefresh=!1,t.properties={name:{type:String,value:"pds-date-picker-dialog"},month:{type:String,observer:"monthChange"},year:{type:String,observer:"yearChange"},possibleYears:{type:Array},dataMaxdate:{type:String},dataMindate:{type:String},dataUseValidIndicator:{type:String,value:"false"},dataReturnFocus:{type:String,value:""}},t}e.PdsDateWidgetDialog=r},function(t,e,i){"use strict";var n,r=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var o,s=i(5),a=i(10),c=i(9),u=a.pdsLogger.prependLogger(a.pdsLogger.requiresLogger("app-nav"),"pds-app-nav.ts"),r=(o=s.PdsWidget,r(l,o),l.prototype.created=function(){var e=this;this.handleWindowResize=function(){var t=window.innerWidth;(768<e.prevWindowWidth&&t<=768||e.prevWindowWidth<=768&&768<t)&&e.closeAllMenus(null),e.prevWindowWidth=t}},l.prototype.attached=function(){var t=this;o.prototype.attached.call(this),setTimeout(function(){t.setHighlights()}),this.prevWindowWidth=window.innerWidth,window.addEventListener("resize",this.handleWindowResize)},l.prototype.detached=function(){o.prototype.detached.call(this),window.removeEventListener("resize",this.handleWindowResize)},l.prototype.setSecondaryNavPosition=function(u){var l=this;this.previousSecondaryPositionClass=this.secondaryPositionClass,this.secondaryPositionClass="pds-is-invisible",this.setSecondaryOpenState("hard"),this.isMobileMenuOpen||setTimeout(function(){var t=l.querySelector(".pds-nav-secondary-selected"),e=l.querySelector(".pds-nav-primary"),i=l.querySelector(".pds-primary-nav-list"),n=0;null!=l.offsetTop&&(n=l.offsetTop);var r,o,s,a=window.innerHeight-n;l.setPreviouslySelectedNav(null),l.previousSecondaryPositionClass="",l.selectedNavUsesTierFourMenu?((r=l.querySelector(".pds-app-nav-mega-menu-selected")).style.top=n+"px",r.style.height="calc(100vh - "+n+"px)",l.secondaryPositionClass=""):null!=t&&null!=e&&null!=i&&(s=u.clientHeight,o=0,null!=(r=getComputedStyle(e)).width&&null!=r.borderRightWidth&&(o=parseFloat(r.width)),s=Math.ceil((u.getBoundingClientRect().top-e.getBoundingClientRect().top+i.scrollTop)/s)*s+s/2-i.scrollTop,i=t.clientHeight,window.innerWidth<769?(t.style.top=n+"px",l.secondaryPositionClass="",c.pdsUtils.focus(".pds-nav-category > a",l)):a-10<i?(t.style.left=o+"px",t.style.top=n+"px",t.style.height="calc(100% - "+n+"px)",l.secondaryPositionClass=""):s<i/2?(t.style.left=o+"px",t.style.top=n+"px",l.secondaryPositionClass=""):a<s+i/2?(t.style.left=o+"px",l.secondaryPositionClass="pds-secondary-bottom"):(t.style.left=o+"px",t.style.top=s-i/2+n+"px",l.secondaryPositionClass=""),null!=(n=l.querySelector(".pds-nav-overlay"))&&(n.style.width="calc(100vw - "+o+"px)"))})},l.prototype.primaryClickHandler=function(t){var e=this;u("primaryClickHandler called"),t.preventDefault();var i=t.target,n=(i=null==(i=!c.pdsUtils.is(i,"a")?c.pdsUtils.getClosest(i,"a"):i)?t.srcElement:i).dataNav;if(null==this.selectedNav||this.selectedNav.id!==n.id||"closed"===this.secondaryOpen){if(this.previouslySelectedNavUsesTierFourMenu=this.selectedNavUsesTierFourMenu,this.selectedNavUsesTierFourMenu=this.isTierNumber(n,4),this.selectedNavUsesTierFourMenu&&null!=n.children&&(n.children.find(function(t){return t===e.activeSecondaryNav})?this.selectedSecondaryNav=this.activeSecondaryNav:this.selectedSecondaryNav=n.children[0],null!=this.selectedSecondaryNav&&(this.selectedSecondaryNavHasGrandChildren=this.isTierNumber(this.selectedSecondaryNav,3)),this.updateRequiredColumns()),this.setPreviouslySelectedNav(this.selectedNav),this.setSelectedNav(n),this.isMobileMenuOpen&&(this.setMobileMenuSelectedNav(n),this.focusOnCloseMobileMenuButton()),null!=this.selectedNav)if(null!=n.children&&0<n.children.length)this.setSecondaryNavPosition(i);else{if(this.closeMobileMenu(),this.setSecondaryOpenState("closed"),null==this.selectedNav.onUserClick)throw"NavItems that do not have children must have the onUserClick function";this.activeNav=this.selectedNav,this.activeSecondaryNav=null,this.activeTertiaryNav=null,this.selectedNav.onUserClick(this.selectedNav,t),this.setSelectedNav(null)}}else this.closeSecondary(t)},l.prototype.setSelectedNav=function(t){this.setPrivatePolymerPropertyValue("selectedNav",t)},l.prototype.setMobileMenuSelectedNav=function(t){this.setPrivatePolymerPropertyValue("mobileMenuSelectedNav",t)},l.prototype.setMobileMenuSelectedNavParent=function(t){this.setPrivatePolymerPropertyValue("mobileMenuSelectedNavParent",t)},l.prototype.setMobileMenuOpen=function(t){this.setPrivatePolymerPropertyValue("isMobileMenuOpen",t)},l.prototype.setThirdAndFourthTierMaxColumns=function(t){this.setPrivatePolymerPropertyValue("thirdAndFourthTierMaxColumns",t)},l.prototype.setPreviouslySelectedNav=function(t){this.setPrivatePolymerPropertyValue("previouslySelectedNav",t)},l.prototype.secondaryClickHandler=function(t){u("secondaryClickHandler called"),t.preventDefault();var e=t.target,i=(e=!c.pdsUtils.is(e,"a")?c.pdsUtils.getClosest(e,"a"):e).dataNav;e.dataParent;if(this.selectedSecondaryNav=i,null==this.selectedSecondaryNav.onUserClick)throw"NavItem "+i.id+" did not have onUserClick function defined.";this.activeNav=this.selectedNav,this.activeSecondaryNav=this.selectedSecondaryNav,this.activeTertiaryNav=null,this.selectedSecondaryNav.onUserClick(this.selectedSecondaryNav,t),this.setSelectedNav(null),this.setSecondaryOpenState("closed"),this.closeMobileMenu()},l.prototype.tertiaryClickHandler=function(t){t.preventDefault();var e=t.target,i=(e=!c.pdsUtils.is(e,"a")?c.pdsUtils.getClosest(e,"a"):e).dataParent,e=e.dataNav;if(null!==this.selectedNav&&this.selectedNav.id!==i.id&&(this.selectedSecondaryNav=i),null==e.onUserClick)throw"NavItem "+e.id+" did not have onUserClick function defined.";this.activeNav=this.selectedNav,this.activeSecondaryNav=this.selectedSecondaryNav,this.activeTertiaryNav=e,this.activeQuaternaryNav=null,e.onUserClick(e,t),this.setSelectedNav(null),this.setSecondaryOpenState("closed"),this.closeMobileMenu()},l.prototype.secondaryTierClickHandler=function(t){var e=this;u("secondaryTierClickHandler called"),t.preventDefault();t=t.target,(t=!c.pdsUtils.is(t,"a")?c.pdsUtils.getClosest(t,"a"):t).dataParent,t=t.dataNav;this.selectedSecondaryNav=t,this.selectedNavUsesTierFourMenu&&(this.selectedSecondaryNavHasGrandChildren=this.isTierNumber(this.selectedSecondaryNav,3),this.updateRequiredColumns()),setTimeout(function(){setTimeout(function(){c.pdsUtils.focus(".pds-app-nav-third-and-fourth-tiers a",e)})})},l.prototype.quaternaryClickHandler=function(t){u("quaternaryClickHandler called"),t.preventDefault();var e=t.target,e=((e=!c.pdsUtils.is(e,"a")?c.pdsUtils.getClosest(e,"a"):e).dataParent,e.dataNav);if(null==e.onUserClick)throw"NavItem "+e.id+" did not have onUserClick function defined.";this.activeNav=this.selectedNav,this.activeSecondaryNav=this.selectedSecondaryNav,this.activeTertiaryNav=null,(this.activeQuaternaryNav=e).onUserClick(e,t),this.setSelectedNav(null),this.setSecondaryOpenState("closed"),this.closeMobileMenu()},l.prototype.mobileMenuNavClickHandler=function(t){t.preventDefault();var e=t.target,i=(e=!c.pdsUtils.is(e,"a")?c.pdsUtils.getClosest(e,"a"):e).dataParent,e=e.dataNav;if(null!=e.children&&0<e.children.length)this.setMobileMenuSelectedNav(e),this.setMobileMenuSelectedNavParent(i);else{if(null==e.onUserClick)throw"NavItem "+e.id+" did not have onUserClick function defined.";this.setActiveStates.apply(this,this.getAncestorChain(e)),this.setMobileMenuSelectedNavParent(null),this.setMobileMenuSelectedNav(null),e.onUserClick(e,t),this.setSelectedNav(null),this.setSecondaryOpenState("closed"),this.closeMobileMenu()}this.focusOnCloseMobileMenuButton(),this.scrollMobilePanelToTop()},l.prototype.scrollMobilePanelToTop=function(){var t=this.querySelector(".pds-app-nav-selected-children");null!=t&&(t.scrollTop=0)},l.prototype.setActiveStates=function(t,e,i,n){this.activeNav=t||null,this.activeSecondaryNav=e||null,this.activeTertiaryNav=i||null,this.activeQuaternaryNav=n||null},l.prototype.getAncestorChain=function(t){for(var e=[t],i=this.getParent(t);null!=i;)e.unshift(i),i=this.getParent(i);return e},l.prototype.mobileMenuGoBackClickHandler=function(t){t.preventDefault(),null==this.mobileMenuSelectedNavParent?(this.setSelectedNav(null),this.setMobileMenuSelectedNavParent(null),this.setMobileMenuSelectedNav(null)):(this.setMobileMenuSelectedNav(this.mobileMenuSelectedNavParent),this.setMobileMenuSelectedNavParent(this.getParent(this.mobileMenuSelectedNavParent))),this.focusOnCloseMobileMenuButton(),this.scrollMobilePanelToTop()},l.prototype.focusOnCloseMobileMenuButton=function(){var t=this;u("focusOnCloseMobileMenuButton called"),setTimeout(function(){setTimeout(function(){c.pdsUtils.focus("#nav-primary-close-link",t)})})},l.prototype.getParent=function(e,t){for(var i,n,r=0,o=t=null==t?this.navigation:t;r<o.length;r++){var s=o[r];if(null!=(n=s).children&&null!=n.children.find(function(t){return t===e}))return s;if(null!=s.children&&null!=(i=this.getParent(e,s.children)))return i}return null},l.prototype.showPrimaryNavLinks=function(){return!this.isMobileMenuOpen||null==this.mobileMenuSelectedNav},l.prototype.isNavItemActive=function(t){return t===this.activeNav||t===this.activeSecondaryNav||t===this.activeTertiaryNav||t===this.activeQuaternaryNav?"pds-is-active":""},l.prototype.userMenuClickHandler=function(t){t.preventDefault();var e=t.target,e=(e=!c.pdsUtils.is(e,"a")?c.pdsUtils.getClosest(e,"a"):e).dataNav;if(this.toggleUserMenu(),this.closeMobileMenu(),null==e.onUserClick)throw"NavItem "+e.id+" did not have onUserClick function defined.";e.onUserClick(e,t)},l.prototype.closeSecondary=function(t){null!=t&&t.preventDefault(),this.setSecondaryOpenState("closed"),null!=this.selectedNav&&c.pdsUtils.focus("#"+this.selectedNav.id,this),this.setSelectedNav(null)},l.prototype.closeAllMenus=function(t){null!=t&&t.preventDefault(),"closed"!==this.secondaryOpen&&this.closeSecondary(t),this.isMobileMenuOpen&&this.closeMobileMenu(),this.setMobileMenuSelectedNavParent(null),this.setMobileMenuSelectedNav(null),this.lastThirdTierNavItemMap={}},l.prototype.toggleNav=function(t){t.preventDefault(),this.setMobileMenuOpen(!this.isMobileMenuOpen),this.isMobileMenuOpen&&(this.setMobileMenuSelectedNavParent(null),this.setMobileMenuSelectedNav(null)),this.focusOnCloseMobileMenuButton(),this.scrollMobilePanelToTop()},l.prototype.closeMobileMenu=function(){this.setMobileMenuOpen(!1)},l.prototype.toggleUserMenu=function(t){null!=t&&t.preventDefault(),0<this.userNavigation.length&&(this.userMenuOpen=!this.userMenuOpen)},l.prototype.hasSecondaryItem=function(t){if(null!=t.children&&0<t.children.length&&this.secondaryIndicator)return"pds-has-secondary-item"},l.prototype.isUsernameShort=function(){return this.user.firstName.length+this.user.lastName.length<=15},l.prototype.getFirstName=function(){return 15<this.user.firstName.length?this.user.firstName.slice(0,15)+"...":this.user.firstName},l.prototype.getLastName=function(){return 15<this.user.lastName.length?this.user.lastName.slice(0,15)+"...":this.user.lastName},l.prototype.getUserInitialsForDisplay=function(){return this.user.firstName.substring(0,1)+this.user.lastName.substring(0,1)},l.prototype.hasChildren=function(t){return null!=t.children&&0<t.children.length},l.prototype.hasUserProfilePicture=function(){return null!=this.user&&null!=this.user.profilePicture},l.prototype.clearCurrentState=function(){this.activeNav=null,this.activeSecondaryNav=null,this.activeTertiaryNav=null,this.activeQuaternaryNav=null,this.setSelectedNav(null)},l.prototype.navigationUpdated=function(){var e=this;u("navigationUpdated() called"),this.setPrivatePolymerPropertyValue("fourTierSupportRequired",!1),null!=this.navigation&&this.setPrivatePolymerPropertyValue("fourTierSupportRequired",null!=this.navigation.find(function(t){return e.isTierNumber(t,4)}))},l.prototype.isShowingSecondaryMenu=function(t,e){return t===this.previouslySelectedNav&&!this.previouslySelectedNavUsesTierFourMenu&&!this.isMobileMenuOpen||null!=t&&null!=e&&t===e&&(!this.selectedNavUsesTierFourMenu&&!this.isMobileMenuOpen)},l.prototype.isShowingFourTierMenu=function(t,e){return!(t!==this.previouslySelectedNav||!this.previouslySelectedNavUsesTierFourMenu||this.isMobileMenuOpen)||null!=t&&null!=e&&t===e&&(this.selectedNavUsesTierFourMenu&&!this.isMobileMenuOpen)},l.prototype.isShowingMobileMenu=function(t){return null!=t&&null!=this.selectedNav&&t===this.selectedNav&&this.isMobileMenuOpen},l.prototype.isTierNumber=function(t,e){var i=this;return 1===e?null==t.children||0===t.children.length:1<e?null!=t.children&&0!==t.children.length&&null!=t.children.find(function(t){return i.isTierNumber(t,e-1)}):(console.error("the isTierNumber function should have a tierNumber and it should be 1 or more.)"),!1)},l.prototype.isLastItemInGroup=function(t){return this.lastThirdTierNavItemMap[t.id]?"pds-app-nav-tertiary-item-last":""},l.prototype.updateRequiredColumns=function(){if(this.lastThirdTierNavItemMap={},this.setThirdAndFourthTierMaxColumns(3),null!=this.selectedSecondaryNav&&null!=this.selectedSecondaryNav.children&&0!==this.selectedSecondaryNav.children.length){for(var t=[],e={name:"group of single items. Never should show up in the UI",id:"",children:[]},i=0,n=this.selectedSecondaryNav.children;i<n.length;i++){var r,o=n[i];null!=o.children&&0<o.children.length?(t.push(o),0<e.children.length&&(r=e.children[e.children.length-1],this.lastThirdTierNavItemMap[r.id]=!0),e.children=[]):(e.children.push(o),1===e.children.length&&t.push(e))}switch(t.length){case 1:this.setThirdAndFourthTierMaxColumns(1);break;case 2:this.setThirdAndFourthTierMaxColumns(2);break;default:this.setThirdAndFourthTierMaxColumns(3)}}},l.prototype.setSecondaryOpenState=function(t){this.secondaryOpen=t},l.prototype.setHighlights=function(t){var r=this;void 0===t&&(t="closed"),u("setHighlights called"),this.activeNav=null,this.activeSecondaryNav=null,this.activeTertiaryNav=null,(this.activeQuaternaryNav=null)!=this.navigation&&this.navigation.find(function(n){return null!=n.children&&0<n.children.length?null!=n.children.find(function(i){return null!=i.children&&0<i.children.length?(i.children.find(function(e){return null!=e.children&&0<e.children.length?void e.children.find(function(t){return!(null==t.isCurrentRoute||!t.isCurrentRoute(t))&&(r.activeQuaternaryNav=t,r.activeTertiaryNav=e,r.activeSecondaryNav=i,r.activeNav=n,!0)}):!(null==e.isCurrentRoute||!e.isCurrentRoute(e))&&(r.activeTertiaryNav=e,r.activeSecondaryNav=i,r.activeNav=n,r.setSecondaryOpenState(t),!0)}),!1):!(null==i.isCurrentRoute||!i.isCurrentRoute(i))&&(r.activeSecondaryNav=i,r.activeNav=n,r.setSecondaryOpenState(t),!0)}):!(null==n.isCurrentRoute||!n.isCurrentRoute(n))&&(r.activeNav=n,!0)})},l);function l(){var t=null!==o&&o.apply(this,arguments)||this;return t.is="pds-app-nav",t.navigation=[],t.selectedNavUsesTierFourMenu=!1,t.previouslySelectedNavUsesTierFourMenu=!1,t.selectedSecondaryNavHasGrandChildren=!1,t.isMobileMenuOpen=!1,t.userMenuOpen=!1,t.secondaryIndicator=!0,t.primaryNavLinkWithChildrenId="",t.secondaryPositionClass="pds-hidden",t.previousSecondaryPositionClass="",t.lastThirdTierNavItemMap={},t.properties={dataAppName:{type:String,value:"global|Unified Classroom"},navigation:{observer:"navigationUpdated"},fourTierSupportRequired:{value:null,readOnly:!0},selectedNav:{value:null,readOnly:!0},mobileMenuSelectedNav:{value:null,readOnly:!0},mobileMenuSelectedNavParent:{value:null,readOnly:!0},isMobileMenuOpen:{value:null,readOnly:!0},thirdAndFourthTierMaxColumns:{type:Number,value:3,readOnly:!0},previouslySelectedNav:{value:null,readOnly:!0}},t.secondaryOpen="closed",t}e.PdsAppNav=r},function(t,e,i){"use strict";var n,r=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var o,s=i(5),a=i(9),r=(o=s.PdsWidget,r(u,o),u.prototype.attached=function(){var e=this;o.prototype.attached.call(this);var t=document.querySelector("pds-class-picker");null!=t&&(t.addEventListener("pdsCloseOptions",function(t){e!==t.srcElement&&(e.showLinks=!1)}),t.addEventListener("click",function(t){e.showLinks=!1}))},u.prototype.classChange=function(t){t.preventDefault(),t.stopPropagation();t=t.target,t=(t=!this.pds.utils.is(t,"a")?this.pds.utils.getClosest(t,"a"):t).dataSection;this.fire("pdsClassChange",t)},u.prototype.clickOptions=function(t){t.preventDefault(),t.stopPropagation(),this.showLinks=!this.showLinks,this.showLinks&&(this.fire("pdsCloseOptions",null),this.showLinks=!0)},u.prototype.clickOptionsLink=function(t){t.preventDefault(),t.stopPropagation();var e=t.target,i=(e=!this.pds.utils.is(t.target,"a")?this.pds.utils.getClosest(e,"a"):e).dataLink,e=e.dataSection;if(i.section=e,null==i.linkClicked)throw"No onUserClick function found";i.linkClicked(i,t),this.fire("pdsCloseClassPicker",null),this.showLinks=!1},u.prototype.getAttendanceStatusIconName=function(t){if(null==t)return"";switch(t.toUpperCase()){case"NA":return"attendance-f";case"GREEN":return"checkmark-circle-f";case"YELLOW":case"RED":return"attendance-f";default:return""}},u.prototype.getSectionColorClass=function(t){return a.pdsUtils.getSectionColorForClass(t)},u.prototype.getLinkId=function(t){if(null==t)return"no-section-error";if(null!=t.uid)return t.uid;if(null!=t.groupName)return t.groupName.replace(/\s+/g,"-");throw"ClassPickerClass needs to either have a group name or a uid."},u.prototype.getSchoolAbbreviation=function(t){return t.schoolAbbreviation?t.schoolAbbreviation.length<=8?t.schoolAbbreviation:t.schoolAbbreviation.slice(0,8):t.schoolName.length<=8?t.schoolName:t.schoolName.slice(0,8)},u);function u(){var t=null!==o&&o.apply(this,arguments)||this;return t.is="pds-class-block",t.showLinks=!1,t}e.PdsClassBlock=r},function(t,e,i){"use strict";var n,r=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var o,s=i(6),a=i(9),i=i(5),u=/^$|^PeriodAndDay$|^CustomPeriodDay$/,r=(o=i.PdsWidget,r(l,o),l.prototype.ready=function(){o.prototype.ready.call(this),this.getS3MediaPath=this.pds.preferences.getS3MediaPath,this.showClasses=!0,this.possibleSchedulingTerms=[],this.possibleYears=[],this.studentMap=new Map,this.addEventListener("pdsClassChange",this.classChangeEvent),this.noClassesBlock={groupName:"Continue With Student",groupType:"None",sectionUids:[]},void 0===this.hasMultipleSchools&&(this.hasMultipleSchools=!1)},l.prototype.toggleClassSelector=function(t){t.preventDefault(),this.showClassSelector=!this.showClassSelector,this.showClassSelector?(this.pds.utils.markFocusableElement(this.querySelector("#class-selector-trigger-button")),this.backupData(),this.fire("pdsClassPickerOpen",!0),this.initialVisit=!0,this.resetFocusOnClassSelector()):(this.restoreData(),null!=(t=this.pds.utils.getLastMarkedElement())&&t.focus(),this.fire("pdsClassPickerClosed",{prevSelectedStudent:this.initiallySelectedData.selectedStudent,prevSelectedYear:this.initiallySelectedData.selectedYear,prevSelectedSchedulingTerm:this.initiallySelectedData.selectedSchedulingTerm}),this.removeClassSelectorFocusProperties())},l.prototype.resetFocusOnClassSelector=function(){var t=this;setTimeout(function(){t.initialVisit&&(t.classSelector=t.querySelector(".pds-class-selector"),t.firstElement=t.querySelector("#class-selector-student-select"),null==t.firstElement&&(t.firstElement=t.querySelector("#class-selector-year-select")),null!=t.firstElement&&t.firstElement.focus(),t.handleKeyBoardNavigationAndEscape(),t.initialVisit=!1),t.lastElement=t.getLastElementInClassPicker()})},l.prototype.getLastElementInClassPicker=function(){var t=this.querySelectorAll(".class-block-wrapper"),e=new Array;if(Array.prototype.forEach.call(t,function(t){"none"!==t.style.display&&e.push(t)}),0<e.length){var i=e.pop();if(null!=i){var n=i.querySelectorAll("pds-class-block"),t=n[n.length-1];if(null!=t){i=t.querySelector(".pds-attendance-link"),n=t.querySelector(".class-block-options");return null==i&&null==n?t.querySelector("a"):null==i?n:i}}}return this.querySelector(".pds-message-info")},l.prototype.handleKeyBoardNavigationAndEscape=function(){var e=this;null!=this.classSelector&&(this.kebyoardNavigationAndEscapeListener=function(t){27===t.keyCode&&e.handleClassSelectorClose(t),9===t.keyCode&&(t.shiftKey||t.target!==e.lastElement?t.shiftKey&&t.target===e.firstElement&&(e.lastElement.focus(),t.preventDefault()):(e.firstElement.focus(),t.preventDefault()))},this.classSelector.addEventListener("keydown",this.kebyoardNavigationAndEscapeListener))},l.prototype.handleClassSelectorClose=function(t){t.stopImmediatePropagation(),this.showClassSelector=!this.showClassSelector,this.restoreData(),this.pds.utils.getLastMarkedElement().focus(),this.fire("pdsClassPickerClosed",{prevSelectedStudent:this.initiallySelectedData.selectedStudent,prevSelectedYear:this.initiallySelectedData.selectedYear,prevSelectedSchedulingTerm:this.initiallySelectedData.selectedSchedulingTerm}),this.removeClassSelectorFocusProperties()},l.prototype.removeClassSelectorFocusProperties=function(){this.classSelector.removeEventListener("keydown",this.kebyoardNavigationAndEscapeListener),delete this.initialVisit,delete this.classSelector,delete this.firstElement,delete this.lastElement},l.prototype.backupData=function(){this.initiallySelectedData={selectedStudent:this.selectedStudent,selectedYear:this.selectedYear,selectedSchedulingTerm:this.selectedSchedulingTerm,showClasses:this.showClasses,showGroups:this.showGroups}},l.prototype.restoreData=function(){this.selectedStudent=this.initiallySelectedData.selectedStudent,this.selectedYear=this.initiallySelectedData.selectedYear,this.selectedSchedulingTerm=this.initiallySelectedData.selectedSchedulingTerm,this.showClasses=this.initiallySelectedData.showClasses,this.showGroups=this.initiallySelectedData.showGroups},l.prototype.selectClasses=function(t){t.preventDefault(),this.showClasses=!0,this.showGroups=!1},l.prototype.selectGroups=function(t){t.preventDefault(),this.showClasses=!1,this.showGroups=!0},l.prototype.selectedClassDisplay=function(t){if(null==t||t===this.noClassesBlock)return"No Class Selected";var e=t;return null!=t.schedulingTerm?null!=t.primaryDisplay?(null!=t.secondaryDisplay?t.secondaryDisplay+" ":"")+t.primaryDisplay:(null!=t.periodDay?t.periodDay+" ":"")+t.courseName:null!=e.sectionUids?s.pdsI18n.getText("pds|class picker|xx - xx Classes",{arg0:e.groupName,arg1:e.sectionUids.length}):""+e.groupName},l.prototype.classChangeEvent=function(t){t=t.detail;this.selectedClass=t,this.showClassSelector=!1},l.prototype.yearChangeEvent=function(t){this.fire("pdsYearChange",this.selectedYear)},l.prototype.schedulingTermChangeEvent=function(t){this.fire("pdsSchedulingTermChange",this.selectedSchedulingTerm)},l.prototype.studentChangeEvent=function(t){this.fire("pdsStudentChange",this.selectedStudent)},l.prototype.classScheduleEmptyCheck=function(t){return null==t||null==t.sections||0===t.sections.length},l.prototype.classGroupingCheck=function(t){return null!=t&&0<t.length},l.prototype.getPossibleYears=function(t){for(var e=this.possibleYears.length=0,i=t;e<i.length;e++){var n=i[e];this.possibleYears.push({text:n,value:n})}return this.possibleYears},l.prototype.getPossibleSchedulingTerms=function(t,e){for(var i=new Array,n=0,r=t;n<r.length;n++){for(var o,s=r[n],a=[],u=0,l=s.schoolDateRanges;u<l.length;u++){var c=l[u];a.push(c.schoolUid)}e&&s.schoolAbbreviation?(o=s.schoolAbbreviation.length<=8?s.schoolAbbreviation:s.schoolAbbreviation.slice(0,8),i.push({text:s.name+" ("+o+")",value:s.name+","+a.join(",")})):i.push({text:s.name,value:s.name+","+a.join(",")})}return this.possibleSchedulingTerms=i,this.possibleSchedulingTerms},l.prototype.getStudentOptions=function(t){var e,i=[],n=[];this.updateStudentMap();for(var r=0,o=t;r<o.length;r++){var s=o[r];(s.sectionUids&&0<s.sectionUids.length?i:n).push({value:s.uid,text:s.firstName+" "+s.lastName})}return e=i.concat(n),null!=this.selectedStudent&&0!==this.selectedStudent.length||(this.selectedStudent=e[0].value),e},l.prototype.getSectionColorClass=function(t){return a.pdsUtils.getSectionColorForClass(t)},l.prototype.hasAllSectionsGroup=function(t,e){return!!t&&(e&&null!=t.allClasses)},l.prototype.getInfoMessage=function(t){if(null!=this.studentOptions&&0<this.studentOptions.length){t=this.studentMap.get(t);return(null!=t?t.firstName:"The selected student ")+" has no classes scheduled during the current term."}return"There are no classes in your schedule during the selected year."},l.prototype.getSecondaryTextForClassBlock=function(t){if(t===this.noClassesBlock)return"No Scheduled Classes";return null==t.secondaryDisplay||null==t.classDisplayPreference?null!=t.periodDay?"Period "+t.periodDay:"":(u.test(t.classDisplayPreference)?"Period ":"")+t.secondaryDisplay},l.prototype.getPrimaryTextForClassBlock=function(t){return null!=t.primaryDisplay?t.primaryDisplay:t.courseName},l.prototype.getPrimarySubTextForClassBlock=function(t){if(null!=t&&null!=t.teachers&&0<t.teachers.length){t=t.teachers.find(function(t){return!0===t.isLeadTeacher});if(null!=t)return t.firstName+" "+t.lastName}},l.prototype.getSelectedStudentName=function(t){if(this.updateStudentMap(),this.studentMap.has(t)){t=this.studentMap.get(t);return t.firstName+" "+t.lastName}return""},l.prototype.currentStudentHasPhoto=function(t){return this.updateStudentMap(),!!this.studentMap.has(t)&&this.studentMap.get(t).hasPhoto},l.prototype.updateStudentMap=function(){var e=this;this.studentMap.clear(),null!=this.studentOptions&&0<this.studentOptions.length&&this.studentOptions.forEach(function(t){e.studentMap.set(t.uid,t)})},l);function l(){var t=null!==o&&o.apply(this,arguments)||this;return t.is="pds-class-picker",t.properties={isClassOnly:{type:Boolean,value:!1},selectedStudent:{type:String,value:null},classSchedule:{type:String,observer:"resetFocusOnClassSelector"},showGroups:{type:Boolean,observer:"resetFocusOnClassSelector"}},t}e.PdsClassPicker=r},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=(r.prototype.optionsUpdated=function(){var t;this.dynamicOptions instanceof Array&&(this.defaultUsed?t=this.value:(t=this.defaultValue,this.defaultUsed=!0),null==t&&(t=this.value),this.innerHTML="",this.addOptionsToContainer(this,this.dynamicOptions,t))},r.prototype.addOptionsToContainer=function(t,e,i,n){void 0===n&&(n=!1);for(var r=0;r<e.length;r++){var o=e[r],s=void 0;Array.isArray(o.value)?((s=document.createElement("optgroup")).label=o.text,n=this.addOptionsToContainer(s,o.value,i,n)):((s=document.createElement("option")).value=o.value,s.innerText=o.text,!0===o.disabled&&s.setAttribute("disabled","")),null!=this.scopeClass&&s.classList.add(this.scopeClass),n||o.value!==i||(s.setAttribute("selected",""),n=!0),t.appendChild(s)}return n},r);function r(){this.is="pds-dynamic-select",this.extends="select",this.properties={dynamicOptions:{observer:"optionsUpdated"},defaultValue:{},scopeClass:String},this.dynamicOptions=[],this.defaultUsed=!1}e.PdsDynamicSelect=n},function(t,e,i){"use strict";var n,r=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var o,s=i(27),a=i(28),i=i(10),u=i.pdsLogger.prependLogger(i.pdsLogger.requiresLogger("input-widgets"),"pds-select-widget.ts"),r=(o=s.PdsAbstractInputWidget,r(l,o),l.prototype.generateValidationRules=function(){var t=a.pdsValidationRulesEngine.getBasicValidationRules();t.isText=!0,t.setProperty("isRequired",this.dataIsrequired,Boolean),this.validators=a.pdsValidationRulesEngine.getValidatorsForRules(t),"dataCustomvalidate"in this&&this.validators.push({execute:this.pds.validation.getCustomValidate(this.dataCustomvalidate),condition:{element:this}})},l.prototype.inputSelector=function(){return this.querySelector("select")},l.prototype.redrawOptions=function(){u("Redrawing the options for "+this.name+"."),this.redraw("options"),this.setValue(this.modelValue,!0)},l.prototype.setModelValue=function(t,e){void 0===e&&(e=!1);var i=this.inputSelector();return null!=i&&t!==i.modelValue&&(i.modelValue=t,u("Setting "+this.name+"'s model value from '"+i.modelValue+"' to '"+t+"'."),!0!==e&&this.setValue(t,!0),!0)},l.prototype.setReadonlyText=function(){var t,i=this,e=this.querySelector(".pds-readonly-data");e&&null!=this.dataIsreadonly&&this.options&&("true"===this.dataIsreadonly?(t=void 0,(t=this.isGrouped?this.options.reduce(function(t,e){return t||e.value.find(function(t){return t.value===i.value})},void 0):this.options.find(function(t){return t.value===i.value}))?(e.innerText=t.text,u("Setting "+this.name+"'s readonly only text to '"+t.text+"' from the value '"+this.value+"'.")):(u("No option in "+this.name+" was found corresponding to the value '"+this.value+"' when setting read only text."),e.innerText="")):e.innerText="")},l.prototype.setValue=function(t,e){void 0===e&&(e=!1);var i=t;null==t&&(t="");var n,r=this.inputSelector();null!=r&&t!==r.value&&(n=r.value,r.value=t,u("Setting "+this.name+"'s value from '"+n+"' to '"+r.value+"'.")),!0!==e&&this.setModelValue(i,!0)},l.prototype.validateOptionsDeferred=function(t,e){var i=this;null==t&&null==e||(this.isGrouped=null!=this.options&&0<this.options.length&&Array.isArray(this.options[0].value),setTimeout(function(){i.validateOptions()}))},l.prototype.validateOptions=function(){this.setReadonlyText();var t,e=this.getDuplicateProperties(this.options,"text"),i=this.getDuplicateProperties(this.options,"value");return!this.disableWarningMessageDuplicateOption&&e&&e.length&&(t=e.map(function(t){return"'"+t+"'"}).join(", "),console.warn("Duplicate option text ("+t+") was found in "+this.name+"'s option list.")),!this.disableWarningMessageDuplicateOption&&i&&i.length&&(t=i.map(function(t){return"'"+t+"'"}).join(", "),console.warn("Duplicate option values ("+t+") were found in "+this.name+"'s option list.")),{duplicateText:e,duplicateValues:i}},l.prototype.getDuplicateProperties=function(t,e){if(!(t instanceof Array))return[];var i=t[0],n=t.slice(1);if(0===n.length)return[];t=n.filter(function(t){return t[e]!==i[e]}),n=t.length!==n.length?[i[e]]:[],t=this.getDuplicateProperties(t,e);return n.concat(t)},l);function l(){var t=null!==o&&o.apply(this,arguments)||this;return t.is="pds-select-widget",t.properties={name:String,dataLabelText:String,dataShowLabel:{type:String,value:null},dataBadgeText:{type:String,value:"",observer:"setUpBadge"},dataHelperText:{type:String,value:null},dataTooltipText:String,dataUseAlternateColorScheme:{type:String,value:"false"},dataIsreadonly:{type:String,value:"false",observer:"setReadonlyText"},dataIsfieldonly:{type:String,value:"false"},dataHideUnelevatedBadge:{type:String,value:"false",observer:"setUpBadge"},dataDisableInvalidBadgeElevation:{type:String,value:"false",observer:"setUpBadge"},dataIsrequired:{type:String,value:"false",observer:"setUpBadge"},dataUseValidIndicator:{type:String,value:"false"},dataCustomvalidate:String,disabled:{type:String,value:"false"},options:{type:Array,observer:"validateOptionsDeferred"}},t.isGrouped=!1,t}e.PdsSelectWidget=r},function(t,e,i){"use strict";var n,r=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var o,s=i(27),a=i(28),r=(o=s.PdsAbstractInputWidget,r(u,o),u.prototype.generateValidationRules=function(){var t=a.pdsValidationRulesEngine.getBasicValidationRules();if(t.isText=!0,t.setProperty("isRequired",this.dataIsrequired,Boolean),t.setProperty("maxLength",this.dataMaxlength,Number),t.setProperty("minLength",this.dataMinlength,Number),t.setProperty("excludeChars",this.dataExcludechars,String),t.setProperty("isEmail",this.dataIsEmail,Boolean),null!=this.dataRegex&&0<this.dataRegex.length&&null!=this.dataRegexErrorText&&0<this.dataRegexErrorText.length)try{t.regex={pattern:null!=this.dataRegex?new RegExp(this.dataRegex,this.dataRegexmodifiers):new RegExp(this.dataRegex),errorMessage:this.dataRegexErrorText}}catch(t){}if(null!=this.dataInverseRegex&&0<this.dataInverseRegex.length&&null!=this.dataInverseRegexErrorText&&0<this.dataInverseRegexErrorText.length)try{t.inverseRegex={pattern:null!=this.dataInverseRegex?new RegExp(this.dataInverseRegex,this.dataInverseRegexmodifiers):new RegExp(this.dataInverseRegex),errorMessage:this.dataInverseRegexErrorText}}catch(t){}this.validators=a.pdsValidationRulesEngine.getValidatorsForRules(t),"dataCustomvalidate"in this&&this.validators.push({execute:this.pds.validation.getCustomValidate(this.dataCustomvalidate),condition:{element:this}})},u.prototype.setModelValue=function(t,e){var i=this.querySelector("input");return null!=i&&t!==i.modelValue&&(i.modelValue=t,!0!==e&&this.setValue(t,!0),!0)},u.prototype.setValue=function(t,e){void 0===e&&(e=!1),null==t&&(t="");var i=this.querySelector("input");null!=i&&t!==i.value&&(i.value=t),!0!==e&&this.setModelValue(t,!0)},u.prototype.setAdditionalInputAttributes=function(){if(null!=this.dataAdditionalInputAttributes){var t,e=this.querySelector("input");for(t in this.dataAdditionalInputAttributes)this.dataAdditionalInputAttributes.hasOwnProperty(t)&&e.setAttribute(t,this.dataAdditionalInputAttributes[t])}},u.prototype.setAdditionalErrorAttributes=function(){if(null!=this.dataAdditionalErrorAttributes){var t,e=this.querySelector(".pds-validation");for(t in this.dataAdditionalErrorAttributes)this.dataAdditionalErrorAttributes.hasOwnProperty(t)&&e.setAttribute(t,this.dataAdditionalErrorAttributes[t])}},u.prototype.changeInputToText=function(){this.dataInputType="text"},u.prototype.changeInputToPassword=function(){this.dataInputType="password"},u.prototype.showFieldHelp=function(t){return o.prototype.showFieldHelp.call(this,t)||"true"===this.dataShowPasswordRules&&0<this.dataShowPasswordRules.length},u.prototype.showTooltipText=function(t){return null!=this.dataTooltipText&&0<this.dataTooltipText.length},u);function u(){var t=null!==o&&o.apply(this,arguments)||this;return t.is="pds-text-widget",t.properties={name:String,dataLabelText:String,dataShowLabel:{type:String,value:null},dataIsEmail:{type:String,value:"false"},dataBadgeText:{type:String,value:"",observer:"setUpBadge"},dataHelperText:{type:String,value:null},dataFieldHelpText:String,dataPlaceholderText:String,dataTooltipText:{type:String,value:null},dataShowPasswordRules:{type:String,value:"false"},dataUseAlternateColorScheme:{type:String,value:"false"},dataIsreadonly:{type:String,value:"false",observer:"setReadonlyText"},dataIsfieldonly:{type:String,value:"false"},dataHideUnelevatedBadge:{type:String,value:"false",observer:"setUpBadge"},dataDisableInvalidBadgeElevation:{type:String,value:"false",observer:"setUpBadge"},dataRegexErrorText:String,dataInverseRegexErrorText:String,dataInputType:{type:String,value:"text"},dataIsrequired:{type:String,value:"false",observer:"setUpBadge"},disabled:{type:String,value:"false"},dataUseValidIndicator:{type:String,value:"false"},dataMinlength:String,dataMaxlength:String,dataExcludechars:String,dataRegex:String,dataRegexmodifiers:String,dataInverseRegex:String,dataInverseRegexmodifiers:String,dataCustomvalidate:String,dataAdditionalInputAttributes:Object,dataAdditionalErrorAttributes:Object,dataActionIcon:String,dataShowPasswordLink:{type:Boolean,value:!1},scopeClass:{type:String,value:null}},t}e.PdsTextWidget=r},function(t,e,i){"use strict";var n,r=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var o,s=i(27),a=i(28),u=i(10),l=i(6),c=u.pdsLogger.prependLogger(u.pdsLogger.requiresLogger("input-widgets"),"pds-file-picker-widget.ts"),r=(o=s.PdsAbstractInputWidget,r(d,o),Object.defineProperty(d.prototype,"files",{get:function(){return this.querySelector("input").files},set:function(t){this.querySelector("input").files=t},enumerable:!0,configurable:!0}),Object.defineProperty(d.prototype,"value",{get:function(){return c("getting value: "+this.fileString),this.fileString},set:function(t){c("setting value: "+t),this.fileString=t},enumerable:!0,configurable:!0}),Object.defineProperty(d.prototype,"modelValue",{get:function(){if(c("getting model value"),this.isModelValueDefined){var t=this.querySelector("input");return null!=t&&null!=t.files?(c(t.files),t.files):void 0}},set:function(t){c("setting model value"),c(t),this.setModelValue(t)&&(this.validateWidget(),this.isValid&&null!=this.myErrorField&&this.showErrorMessage(!1))},enumerable:!0,configurable:!0}),d.prototype.attached=function(){o.prototype.attached.call(this),this.isModelValueDefined=!1},d.prototype.ready=function(){o.prototype.ready.call(this),this.updateFileString()},d.prototype.chooseFile=function(){c("chooseFile() called"),this.querySelector("input").click()},d.prototype.inputChange=function(){c("input change"),this.updateFileString(),this.isModelValueDefined=!0,o.prototype.inputChange.call(this)},d.prototype.generateValidationRules=function(){var t=a.pdsValidationRulesEngine.getBasicValidationRules();t.isText=!0,t.setProperty("isRequired",this.dataIsrequired,Boolean),this.validators=a.pdsValidationRulesEngine.getValidatorsForRules(t),"dataCustomvalidate"in this&&this.validators.push({execute:this.pds.validation.getCustomValidate(this.dataCustomvalidate),condition:{element:this}})},d.prototype.updateFileString=function(){c("updating file string"),this.fileString=this.getFileString()},d.prototype.getFileString=function(){var t=this.querySelector("input");if(null!=t.files&&0<t.files.length){for(var e=[],i=0;i<t.files.length;i++)e.push(t.files[i].name);return e.join(", ")}return null},d.prototype.setValue=function(t,e){void 0===e&&(e=!1),this.value=t},d.prototype.setModelValue=function(t,e){var i=this.querySelector("input");return null!=i&&t!==i.files&&(null!=t?(i.files=t,this.isModelValueDefined=!0):(this.isModelValueDefined=!1,i.value=null),!0!==e&&this.setValue(this.getFileString(),!0),!0)},d.prototype.getMultipleAttribute=function(t){return"true"===this.multiple||"multiple"===this.multiple?"multiple":null},d);function d(){var t=null!==o&&o.apply(this,arguments)||this;return t.is="pds-file-picker-widget",t.properties={name:String,dataLabelText:String,dataButtonText:{type:String,value:l.pdsI18n.getText("pds|file picker widget|Choose...")},dataShowLabel:{type:String,value:null},dataShowSelectedFile:{type:String,value:"true"},dataBadgeText:{type:String,value:"",observer:"setUpBadge"},dataHelperText:{type:String,value:null},dataFieldHelpText:String,dataTooltipText:String,dataUseAlternateColorScheme:{type:String,value:"false"},dataIsfieldonly:{type:String,value:"false"},dataHideUnelevatedBadge:{type:String,value:"false",observer:"setUpBadge"},dataDisableInvalidBadgeElevation:{type:String,value:"false",observer:"setUpBadge"},dataIsrequired:{type:String,value:"false",observer:"setUpBadge"},dataCustomvalidate:String,accept:{type:String,value:null},multiple:{type:String,value:"false"},disabled:{type:String,value:"false"}},t.fileString=null,t}e.PdsFilePickerWidget=r},function(t,e,i){"use strict";var n,r=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var o,s=i(27),a=i(28),u=i(6),r=(o=s.PdsAbstractInputWidget,r(l,o),l.prototype.generateValidationRules=function(){var t=a.pdsValidationRulesEngine.getBasicValidationRules();t.isNumber=!0,t.setProperty("isRequired",this.dataIsrequired,Boolean),t.setProperty("isInteger",this.dataIsinteger,Boolean),t.setProperty("minLength",this.dataMinlength,Number),t.setProperty("maxLength",this.dataMaxlength,Number),t.setProperty("minValue",this.dataMinvalue,Number),t.setProperty("maxValue",this.dataMaxvalue,Number),t.setProperty("minValueExclusive",this.dataMinvalue_exclusive,Number),t.setProperty("maxValueExclusive",this.dataMaxvalue_exclusive,Number),t.setProperty("maxDecimals",this.dataMaxdecimals,Number),this.validators=a.pdsValidationRulesEngine.getValidatorsForRules(t),this.hasOwnProperty("dataCustomvalidate")&&this.validators.push({execute:this.pds.validation.getCustomValidate(this.dataCustomvalidate),condition:{element:this}})},l.prototype.setModelValue=function(t,e){var i=this.querySelector("input");return null!=i&&t!==i.modelValue&&(i.modelValue=t,!0!==e&&this.setValue(u.pdsI18n.localizeNumber(t),!0),!0)},l.prototype.setValue=function(t,e){void 0===e&&(e=!1),null==t&&(t="");var i=this.querySelector("input");null!=i&&t!==i.value&&(i.value=t),!0!==e&&this.setModelValue(u.pdsI18n.deLocalizeNumber(t),!0)},l);function l(){var t=null!==o&&o.apply(this,arguments)||this;return t.is="pds-number-widget",t.properties={name:String,dataLabelText:String,dataShowLabel:{type:String,value:null},dataBadgeText:{type:String,value:"",observer:"setUpBadge"},dataHelperText:{type:String,value:null},dataFieldHelpText:String,dataPlaceholderText:String,dataTooltipText:String,dataUseAlternateColorScheme:{type:String,value:"false"},dataRegexErrorText:String,dataIsreadonly:{type:String,value:"false",observer:"setReadonlyText"},dataIsfieldonly:{type:String,value:"false"},dataHideUnelevatedBadge:{type:String,value:"false",observer:"setUpBadge"},dataDisableInvalidBadgeElevation:{type:String,value:"false",observer:"setUpBadge"},dataIsrequired:{type:String,value:"false",observer:"setUpBadge"},disabled:{type:String,value:"false"},dataUseValidIndicator:{type:String,value:"false"},dataIsinteger:String,dataMinlength:String,dataMaxlength:String,dataMaxvalue:String,dataMinvalue:String,dataMaxdecimals:String,dataMinvalue_exclusive:String,dataMaxvalue_exclusive:String,dataCustomvalidate:String,dataActionIcon:String,scopeClass:{type:String,value:null}},t}e.PdsNumberWidget=r},function(t,e,i){"use strict";var n,r=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var o,i=i(5),r=(o=i.PdsWidget,r(s,o),Object.defineProperty(s.prototype,"modelValue",{get:function(){return this.value},set:function(t){"string"==typeof t&&(t=parseInt(String(t))),this.value=t,this.querySelector("input").value=t},enumerable:!0,configurable:!0}),s.prototype.valueChanged=function(t){this.querySelector("input").value=this.value,this.updateNumber()},s.prototype.maxChanged=function(t){this.querySelector("input").setAttribute("max",this.max),this.updateNumber()},s.prototype.attributeChanged=function(t,e){this.properties.hasOwnProperty(t)&&this.querySelector("input").setAttribute(t,this[t])},s.prototype.ready=function(){o.prototype.ready.call(this);var t=this.querySelector("input");t.setAttribute("min",this.getAttribute("min")),t.setAttribute("max",this.getAttribute("max")),t.setAttribute("value",this.value||this.getAttribute("value"));function e(t){this.value=parseInt(t.target.value),t=new Event("modelValueChange",{bubbles:!0}),this.dispatchEvent(t)}t.addEventListener("mouseup",e.bind(this)),t.addEventListener("touchend",e.bind(this)),t.addEventListener("keyup",e.bind(this)),t.addEventListener("input",this.updateNumber.bind(this)),t.addEventListener("change",this.updateNumber.bind(this))},s);function s(){var t=null!==o&&o.apply(this,arguments)||this;return t.is="pds-numbered-slider",t.properties={min:Number,max:{type:Number,observer:"maxChanged"},value:{type:Number,observer:"valueChanged"},name:String},t.updateNumber=function(){var t=this.querySelector("input"),e=parseInt(t.value),i=this.querySelector("span.pds-dot-label"),n=this.querySelector("span.pds-dot-background"),r=parseInt(this.max),t=parseInt(this.min),r=r-t,r="calc("+100*(e-t)/r+"% - "+32*(e-t)/r+"px)";n.style.left=r,i.style.left=r,i.innerText=e},t}e.PdsNumberedSlider=r},function(t,e,i){"use strict";var n,r=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var o,i=i(5),r=(o=i.PdsWidget,r(s,o),s.prototype.validateWidget=function(){return!0},s);function s(){var t=null!==o&&o.apply(this,arguments)||this;return t.is="pds-progress-bar-widget",t.properties={width:{type:Number,value:0,notify:!0,reflectToAttribute:!0},dataShowText:{type:String,value:"true"}},t}e.PdsProgressBarWidget=r},function(t,e,i){"use strict";var n,r=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var o,i=i(5),r=(o=i.PdsWidget,r(s,o),s.prototype.ready=function(){o.prototype.ready.call(this),null==this.possibleReportingTerms&&(this.possibleReportingTerms=[])},s.prototype.reportingTermChange=function(t){t.preventDefault(),this.fire("reporting-term-change",this.selectedReportingTerm)},s.prototype.setPossibleReportingTerms=function(){if(null!=this.reportingTerms){for(var t=null==this.possibleReportingTerms||this.possibleReportingTerms.length!==this.reportingTerms.length,e=[],i=0;i<this.reportingTerms.length;i++)t||this.possibleReportingTerms[i].value===this.reportingTerms[i]||(t=!0),e.push({text:this.reportingTerms[i],value:this.reportingTerms[i]});t&&(this.possibleReportingTerms=e)}},s);function s(){var t=null!==o&&o.apply(this,arguments)||this;return t.is="pds-reporting-term-selector",t.properties={reportingTerms:{value:null,type:Array,observer:"setPossibleReportingTerms"}},t}e.PdsReportingTermSelector=r},function(t,e,i){"use strict";var n,r=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var o,s=i(37),a=i(15),u=i(19),l=i(5),c=i(103),r=(o=l.PdsWidget,r(d,o),Object.defineProperty(d.prototype,"favorites",{get:function(){return this._favorites},set:function(t){this._favorites=t,this.generateFavoritesMap()},enumerable:!0,configurable:!0}),d.prototype.getId=function(t){return"search-input"+t},d.prototype.attached=function(){var t=this;o.prototype.attached.call(this),document.body.addEventListener("click",function(){t.searchQuery="",t.isFocused=!1}),this.querySelector("input").addEventListener("focus",function(){t.isFocused=!0})},d.prototype.ready=function(){o.prototype.ready.call(this),this.favorites={links:[],students:[],assignments:[]},this.favoriteMap={},this.isFocused=!1,this.navItems=[],this.navigationSearchError=!1,this.getS3MediaPath=this.pds.preferences.getS3MediaPath,this.searchQuery="",this.students=[],this.studentSearchError=!1,this.useNavIcons=!0},d.prototype.iconClickHandler=function(t){t.preventDefault(),t.stopPropagation(),this.querySelector("input").focus()},d.prototype.inputChange=function(t){this.searchQuery=t.target.value,this.debounce("pdsInputChangeFire",function(){this.fire("pdsInputChange",this.searchQuery.trim())},250)},d.prototype.getInputClass=function(t){return null!=t&&0<t.trim().length?"expanded":""},d.prototype.isSearchQueryOverLimit=function(t){return null!=t&&1<t.trim().length},d.prototype.showNoResultsMessage=function(t,e,i,n){return t instanceof Array&&e instanceof Array&&(t.length+e.length===0&&!(i||n))},d.prototype.showResultsSection=function(t,e){return 0<t.length||e},d.prototype.useSpecificNavItemIcon=function(t,e){return e&&null!=t.iconName},d.prototype.useGenericNavItemIcon=function(t,e){return e&&null==t.iconName},d.prototype.studentClickHandler=function(t){t.preventDefault(),t.stopPropagation();t=t.target,t=(t=!this.pds.utils.is(t,"a")?this.pds.utils.getClosest(t,"a"):t).dataStudent;this.fire("pdsStudentClick",t),this.searchQuery="",this.isFocused=!1},d.prototype.navItemClickHandler=function(t){t.preventDefault(),t.stopPropagation();var e=t.model.navItem;e.onUserClick?e.onUserClick(e,t):console.error("nav item clicked with no click event"),this.searchQuery="",this.isFocused=!1},d.prototype.getTooltipForNavItem=function(t,e){return null!=t.context.parentLinkName?this.pds.i18n.getText(t.name)+" ("+this.pds.i18n.getText(t.context.parentLinkName)+")":""+this.pds.i18n.getText(t.name)},d.prototype.generateFavoritesMap=function(){this.favoriteMap={};for(var t=0,e=this._favorites.links;t<e.length;t++){var i=e[t];if(null==i.context)throw"pds-search nav link has no context";this.favoriteMap[i.context.uid]=!0}for(var n=0,r=this._favorites.students;n<r.length;n++){var o=r[n];this.favoriteMap[o.uid]=!0}this.resetFavorites()},d.prototype.getFavoriteClass=function(t,e){return null!=this.favoriteMap[t.uid]?"pds-search-favorite":""},d.prototype.showFavorites=function(t,e,i){var n="true"===this.dataHasFavorites&&null!=this.favorites&&(null!=this.favorites.assignments&&0<this.favorites.assignments.length||null!=this.favorites.students&&0<this.favorites.students.length||null!=this.favorites.links&&0<this.favorites.links.length);return!this.isSearchQueryOverLimit(t)&&e&&n},d.prototype.toggleFavoriteLink=function(t){t.preventDefault(),t.stopPropagation();var e=t.model.navItem;null!=this.favoriteMap[e.context.uid]?(delete this.favoriteMap[e.context.uid],this.favorites.links=this.favorites.links.filter(function(t){return t.context.uid!==e.context.uid}),this.fire("pdsSearchRemoveFavorite",{index:"links",uid:e.context.uid})):(this.favoriteMap[e.context.uid]=!0,this.favorites.links.push(e),this.fire("pdsSearchAddFavorite",{index:"links",uid:e.context.uid})),this.resetFavorites()},d.prototype.toggleFavoriteStudent=function(t){t.preventDefault(),t.stopPropagation();var e=t.model.student;null!=this.favoriteMap[e.uid]?(delete this.favoriteMap[e.uid],this.favorites.students=this.favorites.students.filter(function(t){return e.uid!==t.uid}),this.fire("pdsSearchRemoveFavorite",{index:"students",uid:e.uid})):(this.favoriteMap[e.uid]=!0,this.favorites.students.push(e),this.fire("pdsSearchAddFavorite",{index:"students",uid:e.uid})),this.resetFavorites()},d.prototype.resetFavorites=function(){this._favorites={links:Array.from(this._favorites.links),students:Array.from(this._favorites.students),assignments:Array.from(this._favorites.assignments)}},d.prototype.handleChatNavigationEvent=function(t){t.preventDefault();t=t.detail,t={type:"COMMUNICATION_NOTIFICATION",shouldNavigate:!0,topicUid:t.topicUid,threadOwnerUid:t.ownerUid,threadType:t.threadType};this.fire("pdsNotificationClick",t)},d.prototype.emitClickEvent=function(t){var e=this;t.preventDefault(),t.stopPropagation(),null!=this.currentUserUid&&(this.chatTopic=t.model.student,this.sectionUids=this.chatTopic.sectionEnrollments.map(function(t){return t.sectionUid}),t={name:this.chatTopic.firstName+" "+this.chatTopic.lastName,threadType:s.ChatThreadTypeEnum.STUDENT_TEACHER,ownerUid:this.currentUserUid,ownerUserType:"TEACHER",topicUid:this.chatTopic.uid,participants:[{userUid:this.chatTopic.uid,userType:"STUDENT"},{userUid:this.currentUserUid,userType:"TEACHER"}]},this._chatThreadService.fetchTopicThread(this.pds.preferences.host,t).subscribe(function(t){e.isParentContactInfo=e.checkForParentContactInfo(e.chatTopic.uid),e.quickMessageDialogThreadRI=t,e.isQuickMessageDialogOpen=!0,setTimeout(function(){e.querySelector("pds-chat-quick-message").addEventListener("pdsRemoveDialog",function(){e.isQuickMessageDialogOpen=!1})})}))},d.prototype.getTopicUserName=function(){return this.chatTopic.firstName+" "+this.chatTopic.lastName},d.prototype.handleChatTabChange=function(t){var e=this,i={name:this.quickMessageDialogThreadRI.name,ownerUid:this.quickMessageDialogThreadRI.ownerUid,ownerUserType:this.quickMessageDialogThreadRI.ownerUserType,topicUid:this.quickMessageDialogThreadRI.topicUid},t="STUDENT_TAB"===t.detail?a.of([{userUid:this.quickMessageDialogThreadRI.topicUid,userType:"STUDENT"},{userUid:this.quickMessageDialogThreadRI.ownerUid,userType:"TEACHER"}]).pipe(u.mergeMap(function(t){return i.participants=t,i.threadType=s.ChatThreadTypeEnum.STUDENT_TEACHER,e._chatThreadService.fetchTopicThread(e.pds.preferences.host,i)})):this._chatThreadService.fetchParentParticipants(this.pds.preferences.host,this.quickMessageDialogThreadRI.topicUid).pipe(u.mergeMap(function(t){return t.push({userUid:e.quickMessageDialogThreadRI.ownerUid,userType:"TEACHER"}),i.participants=t,i.threadType=s.ChatThreadTypeEnum.TEACHER_PARENT,e._chatThreadService.fetchTopicThread(e.pds.preferences.host,i)}));t.subscribe(function(t){e.quickMessageDialogThreadRI=t,setTimeout(function(){var t=e.querySelector(".pds-chat-message-container");t.scrollTop=t.scrollHeight})},function(t){console.warn(t)})},d.prototype.checkForParentContactInfo=function(e){return this.studentsWithParentsContactInfo.some(function(t){return t.studentUid===e})},d);function d(){var t=null!==o&&o.apply(this,arguments)||this;return t.is="pds-search",t.isFocused=!1,t.properties={dataHasFavorites:{type:String,value:"false"},id:{type:String,value:""}},t._chatThreadService=new c.ChatThreadService,t}e.PdsSearch=r},function(t,e,i){"use strict";var n,r=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var o,i=i(5),s="http://www.w3.org/1999/xlink",a={"behavior-arrow-reverse":"/img/icons/behavior","behavior-checkmark":"/img/icons/behavior","behavior-crown":"/img/icons/behavior","behavior-cup":"/img/icons/behavior","behavior-gift":"/img/icons/behavior","behavior-hammer":"/img/icons/behavior","behavior-hand-heart":"/img/icons/behavior","behavior-hands":"/img/icons/behavior","behavior-heart":"/img/icons/behavior","behavior-ribbon":"/img/icons/behavior","behavior-smile":"/img/icons/behavior","behavior-star":"/img/icons/behavior","behavior-sun":"/img/icons/behavior","behavior-thought-bubble":"/img/icons/behavior","behavior-thumbs-up":"/img/icons/behavior"},u={edit:"pencil","star-f":"star","star-s":"star","ask-question":"hand","attachment-f":"paperclip",audio:"speaker","bookmark-add":"bookmark-plus","bookmark-delete":"bookmark-minus","calculator-f":"calculator","calendar-f":"calendar","calendar-s":"calendar",calendar2:"calendar","calendar-events":"calendar-star","calendar-day":"calendar-day-1","camera-f":"camera","checkmark-circle":"checkmark-alt","checkmark-square":"checkmark-alt2","dashboard-s":"dashboard","dashboard-f":"dashboard","attendance-f":"desk","download-s":"download",erase:"backspace","filter-remove":"filter-x",grading:"calculator-file",more:"ellipsis","options-f":"ellipsis","pen-f":"pencil-note",logout:"signout",standards:"target","trash-s":"trash","caret-down-square":"caret-square-down","pointer-up":"chevron-up","pointer-up-2":"chevron-up","pointer-right":"chevron-right","pointer-down":"chevron-down","pointer-down-2":"chevron-down","pointer-up-left":"chevron-left","pointer-left-circle-s":"chevron-left","pointer-left":"chevron-left","pointer-right-circle-s":"chevron-right","drop-down-arrow":"chevron-down","arrow-to-bottom":"arrow-down-line","arrow-to-top":"arrow-up-line",join:"arrows-inward",split:"arrows-outward","arrow-horizontal":"arrows-horizontal","arrow-vertical":"arrows-vertical",expand:"arrows-expand","arrow-collapse":"arrows-collapse","arrow-expand":"arrows-expand",collapse:"arrows-collapse",move:"arrows-move","left-right-arrows-f":"arrows-left-right","arrows-up-down":"arrows-down-up","arrow-split":"arrows-split",disaggregate:"arrows-apart","arrow-circle-down":"behavior-circle-down","arrow-circle-up":"behavior-circle-up","behavior-badge-1":"behavior-sun","behavior-badge-2":"behavior-cup","behavior-badge-3":"behavior-gift","behavior-badge-4":"behavior-ribbon","behavior-badge-5":"behavior-crown","behavior-badge-6":"behavior-heart","behavior-badge-7":"behavior-checkmark","behavior-badge-8":"behavior-thumbs-up","behavior-badge-9":"behavior-star","behavior-badge-10":"behavior-smile","behavior-collaborate":"behavior-thought-bubble","behavior-collaborative\t":"behavior-thought-bubble","behavior-helpful":"behavior-hands","behavior-kind":"behavior-hand-heart","behavior-hardworking":"behavior-hammer","behavior-hardwork":"behavior-hammer","behavior-turned-that-around":"behavior-arrow-reverse","behavior-turn-that-around":"behavior-arrow-reverse",comments:"message-bubble","communication-s":"message-bubbles","message-bubbles-f":"message-bubbles",discussion:"message-bubbles-stack","message-fail":"message-bubble-fail","checkmark-circle-f":"checkmark-alt","checkmark-circle-s":"checkmark-alt","circle-alert-s":"exclamation","circle-2":"circle","circle-subtract":"minus-alt","close-s":"x-alt",disable:"backslash","circle-slash":"slash-alt","help-f":"help","help-s":"help","question-o":"help","question-circle-s":"help","plus-f":"plus-alt","non-editable":"pencil-ban","non editable":"pencil-ban","plus-s":"plus-alt","color-levels-1":"color-grid","color-levels-2":"color-grid-greyscale","assessment-preview":"clipboard-magnifing-glass","assessment-results":"clipboard-checkmark",assessment:"clipboard","assignment-add":"page-plus","assignment-f":"page","bubble-sheet":"page-dots-pencil",draft:"document-pencil",evaluation:"clipboard-checkmark-empty","key-type-assessment":"clipboard-key","note-pad-f":"note",plan:"clipboard-folder",publish:"document-checkmark",report:"document-list",roster:"document-people","scan-compatible":"page-dots-checkmark","mail-group":"envelopes",message:"envelope",unread:"envelope-notification","settings-s":"gear","settings-f":"gear","settings-bottom-f":"gear",process:"gears",unprocess:"gears-x","bullet-list":"list","list-view":"list","app-switcher":"tiles-9","score-inspector":"number-pad",locker:"pad-lock",unlock:"lock-open",security:"lock",zoom:"zoom-in","fast-forward":"media-fast-forward","fast-rewind":"media-rewind",listen:"media-listen","media-controls-pause":"media-pause","media-controls-play":"media-play",rewind:"media-rewind","skip-backwards":"media-skip-backward","skip-forward":"media-skip-forward",stop:"media-stop","video-f":"media-video","close-circle-f":"x-alt","close-circle-s":"x-alt",complete:"proctoring-complete",class:"computer-layout","admin-school":"school-gear","admin-system":"user-gear","dropped-student-f":"user-desk-minus","empty-student":"user-desk","notifications-student":"user-desk","group-add":"users-group-plus",group:"users-group",meeting:"users-message-bubbles",members:"users","person-card-s":"user-card","student-added":"user-desk-plus","student-f":"user-desk","student-group-private":"users-desks","student-group-published":"users-desks-checkmark",teacher:"user-board","user-add":"user-plus","notifications-parent":"user-shadow","user-f":"user","user-s":"user","user-remove":"user-x",onenote:"MS-onenote",Google:"google",excel:"xls","alert-balance-f":"dollar-sign","alert-birthday-s":"cake","alert-discipline-s":"scale","alert-medical":"medical","alert-other-s":"exclamation","alert-parent-s":"user-shadow",alert:"bell",announcement:"megaphone","bar-graph-f":"chart-alt","book-f":"book","chart-kpi":"chart-upward","clock-add":"clock-plus","clock-late":"clock-alt","clock-s":"clock","external-link":"external",generic:"stack","generic-f":"stack","global-f":"globe","global-s":"globe",view:"eye",hide:"eye-slash",play:"controller",products:"box",repository:"box-alt","rocket-f":"rocket",rubric:"tiles-8",shop:"basket"},r=(o=i.PdsWidget,r(l,o),l.prototype.attached=function(){o.prototype.attached.call(this)},l.prototype._nameObserver=function(){var t,e=this.name;u.hasOwnProperty(e)&&(e=u[e]),a.hasOwnProperty(e)?(this.path=a[e],this.isSvgIcon=!0,this.querySelector("svg").style.display="none"):null!=(t=this.querySelectorAll("use"))&&2===t.length&&(t[0].setAttributeNS(s,"xlink:href","#"+e),t[1].setAttributeNS(s,"xlink:href",this.pds.svgSpritePath+"#"+e))},l);function l(){var t=null!==o&&o.apply(this,arguments)||this;return t.is="pds-icon",t.properties={name:{isSvgIcon:{isSvgIcon:String,value:""},observer:"_nameObserver"}},t}e.PdsIcon=r},function(t,e,i){"use strict";var n,r=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var o,s=i(119),a=i(10),i=i(66),u=a.pdsLogger.prependLogger(a.pdsLogger.requiresLogger("help-menu"),"pds-help-menu.ts"),r=(o=i.SinglePopoverWidget,r(l,o),l.prototype.attached=function(){u("attached() called"),o.prototype.attached.call(this),this.helpLinkService=new s.HelpLinkService,this.restCallArgumentsUpdated()},l.prototype.restCallArgumentsUpdated=function(){u("attempting to make REST call"),null!=this.userDistrictUID&&null!=this.userType&&(u("kicking off REST call to fetch the help link service"),this.fetchHelpLinks())},l.prototype.fetchHelpLinks=function(){var e=this;null!=this.helpLinkService&&this.helpLinkService.getNavLinks(this.userDistrictUID,this.userType,["HELP"],this.pds.preferences.host).subscribe(function(t){u("response returned from REST call."),e.userHelpLinks=t},function(t){u("no valid response from the REST call."),null!=e.userHelpLinks&&0===e.userHelpLinks.length&&(e.userHelpLinks=null)})},l.prototype.isRequiredDataDefined=function(){return null!=this.userHelpLinks},l.prototype.getPopoverTriggerSelector=function(){return".pds-help-menu-trigger"},l.prototype.getPopoverSelector=function(){return".pds-help-menu-popover"},l.prototype.log=function(t){for(var e=[],i=1;i<arguments.length;i++)e[i-1]=arguments[i];u.apply(window,arguments)},l.prototype.getDefaultAlignment=function(){return"bottom-end"},l);function l(){var t=null!==o&&o.apply(this,arguments)||this;return t.is="pds-help-menu",t.properties={userHelpLinks:{type:Array,value:[]},userType:{type:String,value:null,observer:"restCallArgumentsUpdated"},userDistrictUID:{type:String,value:null,observer:"restCallArgumentsUpdated"}},t}e.PdsHelpMenu=r},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(9),r=i(6),i=(o.prototype.setPanelTrigger=function(t){this.currentPopoverTriggerElement=t},o.prototype.setPanelContainer=function(t){this.panelContainerElement=t},o.prototype.registerEventListenerOnPanel=function(t){null!=this.panelContainerElement&&this.panelContainerElement.addEventListener(t,this.panelContainerTabInterceptFunction)},o.prototype.deregisterEventListenerOnPanel=function(t){null!=this.panelContainerElement&&this.panelContainerElement.removeEventListener(t,this.panelContainerTabInterceptFunction)},o.prototype.setHidePanelCallback=function(t){this.hidePanelFunction=t},o.prototype.addRequiredAccessibilityLabelsToChildTabbableElements=function(){var t,e,i=[];2<=(i=null!=this.panelContainerElement?Array.prototype.slice.call(n.pdsUtils.getAllTabbableElements(this.panelContainerElement)):i).length?((e=i[0]).setAttribute("aria-label",e.innerText+". "+r.pdsI18n.getText("pds|popover|Backwards From First Element")),(t=i[i.length-1]).setAttribute("aria-label",t.innerText+". "+r.pdsI18n.getText("pds|popover|Forwards From Last Element"))):1===i.length&&(e=i[0]).setAttribute("aria-label",e.innerText+". "+r.pdsI18n.getText("pds|popover|Navigating From Single Element"))},o.prototype.hidePanel=function(){null!=this.hidePanelFunction&&this.hidePanelFunction()},o);function o(){var i=this;this.panelContainerTabInterceptFunction=function(t){var e=n.pdsUtils.getAllTabbableElements(i.panelContainerElement);9===t.keyCode&&((t.shiftKey||t.target!==e[e.length-1])&&(!t.shiftKey||t.target!==i.panelContainerElement&&t.target!==e[0])||(t.preventDefault(),i.hidePanel(),null!=i.currentPopoverTriggerElement&&i.currentPopoverTriggerElement.focus()))}}e.PopoverAccessibilityController=i},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=(r.getPopperConfiguration=function(t){var e={arrow:(t=void 0===t?{showArrow:!1,defaultPlacement:"bottom-start",trigger:"mouseenter focus"}:t).showArrow,placement:t.defaultPlacement,trigger:t.trigger,performance:!0};return r.enhanceBasePopperConfigurationOption(e,t),e},r.enhanceBasePopperConfigurationOption=function(t,e){null!=e.beforeShownCallback&&(t["onShow"]=e.beforeShownCallback),null!=e.onShownCallback&&(t["onShown"]=e.onShownCallback),null!=e.transitionDuration&&(t["duration"]=e.transitionDuration),null!=e.onHiddenCallback&&(t["onHidden"]=e.onHiddenCallback),null!=e.stickToReference&&(t["sticky"]=e.stickToReference),null!=e.zIndex&&(t["zIndex"]=e.zIndex),null!=e.appendTo&&(t["appendTo"]=e.appendTo),null!=e.onDisplayAnimation&&(t["animation"]=e.onDisplayAnimation),null!=e.arrowSizeTransform&&(t["arrowTransform"]=e.arrowSizeTransform),null!=e.allowHTMLTitle&&(t["allowTitleHTML"]=e.allowHTMLTitle),null!=e.hasDynamicTitle&&(t["dynamicTitle"]=e.hasDynamicTitle),null!=e.customStyleClassName&&(t["theme"]=e.customStyleClassName),null!=e.htmlReference&&(t["html"]=e.htmlReference),null!=e.popperJsOptions&&(t["popperOptions"]=e.popperJsOptions),null!=e.interactive&&(t["interactive"]=e.interactive)},r);function r(){}e.PopperConfiguration=n},function(t,e,i){"use strict";var n,r=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var o,i=i(5),r=(o=i.PdsWidget,r(s,o),s.prototype.ready=function(){o.prototype.ready.call(this),this.isGlobalCreateMenuInSetupMode=!1,this.isGlobalCreateMenuShowing=!1},s.prototype.attached=function(){var n=this;o.prototype.attached.call(this),this.clickedOutsideDropDown=function(t){var e,i;n.isGlobalCreateMenuShowing&&(e=n.querySelector(".pds-global-create-menu-drop-down"),i=n.querySelector("#global-create-menu-link"),null==e||e.contains(t.target)||i.contains(t.target)||n.hideGlobalCreateMenu())}},s.prototype.getAriaLabelForMenuItem=function(t,e,i,n){n=n?n.name:"";return e?this.translate(t,"pds|global create menu widget|Set xx xx to default action",n,i.name):this.translate(t,"pds|global create menu widget|Navigate to xx xx",n,i.name)},s.prototype.getAriaLabelForPlusButton=function(t,e,i,n){if(null==n)return this.translate(t,"pds|global create menu widget|View global create menu default action setup");var r=void 0;if(null!=n.context)for(var o=0,s=i;o<s.length;o++){var a=s[o];if(null!=a.children)for(var u=0,l=a.children;u<l.length;u++){var c=l[u];null!=c.context&&c.context.uid===n.context.uid&&(r=a)}}return this.getAriaLabelForMenuItem(t,!1,n,r)},s.prototype.getAriaLabelForCaretButton=function(t,e,i){return e?this.translate(t,"pds|global create menu widget|Close global create menu"):null==i?this.translate(t,"pds|global create menu widget|View global create menu default action setup"):this.translate(t,"pds|global create menu widget|Open global create menu")},s.prototype.getIconName=function(t){return null==t.iconName||""===t.iconName?"generic-f":t.iconName},s.prototype.isDefault=function(t,e){return null!=e&&t.id===e.id},s.prototype.toggleGlobalCreateMenuDisplay=function(t){t.preventDefault(),t.stopImmediatePropagation(),this.isGlobalCreateMenuShowing?this.hideGlobalCreateMenu():this.showGlobalCreateMenu()},s.prototype.toggleGlobalCreateMenuSetupMode=function(t){this.isGlobalCreateMenuInSetupMode=!this.isGlobalCreateMenuInSetupMode},s.prototype.clickMenuItem=function(t){this.isGlobalCreateMenuInSetupMode?this.setDefault(t):this.navigateToMenuItem(t)},s.prototype.navigateToMenuItem=function(t){var e;null!=this.beforeNavigateFunction&&this.beforeNavigateFunction(t),t.preventDefault(),t.stopImmediatePropagation(),null==(e=t&&t.model?t.model.menuItem:this.defaultMenuItem)?this.isGlobalCreateMenuShowing?this.isGlobalCreateMenuInSetupMode=!0:this.showGlobalCreateMenu():e.onUserClick?(e.onUserClick(e,t),this.isGlobalCreateMenuShowing&&this.hideGlobalCreateMenu()):console.error("menu item clicked with no click event")},s.prototype.setDefault=function(t){t.preventDefault(),t.stopImmediatePropagation(),this.defaultMenuItem=t.model.menuItem,this.fire("pdsDefaultSet",t.model.menuItem)},s.prototype.hideGlobalCreateMenu=function(){this.isGlobalCreateMenuShowing=!1,window.removeEventListener("click",this.clickedOutsideDropDown)},s.prototype.showGlobalCreateMenu=function(){this.isGlobalCreateMenuShowing=!0,this.isGlobalCreateMenuInSetupMode=null==this.defaultMenuItem,window.addEventListener("click",this.clickedOutsideDropDown,!0)},s);function s(){var t=null!==o&&o.apply(this,arguments)||this;return t.is="pds-global-create-menu",t.isGlobalCreateMenuInSetupMode=!1,t.isGlobalCreateMenuShowing=!1,t}e.PdsGlobalCreateMenu=r},function(t,e,i){"use strict";var n,r=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var o,i=i(5),r=(o=i.PdsWidget,r(s,o),s.prototype.attached=function(){""!==this.dataAnnounceText.trim()&&this.pds.accessibility.announceViaScreenReader(this.dataAnnounceText)},s.prototype.detached=function(){o.prototype.detached.call(this),""!==this.dataCompleteLoading.trim()&&this.pds.accessibility.announceViaScreenReader(this.dataCompleteLoading)},s.prototype.getLoaderClassName=function(t){switch(t){case"small":return"pds-loader-sm";case"large":return"pds-loader-lg";case"medium":default:return"pds-loader"}},s);function s(){var t=null!==o&&o.apply(this,arguments)||this;return t.is="pds-loader",t.properties={dataSize:{type:String,value:"medium"},dataAnnounceText:{type:String,value:""},dataCompleteLoading:{type:String,value:""}},t}e.PdsLoader=r},function(t,e,i){"use strict";var n,r=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var o,s=i(5),a=i(6),r=(o=s.PdsWidget,r(u,o),u.prototype.getColorClass=function(){return null==this.dataColor?"pds-default-color":(this.dataColor.startsWith("pds-")||(this.dataColor="pds-"+this.dataColor),"pds-default-color"===this.dataColor||"pds-green"===this.dataColor||"pds-orange"===this.dataColor||"pds-red"===this.dataColor||"pds-blue"===this.dataColor?this.dataColor:"pds-default-color")},u.prototype.getSizeClass=function(){return null==this.dataSize?"pds-default-size":(this.dataSize.startsWith("pds-")||(this.dataSize="pds-"+this.dataSize),"pds-default-size"===this.dataSize||"pds-small"===this.dataSize||"pds-medium"===this.dataSize?this.dataSize:"pds-default-size")},u.prototype.isLogicalZero=function(t){return isNaN(t)||null==t||t<=0},u.prototype.isComplete=function(){return this.dataPercent?100<=this.dataPercent:!this.isLogicalZero(this.dataMax)&&!this.isLogicalZero(this.dataValue)&&this.dataValue>=this.dataMax},u.prototype.getCompleteMessage=function(){if(null!=this.dataPercent)return a.pdsI18n.getText("pds|circular progress|xx% Complete",{percent:this.dataPercent});var t=0,e=0;return null!=this.dataValue&&0<this.dataValue&&(t=this.dataValue),null!=this.dataMax&&0<this.dataMax&&(e=this.dataMax),a.pdsI18n.getText("pds|circular progress|xx of xx",{value:t,max:e})},u.prototype.getSafePercent=function(){return this.dataPercent?(this.dataPercent<0&&(this.dataPercent=0),100<this.dataPercent&&(this.dataPercent=100),Math.round(this.dataPercent)):this.isLogicalZero(this.dataMax)||this.isLogicalZero(this.dataValue)?0:this.dataValue>=this.dataMax?100:Math.round(this.dataValue/this.dataMax*100)},u);function u(){var t=null!==o&&o.apply(this,arguments)||this;return t.is="pds-circular-progress",t.properties={dataValue:{type:Number,value:0},dataMax:{type:Number,value:0},dataPercent:{type:Number,value:null},dataColor:{type:String,value:"pds-default-color"},dataSize:{type:String,value:"pds-default-size"},bgcolor:{type:String,value:"white"}},t}e.PdsCircularProgress=r},function(t,e,i){"use strict";var n,r=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var o,s=i(27),a=i(28),i=i(10),u=i.pdsLogger.prependLogger(i.pdsLogger.requiresLogger("input-widgets"),"pds-radio-button-widget.ts"),r=(o=s.PdsAbstractInputWidget,r(l,o),l.prototype.generateValidationRules=function(){var t=a.pdsValidationRulesEngine.getBasicValidationRules();t.isText=!0,t.setProperty("isRequired",this.dataIsrequired,Boolean),this.validators=a.pdsValidationRulesEngine.getValidatorsForRules(t),"dataCustomvalidate"in this&&this.validators.push({execute:this.pds.validation.getCustomValidate(this.dataCustomvalidate),condition:{element:this}})},l.prototype.inputSelector=function(){var t=this.querySelector("input:checked");return{value:t&&t.value||"",modelValue:this._modelValue}},l.prototype.redrawOptions=function(){u("Redrawing the options for "+this.name+"."),this.redraw("options"),this.setValue(this.modelValue,!0)},l.prototype.setModelValue=function(t,e){return void 0===e&&(e=!1),t!==this._modelValue&&(u("Setting "+this.name+"'s model value from '"+this._modelValue+"' to '"+t+"'."),this._modelValue=t,!0!==e&&this.setValue(t,!0),!0)},l.prototype.setValue=function(t,e){void 0===e&&(e=!1),null==t&&(t="");var i=this.querySelectorAll("input");if(null!=i)for(var n=0;n<i.length;n++)i[n].checked=i[n].value===t;!0!==e&&this.setModelValue(t,!0)},l.prototype.clearRadioButton=function(){this.setModelValue(""),this.inputChange()},l.prototype.renderInputs=function(){var e=this,t=this.querySelector("ul");t.innerHTML="";var i=0;if(null!=this.options)for(var n=0,r=this.options;n<r.length;n++){var o=r[n],s=d("li"),a=d("label"),u=d("input"),l=d("div"),c=d("p");a.setAttribute("for",this.name+"-option-"+i),u.setAttribute("id",this.name+"-option-"+i),u.setAttribute("type","radio"),u.setAttribute("name",this.name),u.setAttribute("value",o.value),u.addEventListener("blur",function(t){e.focusLost(t)}),u.addEventListener("change",function(t){e.inputChange()}),u.required="true"===this.dataIsrequired,u.disabled="disabled"===this.isDisabled(),u.checked=this._modelValue===o.value,l.classList.add("pds-label-text"),l.textContent=o.text,c.classList.add("pds-help-text"),c.textContent=o.helperText||null,t.appendChild(s),s.appendChild(a),s.appendChild(c),a.appendChild(u),a.appendChild(l),i++}},l.prototype.updateDisabled=function(){var t=this.querySelectorAll("input");if(null!=t)for(var e=0;e<t.length;e++)t[e].disabled="disabled"===this.isDisabled()},l.prototype.inputChange=function(){this.errorPresentWhenBlurOccurred=!0,o.prototype.inputChange.call(this)},l.prototype.validateWidget=function(t){return void 0===t&&(t=!1),o.prototype.validateWidget.call(this,!0)},l);function l(){var t=null!==o&&o.apply(this,arguments)||this;return t.is="pds-radio-button-widget",t.options=null,t.properties={name:String,dataLabelText:String,dataShowLabel:{type:String,value:null},dataBadgeText:{type:String,value:"",observer:"setUpBadge"},dataHelperText:{type:String,value:null},dataTooltipText:String,dataUseAlternateColorScheme:{type:String,value:"false"},disabled:{type:String,observer:"updateDisabled",value:"false"},dataIsfieldonly:{type:String,value:"false"},dataHideUnelevatedBadge:{type:String,value:"false",observer:"setUpBadge"},dataDisableInvalidBadgeElevation:{type:String,value:"false",observer:"setUpBadge"},dataIsrequired:{type:String,value:"false",observer:"setUpBadge"},dataUseValidIndicator:{type:String,value:"false"},dataCustomvalidate:String,dataShowClear:{type:String,value:"false"},options:{type:Array,observer:"renderInputs"}},t._modelValue=void 0,t}function d(t){t=document.createElement(t);return t.classList.add("pds-radio-button-widget"),t}e.PdsRadioButtonWidget=r},function(t,e,i){"use strict";var n,r=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var o,s=i(27),a=i(202),u=i(28),l=i(9),p=i(6),i=i(10),h=i.pdsLogger.prependLogger(i.pdsLogger.requiresLogger("input-widgets"),"pds-rich-text-editor.ts");function c(t){var e;null!=t&&null!=t.data&&"link"===t.data.name&&null!=t.data.definition&&(null!=(e=null!=(e=t.data.definition.getContents("info"))?e.get("protocol"):null)&&null!=e.items&&(e.items=e.items.filter(function(t){return t&&""!==t[1]})),null!=(t=null!=(t=t.data.definition.getContents("target"))?t.get("linkTargetType"):null)&&(t.default="_blank"))}e.handleCKEditorDialogDefinitionEvent=c,"undefined"!=typeof CKEDITOR&&null!=CKEDITOR&&(CKEDITOR.on("dialogDefinition",c),o=CKEDITOR.plugins.setLang,CKEDITOR.plugins.setLang=function(t,e,i){p.pdsI18n.updateCKEditorMessageKeys(i,"CKEDITOR.plugins.get('wordcount').langEntries.en"),o.apply(CKEDITOR.plugins,arguments)});var d,r=(d=s.PdsAbstractInputWidget,r(f,d),f.prototype.reinitializeEditor=function(){h("reinitializeEditor() called"),!0===this.isAttached&&(this.initializeEditor(this.dataIsAdvanced,this.dataNoToolbar,this.dataCollapsibleToolbar,this.dataToolbarStartupExpanded,this.dataHideBottombar,this.dataEnableInfoNotification,this.dataShowCharcount,this.dataAutoFocus,this.dataShowSource,this.dataAutoParagraph),this.setUpBadge())},f.prototype.generateValidationRules=function(){var t=u.pdsValidationRulesEngine.getBasicValidationRules();t.isRequired="true"===this.dataIsrequired,t.isText=!0,t.setProperty("maxLength",this.dataMaxlength,Number),this.validators=u.pdsValidationRulesEngine.getValidatorsForRules(t),this.hasOwnProperty("dataCustomvalidate")&&this.validators.push({execute:this.pds.validation.getCustomValidate(this.dataCustomvalidate),condition:{element:this}})},f.prototype.showBadge=function(t){return null!=t&&0<t.length},f.prototype.getConfiguration=function(t){h("getConfiguration() called");t=a.RichTextEditorConfiguration.getConfiguration(t);return t.wordcount.maxCharCount=this.dataMaxlength,t},f.prototype.attached=function(){h("attached() called"),d.prototype.attached.call(this),this.isAttached=!0,this.initializeEditor(this.dataIsAdvanced,this.dataNoToolbar,this.dataCollapsibleToolbar,this.dataToolbarStartupExpanded,this.dataHideBottombar,this.dataEnableInfoNotification,this.dataShowCharcount,this.dataAutoFocus,this.dataShowSource,this.dataAutoParagraph)},f.prototype.detached=function(){d.prototype.detached.call(this),this.isAttached=!1},f.prototype.onEditorChange=function(){h("onEditorChange() called"),this.ignoreEditorChange?this.ignoreEditorChange=!0:(this.inputChange(),this.validateWidget(!0),this.dispatchInputEvent(this.querySelector("#"+this.name+"-rich-text-editor")))},f.prototype.initializeEditor=function(t,e,i,n,r,o,s,a,u,l){var c,d=this;this.isAttached&&this.areStrings(Array.from(arguments))&&(c="true"===o,u={isReadOnly:"true"===this.dataIsreadonly,showToolbar:"true"!==e,collapsibleToolbar:"true"===i,toolbarStartupExpanded:"true"===n,showBottomBar:"true"!==r,showCharCount:"true"===s&&"true"!==r,useAdvancedMode:"true"===t,startupFocus:"true"===a,showSource:"true"===u,autoParagraph:"true"===l},l=this.getConfiguration(u),null!=this.editor?(u=this.modelValue,this.editor.focusManager.blur(!0),this.editor.destroy(!0),this.editor=CKEDITOR.replace(this.name+"-rich-text-editor",l),this.editor.setData(u)):(this.editor=CKEDITOR.replace(this.name+"-rich-text-editor",l),this.editor.setData(this.initValue),delete this.initValue),this.editor.on("mode",function(){var t;"source"===d.editor.mode&&((t=d.editor.editable()).attachListener(t,"blur",function(){d.focusLost(new Event("blur"))}),t.attachListener(t,"input",function(){d.onEditorChange()}))}),this.editor.on("change",function(){d.onEditorChange()}),this.editor.on("instanceReady",function(){d.ignoreEditorChange=!1}),this.editor.on("blur",function(){d.focusLost(new Event("blur"))}),this.editor.on("focus",function(){d.dispatchEvent(new Event("focus"))}),this.editor.on("langLoaded",function(){h("ck editor lang loaded"),p.pdsI18n.updateCKEditorMessageKeys(CKEDITOR.lang.en,"CKEDITOR.lang.en")}),this.editor.on("notificationShow",function(t){c||"info"!==t.data.notification.type||t.cancel()}),this.editor.on("notificationUpdate",function(t){c||"info"!==t.data.notification.type||t.cancel()}))},Object.defineProperty(f.prototype,"value",{get:function(){if(null!=this.editor)return"true"===this.dataPlainTextOnly?l.pdsUtils.stripHtml(this.editor.getData()):this.editor.getData()},enumerable:!0,configurable:!0}),Object.defineProperty(f.prototype,"modelValue",{get:function(){return null!=this.editor?"true"===this.dataPlainTextOnly?l.pdsUtils.stripHtml(this.editor.getData()):this.editor.getData():this.initValue},set:function(t){h("set modelValue called. value: "+t),null==this.editor&&(this.initValue=t),this.ignoreEditorChange=!0,this.setModelValue(t)&&this.validateWidget()},enumerable:!0,configurable:!0}),f.prototype.setValue=function(t,e){h("setValue called. value: "+t+" skip: "+(e=void 0===e?!1:e)),null==t&&(t=""),null!=this.editor&&t!==("true"===this.dataPlainTextOnly?l.pdsUtils.stripHtml(this.editor.getData()):this.editor.getData())&&this.editor.setData(t),!0!==e&&this.setModelValue(t,!0)},f.prototype.setModelValue=function(t,e){var i=this;if(h("setModelValue called. modelValue: "+t+" skip: "+e),null==this.editor||t===("true"===this.dataPlainTextOnly?l.pdsUtils.stripHtml(this.editor.getData()):this.editor.getData()))return this.ignoreEditorChange=!1;try{this.editor.setData(t,{callback:function(){i.ignoreEditorChange=!1}})}catch(t){this.ignoreEditorChange=!1}return!0!==e&&this.setValue(t,!0),!0},f.prototype.areStrings=function(t){for(var e=0,i=t;e<i.length;e++)if("string"!=typeof i[e])return!1;return!0},f);function f(){var t=null!==d&&d.apply(this,arguments)||this;return t.is="pds-rich-text-editor",t.properties={dataLabelText:String,dataShowLabel:{type:String,value:null},name:{type:String,value:""},dataBadgeText:{type:String,value:"",observer:"setUpBadge"},dataHideUnelevatedBadge:{type:String,value:"false",observer:"setUpBadge"},dataDisableInvalidBadgeElevation:{type:String,value:"false",observer:"setUpBadge"},dataIsrequired:{type:String,value:"false",observer:"setUpBadge"},dataMaxlength:{type:String,value:"500",observer:"reinitializeEditor"},dataIsreadonly:String,dataNoToolbar:{type:String,value:"false"},dataIsAdvanced:{type:String,value:"false",observer:"reinitializeEditor"},dataCollapsibleToolbar:{type:String,value:"false"},dataHelperText:{type:String,value:null},dataTooltipText:String,dataUseAlternateColorScheme:{type:String,value:"false"},dataToolbarStartupExpanded:{type:String,value:"true"},dataHideBottombar:{type:String,value:"false"},dataEnableInfoNotification:{type:String,value:"false"},dataShowCharcount:{type:String,value:"true"},dataAutoFocus:{type:String,value:"false"},dataAutoParagraph:{type:String,value:"true"},dataShowSource:{type:String,value:"false"},dataPlainTextOnly:{type:String,value:"false"}},t}e.PdsRichTextEditor=r},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(43),r=i(105),i=(o.getConfiguration=function(t){void 0===t&&(t={isReadOnly:!1,showToolbar:!0,collapsibleToolbar:!1,toolbarStartupExpanded:!0,showBottomBar:!0,showCharCount:!0,useAdvancedMode:!1,startupFocus:!1,autoParagraph:!1,showSource:!1});var e,i={toolbar:[{name:"emptyToolbar",items:[]}],customConfig:"",extraPlugins:"justify,font,colorbutton,autoembed,embedsemantic,image2,wordcount",removePlugins:"image",wordcount:{showParagraphs:!1,showWordCount:!1,showCharCount:!1,countHTML:!1,maxCharCount:-1},bodyClass:"article-editor",format_tags:"p;h1;h2;h3;pre",removeDialogTabs:"image:advanced;link:advanced",readOnly:!1,allowedContent:!1,contentsCss:[CKEDITOR.getUrl("contents.css"),(/^http/.test(r.versionAndPaths.cdnAssetPath)?"":window.location.origin+"/")+r.versionAndPaths.cdnAssetPath+"/css/ckeditor-style-overrides.css"],startupFocus:!1,disableNativeSpellChecker:!1,linkShowTargetTab:!1,fontSize_defaultLabel:"16",autoParagraph:!0,language:"en"};return i.autoParagraph=t.autoParagraph,t.showBottomBar||(i.removePlugins+=",elementspath",i.resize_enabled=!1),t.startupFocus&&(i.startupFocus=!0),t.isReadOnly?(i.readOnly=!0,i.allowedContent=!0):(t.showCharCount&&(i.wordcount.showCharCount=!0,i.wordcount.countHTML=!0),t.showToolbar&&(i.toolbarCanCollapse=t.collapsibleToolbar,i.toolbarStartupExpanded=t.toolbarStartupExpanded,t.useAdvancedMode?(i.toolbar=[{name:"clipboard",items:["Undo","Redo"]},{name:"styles",items:["Styles","Format"]},{name:"basicstyles",items:["Bold","Italic","Strike","-","RemoveFormat"]},{name:"paragraph",items:["NumberedList","BulletedList","-","Outdent","Indent","-","Blockquote"]},{name:"links",items:["Link","Unlink"]},{name:"insert",items:["Image","EmbedSemantic","Table"]},{name:"tools",items:["Maximize"]}],(n.pdsLocalStorage.getPersistedBoolean("debug")||t.showSource)&&i.toolbar.push({name:"externallinks",items:["Source"]}),i.stylesSet=[{name:"Marker",element:"span",attributes:{class:"marker"}},{name:"Cited Work",element:"cite"},{name:"Inline Quotation",element:"q"},{name:"Special Container",element:"div",styles:{padding:"5px 10px",background:"#eee",border:"1px solid #ccc"}},{name:"Compact table",element:"table",attributes:{cellpadding:"5",cellspacing:"0",border:"1",bordercolor:"#ccc"},styles:{"border-collapse":"collapse"}},{name:"Borderless Table",element:"table",styles:{"border-style":"hidden","background-color":"#E6E6FA"}},{name:"Square Bulleted List",element:"ul",styles:{"list-style-type":"square"}},{name:"Illustration",type:"widget",widget:"image",attributes:{class:"image-illustration"}},{name:"240p",type:"widget",widget:"embedSemantic",attributes:{class:"embed-240p"}},{name:"360p",type:"widget",widget:"embedSemantic",attributes:{class:"embed-360p"}},{name:"480p",type:"widget",widget:"embedSemantic",attributes:{class:"embed-480p"}},{name:"720p",type:"widget",widget:"embedSemantic",attributes:{class:"embed-720p"}},{name:"1080p",type:"widget",widget:"embedSemantic",attributes:{class:"embed-1080p"}}]):(e=["Link","Unlink","-","Image","PasteFromWord"],(n.pdsLocalStorage.getPersistedBoolean("debug")||t.showSource)&&e.push("Source"),i.toolbar=[{name:"basicstyles",items:["Bold","Italic","Underline"]},{name:"font",items:["TextColor","BGColor","FontSize"]},{name:"formatting",items:["JustifyLeft","JustifyCenter"]},{name:"paragraphstyles",items:["BulletedList","NumberedList","Table"]},{name:"externallinks",items:e}]))),t.showSource&&"undefined"!=typeof CKEDITOR&&null!=CKEDITOR&&(i.allowedContent={$1:{elements:CKEDITOR.dtd,attributes:!0,styles:!0,classes:!0}},i.disallowedContent="script; *[on*]"),i},o);function o(){}e.RichTextEditorConfiguration=i},function(t,e,i){"use strict";var n,r=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var o,i=i(5),r=(o=i.PdsWidget,r(s,o),s.prototype.ready=function(){o.prototype.ready.call(this),this.alt="PowerSchool image"},s.prototype.srcIsSet=function(){var t=this;this.imageHadErrors=!1,setTimeout(function(){t.redraw("imageHadErrors")})},s.prototype.onImageError=function(){this.imageHadErrors=!0},s.prototype.showImg=function(){return!1===this.imageHadErrors&&this.useImage&&null!=this.src},s.prototype.attached=function(){var t=this;o.prototype.attached.call(this),setTimeout(function(){if(null==t.fallbackIconName||0===t.fallbackIconName.length)throw"Must configure a fallBackIconName";if(t.useImage&&null==t.src)throw"Use Image is set to true, but no image source was specified."})},s);function s(){var t=null!==o&&o.apply(this,arguments)||this;return t.is="pds-img",t.properties={src:{type:String,value:null,observer:"srcIsSet"},fallbackIconName:String,useImage:{type:Boolean,value:!0},alt:String,width:Number,height:Number,imageHadErrors:{value:!1}},t}e.PdsImg=r},function(t,e,i){"use strict";var n,r=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var o,i=i(5),r=(o=i.PdsWidget,r(s,o),s.prototype.ready=function(){var e=this;o.prototype.ready.call(this),this.isReady=!1,this.queuedEmit=!1,this.onBodyClick=function(t){e.ready&&e.emitEscape()},this.onKeyDown=function(t){27===t.keyCode&&e.emitEscape()},this.siblingClick=function(t){e.siblingClicked=!0}},s.prototype.attached=function(){var t=this;o.prototype.attached.call(this),setTimeout(function(){t.listeningSibling=t.nextElementSibling,t.listeningSibling.addEventListener("click",t.siblingClick,!0),window.addEventListener("keydown",t.onKeyDown),window.document.body.addEventListener("click",t.onBodyClick,!0),setTimeout(function(){t.isReady=!0},0)})},s.prototype.detached=function(){o.prototype.detached.call(this),null!=this.listeningSibling&&this.listeningSibling.removeEventListener("click",this.siblingClick,!0),window.removeEventListener("keydown",this.onKeyDown),window.document.body.removeEventListener("click",this.onBodyClick,!0)},s.prototype.emitEscape=function(){var t=this;this.queuedEmit||(setTimeout(function(){!1===t.siblingClicked?t.fire("escape",!0):t.siblingClicked=!1,t.queuedEmit=!1}),this.queuedEmit=!0)},s);function s(){var t=null!==o&&o.apply(this,arguments)||this;return t.is="pds-overlay-dropdown",t.siblingClicked=!1,t.queuedEmit=!1,t}e.PdsOverlayDropdown=r},function(t,e,i){"use strict";var n,r=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var o,i=i(5),r=(o=i.PdsWidget,r(s,o),s.prototype.ready=function(){o.prototype.ready.call(this),this.pds.accessibility.registerAnnounceTextComponent(this)},s.prototype.attributeChanged=function(t,e){"id"===t&&(this.pds.accessibility.removeAnnounceTextComponentFromDefault(),this.pds.accessibility.registerAnnounceTextComponent(this,this.id))},s.prototype.detached=function(){o.prototype.detached.call(this),this.id?this.pds.accessibility.unregisterAnnounceTextComponent(this.id):this.pds.accessibility.unregisterAnnounceTextComponent()},s.prototype.announceText=function(t){var e,i,n=this.querySelector(".pds-announce-text-content");null!=n&&((e=document.createElement("p")).textContent=t,i=n.appendChild(e),setTimeout(function(){i.remove()},6e4))},s.prototype.messageKeysUpdated=function(){},s);function s(){var t=null!==o&&o.apply(this,arguments)||this;return t.id="default",t.properties={id:{type:String}},t}e.PdsAnnounce=r},function(t,e,i){"use strict";var n,r=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}),o=this&&this.__assign||function(){return(o=Object.assign||function(t){for(var e,i=1,n=arguments.length;i<n;i++)for(var r in e=arguments[i])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}).apply(this,arguments)};Object.defineProperty(e,"__esModule",{value:!0});var s,a=i(74),u=i(117),l=i(100),c=i(101),d=i(72),i=i(5),r=(s=i.PdsWidget,r(p,s),Object.defineProperty(p.prototype,"notificationIndicatorController",{get:function(){return this.controller},set:function(t){var e=this;this.controller=t,this.notificationItemGroupSubscription=this.controller.notificationItemGroupStream.subscribe(function(t){e.notificationGroups=t.notificationGroups.slice().sort(d.NotificationItemGroup.compare),e.totalUnreadNotificationCount=t.totalUnreadNotificationCount,e.currentTabUnreadCount=t.currentTabUnreadCount,e.unreadNotificationCounts=t.notificationTypeUnreadCountMap,e.currentNotificationType=e.controller.currentNotificationType,e.redrawTrigger=!e.redrawTrigger})},enumerable:!0,configurable:!0}),p.prototype.showTabs=function(){return"true"===this.dataEnableChatTab||"true"===this.dataEnableAssignmentsTab},p.prototype.ready=function(){s.prototype.ready.call(this),this.isNotificationDisplayShowing=!1,this.unreadNotificationCounts={}},p.prototype.detached=function(){s.prototype.detached.call(this),null!=this.notificationItemGroupSubscription&&this.notificationItemGroupSubscription.unsubscribe()},p.prototype.messageKeysUpdated=function(){},p.prototype.toggleNotificationDisplay=function(t){null!=t&&(t.stopPropagation(),t.preventDefault()),this.isNotificationDisplayShowing?this.closeNotificationDisplay():this.openNotificationDisplay()},p.prototype.closeNotificationDisplay=function(){var t=this;setTimeout(function(){t.isNotificationDisplayShowing=!1})},p.prototype.markAllRead=function(t){null!=t&&(t.stopPropagation(),t.preventDefault()),this.controller.markAllAsRead()},p.prototype.markAsRead=function(t){this.controller.markGroupAsRead(t)},p.prototype.openNotificationDisplay=function(){this.isNotificationDisplayShowing=!0},p.prototype.emitClickEvent=function(t){t.preventDefault();t=t.model.notificationGroup;this._fireNotificationClickEvent(t)},p.prototype.handleAssignmentSubmissionClick=function(t){t.preventDefault();t=t.model.notificationGroup;this._fireNotificationClickEvent(t,{sectionUids:t.getSectionUids()})},p.prototype.emitViewAllEvent=function(t){this.fire("pdsNotificationViewAll",null),this.markAllRead(),this.isNotificationDisplayShowing=!1},p.prototype.setCurrentNotificationType=function(t){t.preventDefault(),t.stopPropagation(),this.controller.setCurrentNotificationType(t.currentTarget.dataset.notificationType),this.currentNotificationType=this.controller.currentNotificationType},p.prototype.isTabBadgeActive=function(t,e){e=this.unreadNotificationCounts[e];return null!=e&&0<e},p.prototype.getUnreadCountForTab=function(t,e){return this.unreadNotificationCounts[e]||0},p.prototype.handleMessageSentEvent=function(t){var e=t.model.notificationGroup,t=e.getThreadContext();this.notificationIndicatorController.markReadByLookUpKeyAndFunction(e.lookUpKey,c.CommunicationNotificationItem.getIsPartOfThread(t.threadUid),!0),this._fireNotificationClickEvent(e,{shouldMarkRead:!0,shouldNavigate:!1,threadType:t.threadType},!1)},p.prototype.handleChatNavigationEvent=function(t){t.preventDefault();t=t.detail,t={type:"COMMUNICATION_NOTIFICATION",shouldNavigate:!0,topicUid:t.topicUid,threadOwnerUid:t.ownerUid,threadType:t.threadType};this.fire("pdsNotificationClick",t)},p.prototype.getNotificationGroups=function(t,e){return this.notificationGroups||[]},p.prototype.getAccessibilityTextForTab=function(t,e){var i=this.getUnreadCountForTab(this.unreadNotificationCounts,e);switch(e){case c.CommunicationNotificationItem.NOTIFICATION_TYPE:return this.pds.i18n.getText("pds|notifications|View xx Message Notifications",{count:i});case l.AssignmentTemplateNotificationItem.NOTIFICATION_TYPE:return this.pds.i18n.getText("pds|notifications|View xx Assignment Notifications",{count:i});case a.ActivityFeedNotificationItem.NOTIFICATION_TYPE:default:return this.pds.i18n.getText("pds|notifications|View xx Activity Feed Notifications",{count:i})}},p.prototype.getClearAllButtonText=function(t,e){return e!==l.AssignmentTemplateNotificationItem.NOTIFICATION_TYPE?this.pds.i18n.getText("pds|notification widget|Clear All"):this.pds.i18n.getText("pds|notification widget|Clear Assignment Notifications")},p.prototype._fireNotificationClickEvent=function(t,e,i){void 0===e&&(e={}),void 0===i&&(i=!0);var n=o({},JSON.parse(t.aggregationKey),e);"COMMUNICATION_NOTIFICATION"===t.type&&0!==t.getUnreadNotifications().length&&(e=t.getThreadContext(),n=o({},n,{threadType:e.threadType})),t.isMarkedReadOnClick&&this.markAsRead(t),n.type=t instanceof u.AssignmentNotificationItemGroup?t.subtype:t.type,this.fire("pdsNotificationClick",n),this.isNotificationDisplayShowing=!i},p);function p(){var t=null!==s&&s.apply(this,arguments)||this;return t.is="pds-notification-indicator",t.properties={dataDisableViewAllButton:{type:String,value:"false"},dataEnableChatTab:{type:String,value:"false"},dataEnableAssignmentsTab:{type:String,value:"false"}},t.subscriptions=[],t}e.PdsNotificationIndicator=r},function(t,e,i){"use strict";var n,r=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var o,i=i(5),r=(o=i.PdsWidget,r(s,o),s.prototype.ready=function(){this.getS3MediaPath=this.pds.preferences.getS3MediaPath},s.prototype.messageKeysUpdated=function(){},s);function s(){var t=null!==o&&o.apply(this,arguments)||this;return t.is="pds-activity-feed-notification",t}e.PdsActivityFeedNotification=r},function(t,e,i){"use strict";var n,r=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var o,s=i(5),a=i(98),r=(o=s.PdsWidget,r(u,o),u.prototype.messageKeysUpdated=function(){},u.prototype.htmlChanged=function(t){var e,i=this.querySelector(".pds-rich-text-display-content");i&&(e="",null!=t&&0<t.length&&(e=a.sanitizeHtmlString(t),this.linkOpensNewTab&&(e=this.updateLinks(e))),i.innerHTML=e)},u.prototype.setLinkOpensNewTab=function(t){this.linkOpensNewTab="true"===t||!0===t},u.prototype.updateLinks=function(t){var e=document.createElement("div");e.innerHTML=t;for(var i=e.querySelectorAll("a"),n=0;n<i.length;n++){var r,o=i[n];null!=o&&(null!=(r=o.getAttribute("target"))&&"_self"!==r&&"_parent"!==r&&"_top"!==r&&"_blank"!==r||o.setAttribute("target","portalExternalLink"))}return e.innerHTML},u);function u(){var t=null!==o&&o.apply(this,arguments)||this;return t.is="pds-rich-text-display",t.properties={html:{type:String,observer:"htmlChanged"},linkOpensNewTab:{type:String,value:"true",observer:"setLinkOpensNewTab"}},t}e.PdsRichTextDisplay=r},function(t,e,i){"use strict";var n,r=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var o,s=i(27),a=i(28),u=i(6),l=i(37),r=(o=s.PdsAbstractInputWidget,r(c,o),c.prototype.generateValidationRules=function(){var t=a.pdsValidationRulesEngine.getBasicValidationRules();t.isTime=!0,t.setProperty("isRequired",this.dataIsrequired,Boolean),t.setProperty("minValue",this.dataMintime,l.SimpleTime),t.setProperty("maxValue",this.dataMaxtime,l.SimpleTime),this.validators=a.pdsValidationRulesEngine.getValidatorsForRules(t),this.hasOwnProperty("dataCustomvalidate")&&this.validators.push({execute:this.pds.validation.getCustomValidate(this.dataCustomvalidate),condition:{element:this}})},c.prototype.setModelValue=function(t,e){var i=this.querySelector("input");return null!=i&&t!==i.modelValue&&(i.modelValue=t,!0!==e&&this.setValue(u.pdsI18n.localizeTime(t),!0),!0)},c.prototype.setValue=function(t,e){void 0===e&&(e=!1),null==t&&(t="");var i=this.querySelector("input");null!=i&&t!==i.value&&(i.value=t),!0!==e&&this.setModelValue(u.pdsI18n.deLocalizeTime(t),!0)},c);function c(){var t=null!==o&&o.apply(this,arguments)||this;return t.is="pds-time-widget",t.properties={name:String,dataLabelText:String,dataShowLabel:{type:String,value:null},dataBadgeText:{type:String,value:"",observer:"setUpBadge"},dataHelperText:{type:String,value:null},dataFieldHelpText:String,dataPlaceholderText:String,dataTooltipText:String,dataUseAlternateColorScheme:{type:String,value:"false"},dataIsreadonly:{type:String,value:"false",observer:"setReadonlyText"},dataIsfieldonly:{type:String,value:"false"},dataHideUnelevatedBadge:{type:String,value:"false",observer:"setUpBadge"},dataDisableInvalidBadgeElevation:{type:String,value:"false",observer:"setUpBadge"},dataIsrequired:{type:String,value:"false",observer:"setUpBadge"},disabled:{type:String,value:"false"},dataUseValidIndicator:{type:String,value:"false"},dataMaxtime:String,dataMintime:String,dataCustomvalidate:String,dataActionIcon:String},t}e.PdsTimeWidget=r},function(t,e,i){"use strict";var n,r=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var o,s=i(37),a=i(19),u=i(15),l=i(47),c=i(5),d=i(103),r=(o=c.PdsWidget,r(p,o),p.prototype.ready=function(){o.prototype.ready.call(this),this.getS3MediaPath=this.pds.preferences.getS3MediaPath,this.isQuickMessageDialogOpen=!1},p.prototype.messageKeysUpdated=function(){},p.prototype.emitClickEvent=function(t){var e=this;t.preventDefault();t=this.notificationGroup.getThreadContext();this.selectedStudentUid=t.topicUid,l.pdsHttpUtils.get(this.pds.preferences.host+"/communication/v1/thread/"+t.threadUid,{},l.pdsHttpUtils.addUCAuthHeader({})).subscribe(function(t){e.quickMessageDialogThreadRI=JSON.parse(t.data),e.checkForParentContactInfo(),e.isQuickMessageDialogOpen=!0,setTimeout(function(){e.querySelector("pds-chat-quick-message").addEventListener("pdsRemoveDialog",function(){e.isQuickMessageDialogOpen=!1})})})},p.prototype.checkForParentContactInfo=function(){var e=this;l.pdsHttpUtils.post(this.pds.preferences.host+"/communication/v1/students/contactInfo",{studentUids:new Array(this.selectedStudentUid)},{},l.pdsHttpUtils.addUCAuthHeader({})).subscribe(function(t){t=JSON.parse(t.data);e.isParentContactInfo=1===t.length})},p.prototype.getMessages=function(t){return t.messages},p.prototype.handleChatTabChange=function(t){var e=this,i={uid:"",name:this.quickMessageDialogThreadRI.name,ownerUid:this.quickMessageDialogThreadRI.ownerUid,ownerUserType:this.quickMessageDialogThreadRI.ownerUserType,topicUid:this.quickMessageDialogThreadRI.topicUid},t="STUDENT_TAB"===t.detail?u.of([{userUid:this.quickMessageDialogThreadRI.topicUid,userType:"STUDENT"},{userUid:this.quickMessageDialogThreadRI.ownerUid,userType:"TEACHER"}]).pipe(a.mergeMap(function(t){return i.participants=t,i.threadType=s.ChatThreadTypeEnum.STUDENT_TEACHER,e.chatThreadService.fetchTopicThread(e.pds.preferences.host,i)})):this.chatThreadService.fetchParentParticipants(this.pds.preferences.host,this.quickMessageDialogThreadRI.topicUid).pipe(a.mergeMap(function(t){return i.participants=t,i.threadType=s.ChatThreadTypeEnum.TEACHER_PARENT,e.chatThreadService.fetchTopicThread(e.pds.preferences.host,i)}));t.subscribe(function(t){e.quickMessageDialogThreadRI=t,setTimeout(function(){var t=e.querySelector(".pds-chat-message-container");t.scrollTop=t.scrollHeight})})},p);function p(){var t=null!==o&&o.apply(this,arguments)||this;return t.is="pds-communication-notification",t.chatThreadService=new d.ChatThreadService,t}e.PdsCommunicationNotification=r},function(t,e,i){"use strict";var n,r=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var o,i=i(5),r=(o=i.PdsWidget,r(s,o),s.prototype.ready=function(){o.prototype.ready.call(this),this.getS3MediaPath=this.pds.preferences.getS3MediaPath},s.prototype.messageKeysUpdated=function(){},s);function s(){var t=null!==o&&o.apply(this,arguments)||this;return t.is="pds-assignment-template-notification",t}e.PdsAssignmentTemplateNotification=r},function(t,e,i){"use strict";var n,r=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var o,i=i(5),r=(o=i.PdsWidget,r(s,o),s.prototype.ready=function(){o.prototype.ready.call(this),this.getS3MediaPath=this.pds.preferences.getS3MediaPath},s.prototype.messageKeysUpdated=function(){},s);function s(){var t=null!==o&&o.apply(this,arguments)||this;return t.is="pds-assignment-submission-notification",t}e.PdsAssignmentSubmissionNotification=r},function(t,e,i){"use strict";var n,r=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var o,i=i(5),r=(o=i.PdsWidget,r(s,o),s.prototype.ready=function(){o.prototype.ready.call(this),this.getS3MediaPath=this.pds.preferences.getS3MediaPath},s.prototype.messageKeysUpdated=function(){},s);function s(){var t=null!==o&&o.apply(this,arguments)||this;return t.is="pds-assignment-return-notification",t}e.PdsAssignmentReturnNotification=r},function(t,e,i){"use strict";var n,r=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var o,s=i(121),a=i(37),u=i(6),l=i(47),r=(o=s.PdsDialog,r(c,o),c.prototype.ready=function(){o.prototype.ready.call(this),this.getS3MediaPath=this.pds.preferences.getS3MediaPath,"TEACHER"===this.currentUserType&&this.chatThread.threadType===a.ChatThreadTypeEnum.TEACHER_PARENT?this.currentTab="PARENT_TAB":this.currentTab="STUDENT_TAB"},c.prototype.attached=function(){var e=this;o.prototype.attached.call(this),setTimeout(function(){var t=e.querySelector(".pds-chat-message-container");t.scrollTop=t.scrollHeight})},c.prototype.computeClass=function(t){return this.isCurrentUser(t.participant.userUid)?"pds-quick-message-group pds-chat-message-group-right":"pds-quick-message-group"},c.prototype.getModalHeader=function(t,e,i){if(null==t||null==e)return"";switch(e){case"TEACHER":return this._getModalHeaderForTeacher(t,i);case"STUDENT":case"PARENT":return this._getModalHeaderForStudentOrParent(t);default:return console.error("ChatThread does not handle userType "+e+" yet."),""}},c.prototype.getMessageGroups=function(t){if(null==t||0===t.length)return[];var e=this.chatThread.participants.map(function(t){var e={};return e[t.userUid]=t,e}),i=Object.assign.apply(Object,[{}].concat(e)),n=t[0].senderUid,r=[],o={participant:i[n],messages:[]};r.push(o);for(var s=0,a=t;s<a.length;s++){var u=a[s];u.senderUid!==n?(n=u.senderUid,o={participant:i[u.senderUid],messages:[u]},r.push(o)):o.messages.push(u)}return r},c.prototype.getLastMessageTime=function(t){t=t.messages[t.messages.length-1];return u.pdsI18n.formatDate(new Date(t.sentAt),"DATE_TIME_PRETTY")},c.prototype.getParticipantName=function(t){return"TEACHER"===t.userType&&null!=t.title?t.title+" "+t.lastName:t.firstName+" "+t.lastName},c.prototype.getParticipantImagePath=function(t){return"/image/"+t.userType.toLowerCase()+"-"+t.userUid},c.prototype.handleNavigateClick=function(t){t.preventDefault(),this.fire("pds-quick-chat-navigation",this.chatThread),this.closeDialog()},c.prototype.isCurrentUser=function(t){return this.currentUserUid===t},c.prototype.sendMessage=function(t){var e=this;t.preventDefault();t={operation:"CREATE",threadUid:this.chatThread.uid,senderUid:this.currentUserUid,associatedSectionUids:this.sectionUids,senderUserType:this.currentUserType,body:this.inputValue,clientKey:this.chatThread.uid+":"+(new Date).getTime().toString()};l.pdsHttpUtils.post(this.pds.preferences.host+"/communication/v1/queue",t,{},l.pdsHttpUtils.addUCAuthHeader({})).subscribe(function(){e.fire("pds-quick-message-sent",!0),e.closeDialog()})},c.prototype.setCurrentTab=function(t){t.preventDefault(),t.stopPropagation(),this.currentTab=t.currentTarget.dataset.threadType,"STUDENT_TAB"===this.currentTab||"PARENT_TAB"===this.currentTab&&this.isParentContactInfo?this.fire("pds-quick-chat-tab-change",this.currentTab):this.currentTab="STUDENT_TAB"},c.prototype.getParentHeaderTooltipText=function(t){return t?u.pdsI18n.getText("pds|quick chat|Switch to message guardians"):u.pdsI18n.getText("pds|quick chat|No Active Account")},c.prototype._getModalHeaderForTeacher=function(t,e){switch(t.threadType){case a.ChatThreadTypeEnum.TEACHER_PARENT:return u.pdsI18n.getText("pds|quick chat|Send xx s Parents/Guardians a Message",{studentName:e});case a.ChatThreadTypeEnum.STUDENT_TEACHER:return u.pdsI18n.getText("pds|quick chat|Send xx a Message",{recipientName:e});default:return console.error("ChatThread Type "+t.threadType+" not handled yet in pds-chat-quick-message"),u.pdsI18n.getText("pds|quick chat|Send a Message")}},c.prototype._getModalHeaderForStudentOrParent=function(t){var e,i=t.participants.find(function(t){return"TEACHER"===t.userType});if(!i)throw"ChatThread does not have a teacher participant";switch(e=i.title?i.title+" "+i.lastName:i.firstName+" "+i.lastName,t.threadType){case a.ChatThreadTypeEnum.TEACHER_PARENT:case a.ChatThreadTypeEnum.STUDENT_TEACHER:return u.pdsI18n.getText("pds|quick chat|Send xx a Message",{recipientName:e});default:return console.error("ChatThread Type "+t.threadType+" not handled yet in pds-chat-quick-message"),u.pdsI18n.getText("pds|quick chat|Send a Message")}},c);function c(){var t=null!==o&&o.apply(this,arguments)||this;return t.is="pds-chat-quick-message",t}e.PdsChatQuickMessage=r},function(t,e,i){"use strict";var n,r=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var o,i=i(5),r=(o=i.PdsWidget,r(s,o),s.prototype.attached=function(){o.prototype.attached.call(this),"true"===this.dataSetContainerAutomatically&&null!=this.parentElement&&this.parentElement.classList.add("pds-notification-badge-container")},s.prototype.updateBadgeObject=function(){this.badge={showCount:"true"===this.dataShowCount,badgeCount:this.dataNotificationCount||0}},s);function s(){var t=null!==o&&o.apply(this,arguments)||this;return t.id="",t.properties={badge:{type:Object,value:{badgeCount:0,showCount:!0}},dataNotificationCount:{type:Number,value:null,observer:"updateBadgeObject"},dataShowCount:{type:String,value:"true",observer:"updateBadgeObject"},id:{type:String,value:""},dataSetContainerAutomatically:{type:String,value:"true"},dataIsBadgeElevated:{type:String,value:"false"}},t}e.PdsNotificationBadge=r},function(t,e,i){"use strict";var n,r=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var o,s=i(5),a=i(217),u=["avatar-gradient-one","avatar-gradient-two","avatar-gradient-three","avatar-gradient-four","avatar-gradient-five","avatar-gradient-six","avatar-gradient-seven","avatar-gradient-eight"],r=(o=s.PdsWidget,r(l,o),l.prototype._onObjectChange=function(){var e=this;this.useImage=this.avatar.useImage,this.useImage?(this.imageController=new a.ImageController(this.avatar),this.imageController.getImageOrientation(function(t){e.updateImageElementClass(t)})):(this.gradientConfig=u[Math.floor(Math.random()*u.length)],this.classList.add(this.gradientConfig))},l.prototype.updateImageElementClass=function(t){var e=this.querySelector("img");if(null!=e)switch(t){case"HORIZONTAL":e.classList.add("user-avatar-horizontal-orientation");break;case"VERTICAL":e.classList.add("user-avatar-vertical-orientation");break;case"EVEN":e.classList.add("user-avatar-even")}},l);function l(){var t=null!==o&&o.apply(this,arguments)||this;return t.useImage=!0,t.properties={avatar:{type:Object,observer:"_onObjectChange"}},t}e.PdsUserAvatar=r},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=(r.prototype.getImage=function(){return this.image},r.prototype.setImage=function(t){this.image=t},r.prototype.getImageOrientation=function(e){this.loadImage(function(t){t=t.width>t.height?"HORIZONTAL":t.width<t.height?"VERTICAL":"EVEN";e(t)})},r.prototype.loadImage=function(t){var e=new Image;e.src=this.image.src,e.onload=function(){t(e)}},r);function r(t){this.image=t}e.ImageController=n},function(t,e,i){"use strict";var n,r=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var o,s=i(5),a=i(104),u=i(9),r=(o=s.PdsWidget,r(l,o),l.prototype.created=function(){this.hasBeenAttached=!1},l.prototype.ready=function(){o.prototype.ready.call(this),this.classList.add("pds-is-hidden")},l.prototype.attached=function(){var e=this;null!=this.getReference&&this.getReference(this),setTimeout(function(){var t;o.prototype.attached.call(e),e.hasBeenAttached?e.turnOnTooltipTriggerListener():(e.hasBeenAttached=!0,e.tooltipTrigger=e.pds.utils.getClosest(e,".pds-tooltip-trigger"),null!=e.tooltipTrigger?(t=a.PoppableElementFactory.generateTooltipConfig(e.defaultDirection,e.triggerAction,e.asElement(),e.customTheme,e.showHideDuration),e.classList&&e.classList.remove("pds-is-hidden"),e.tooltipInstance=a.PoppableElementFactory.generatePoppableElement(e.tooltipTrigger,t,e.is),e.styleObserver=new MutationObserver(function(){return e.styleChanged()}),e.styleObserver.observe(e.asElement(),{attributes:!0,attributeFilter:["style"]}),e.displayValue=e.asElement().style.display):console.error("No tooltip trigger detected.  An element with .pds-tooltip-trigger must be an ancestor of the pds-tooltip."))})},l.prototype.detached=function(){o.prototype.detached.call(this),this.turnOffTooltipTriggerListener()},l.prototype.turnOnTooltipTriggerListener=function(){var i=this;null==this.tooltipTriggerObserver&&(this.tooltipTriggerObserver=new MutationObserver(function(t,e){null==i.tooltipTrigger||document.contains(i.tooltipTrigger)||(u.pdsUtils.remove(i.tooltipInstance.popper),null!=i.styleObserver&&i.styleObserver.disconnect())})),this.tooltipTriggerObserver.observe(document,{childList:!0,subtree:!0})},l.prototype.turnOffTooltipTriggerListener=function(){null!=this.tooltipTriggerObserver&&this.tooltipTriggerObserver.disconnect()},l.prototype.styleChanged=function(){this.asElement().style.display!==this.displayValue&&(this.displayValue=this.asElement().style.display,this.tooltipInstance.popper.style.display=this.displayValue)},l.prototype.updateDefaultDirection=function(t){null!=t&&(this.defaultDirection=t,null!=this.tooltipInstance&&(null!=this.tooltipInstance.popperInstance&&null!=this.tooltipInstance.popperInstance.options&&(this.tooltipInstance.popperInstance.options.placement=t),null!=this.tooltipInstance.options&&(this.tooltipInstance.options.placement=t)))},l);function l(){var t=null!==o&&o.apply(this,arguments)||this;return t.is="pds-tooltip",t.properties={defaultDirection:{type:Object,value:"bottom-start"},triggerAction:{type:String,value:"mouseenter focus"},customTheme:{type:String,value:"tooltip"},showHideDuration:{type:Object,value:[500,0]}},t}e.PdsTooltip=r},function(t,e,i){"use strict";var n,r=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var o,i=i(5),r=(o=i.PdsWidget,r(s,o),s.prototype.attached=function(){var t=this;setTimeout(function(){t.imagePath="./img/error-assets/"+t.error.statusCode+".png"})},s.prototype.invokePrimaryAction=function(){null!=this.homePageRedirectCallback&&this.homePageRedirectCallback()},s.prototype.invokeSecondaryAction=function(){null!=this.letUsKnowCallback&&this.letUsKnowCallback()},s);function s(){var t=null!==o&&o.apply(this,arguments)||this;return t.is="pds-error-page",t.useImagePath=!1,t.properties={alternateImage:{type:Object,value:null}},t}e.PdsErrorPage=r},function(t,e,i){"use strict";var n,r=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var o,i=i(5),r=(o=i.PdsWidget,r(s,o),s);function s(){var t=null!==o&&o.apply(this,arguments)||this;return t.is="pds-copyright-clause",t}e.PdsCopyrightClause=r},function(t,e,i){"use strict";var n,r=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var o=i(9),s=i(15),a=i(10),u=i(66),l=i(105),c=/^#([0-9A-Fa-f]{6}|[0-9A-Fa-f]{3})$/,d=a.pdsLogger.prependLogger(a.pdsLogger.requiresLogger("app-switcher"),"pds-app-switcher.ts"),p=!1;var h,r=(h=u.SinglePopoverWidget,r(f,h),f.prototype.isRequiredDataDefined=function(){return null!=this.apps},f.prototype.getPopoverSelector=function(){return"#app-switcher-popover"},f.prototype.getPopoverTriggerSelector=function(){return".pds-app-switcher-trigger"},f.prototype.created=function(){switch(d("app switcher created"),this.motuGuidObservable=new s.BehaviorSubject(null),this.iframeSwitch=localStorage.getItem("pds-app-switcher-iframe-switch"),this.iframeSwitch){case"attach-apps-manually":break;case"pds-site":this.iframeSrc="app-switcher-support-files/fetch-app-switcher-data.html";break;case"local":this.iframeSrc="http://localhost:9090/local-cdn/html/fetch-app-switcher-data.html";break;case"test":case"stage":case"production-ca":this.iframeSrc="https://assets.powerschool.com/pds/"+l.versionAndPaths.version+"/html/fetch-app-switcher-data.html";break;case"production":default:this.iframeSrc="https://assets.powerschool.com/pds/"+l.versionAndPaths.version+"/html/fetch-app-switcher-data.html"}p||(window.addEventListener("message",function(t){for(var e=document.querySelectorAll("pds-app-switcher"),i=0;i<e.length;i++)e[i].handleMessageEvent(t)}),p=!0)},f.prototype.ready=function(){h.prototype.ready.call(this),null!=this.iframeSrc&&this.attachIFrame(),this.style.display="none"},f.prototype.attached=function(){d("app switcher attached"),h.prototype.attached.call(this)},f.prototype.motuGuidChanged=function(t){d("moduGuid changed to: "+t),this.motuGuidObservable.next(t)},f.prototype.mainButtonBackgroundColorChanged=function(){var t;o.pdsUtils.remove(this.querySelector("#pds-main-button-background-color")),null!=this.dataBackgroundColor&&((t=document.createElement("style")).innerHTML="\n      #pds-app-switcher {\n        background-color: "+this.dataBackgroundColor+";\n      }",t.setAttribute("id","pds-main-button-background-color"),this.appendChild(t))},f.prototype.appSwitcherIconColorChanged=function(){var t;o.pdsUtils.remove(this.querySelector("#pds-app-switcher-icon-color")),null!=this.dataIconColor&&((t=document.createElement("style")).innerHTML="\n      #pds-app-switcher pds-icon svg {\n        fill: "+this.dataIconColor+";\n      }",t.setAttribute("id","pds-app-switcher-icon-color"),this.appendChild(t))},f.prototype.appSwitcherIconColorHoverChanged=function(){var t;o.pdsUtils.remove(this.querySelector("#pds-app-switcher-icon-color-hover")),null!=this.dataIconColorHover&&((t=document.createElement("style")).innerHTML="\n      #pds-app-switcher:hover pds-icon,\n      #pds-app-switcher:focus pds-icon {\n        background-color: "+this.dataIconColorHover+";\n        border-radius: 50%;\n      }",t.setAttribute("id","pds-app-switcher-icon-color-hover"),this.appendChild(t))},f.prototype.attachIFrame=function(){var t;null!=this.iframeSrc?(d("attaching the iFrame"),o.pdsUtils.remove(this.querySelector("iframe")),(t=document.createElement("iframe")).setAttribute("src",this.iframeSrc),t.style.display="none",this.querySelector(".pds-app-switcher-contents").appendChild(t)):d("not attaching iFrame")},f.prototype.handleMessageEvent=function(t){var e=this;d("PdsAppSwitcher.handleMessageEvent"),d(t);var i=this.querySelector("iframe");if(null!=t.data&&"fetch-app-switcher-data"===t.data.from)switch(t.data.task){case"request-inputs":null==this.motuGuidSubscription?this.motuGuidSubscription=this.motuGuidObservable.subscribe(function(t){null!=t&&i.contentWindow.postMessage({from:"pds-app-switcher",task:"fetch-data",iframeSwitch:e.iframeSwitch,motuGuid:t,loggerStatus:a.pdsLogger.loggerStatus["app-switcher"]},"*")}):this.motuGuidObservable.next(this.motuGuidObservable.value);break;case"assign-apps":d("assigning apps"),this.apps=this.convertApps(t.data.apps);break;default:console.error('Received a task: "'+t.data.task+'" from the iframe that is not not supported.')}},f.prototype.createPopoverPanel=function(){h.prototype.createPopoverPanel.call(this),this.updateVisibility()},f.prototype.updateVisibility=function(){this.style.display=null==this.apps||this.apps.length<2||null==this.popoverInstance?"none":"",d('visibility set to: "'+this.style.display+'"')},f.prototype.convertApps=function(t){d("converting apps");var e=[];if(null!=t)for(var i=0,n=t;i<n.length;i++){var r=n[i];e.push({id:r.ProductId,name:r.ProductName,initials:r.initials,url:r.ProductUrl,colorCategoryNumber:r.colorCategoryNumber,color:c.test(r.color)?r.color:"#00427F",productIcon:r.ProductIcon||void 0})}return e},f.prototype.log=function(t){for(var e=[],i=1;i<arguments.length;i++)e[i-1]=arguments[i];d.apply(window,arguments)},f.prototype.getDefaultAlignment=function(){return"bottom-end"},f);function f(){var t=null!==h&&h.apply(this,arguments)||this;return t.is="pds-app-switcher",t.properties={scopeClass:{type:String,value:""},dataHasIcon:{type:String,value:"true"},apps:{value:null,observer:"updateVisibility"},motuGuid:{type:String,value:null,observer:"motuGuidChanged"},dataBackgroundColor:{type:String,value:null,observer:"mainButtonBackgroundColorChanged"},dataIconColor:{type:String,value:null,observer:"appSwitcherIconColorChanged"},dataIconColorHover:{type:String,value:null,observer:"appSwitcherIconColorHoverChanged"}},t}e.PdsAppSwitcher=r},function(t,e,i){"use strict";var n,r=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var o,s=i(27),a=i(28),r=(o=s.PdsAbstractInputWidget,r(u,o),u.prototype.ready=function(){o.prototype.ready.call(this),this.currentCharCount=this.value.length},u.prototype.setDefaultShowCharCounter=function(t,e){null==t&&null==e||null==this.dataShowCharCounter&&(e=Number(this.dataMaxlength),!isNaN(e)&&0<e&&(this.dataShowCharCounter="true"))},u.prototype.generateValidationRules=function(){var t=a.pdsValidationRulesEngine.getBasicValidationRules();if(t.isText=!0,t.setProperty("isRequired",this.dataIsrequired,Boolean),t.setProperty("maxLength",this.dataMaxlength,Number),t.setProperty("minLength",this.dataMinlength,Number),t.setProperty("excludeChars",this.dataExcludechars,String),null!=this.dataRegex&&0<this.dataRegex.length&&null!=this.dataRegexErrorText&&0<this.dataRegexErrorText.length)try{t.regex={pattern:null!=this.dataRegex?new RegExp(this.dataRegex,this.dataRegexmodifiers):new RegExp(this.dataRegex),errorMessage:this.dataRegexErrorText}}catch(t){}if(null!=this.dataInverseRegex&&0<this.dataInverseRegex.length&&null!=this.dataInverseRegexErrorText&&0<this.dataInverseRegexErrorText.length)try{t.inverseRegex={pattern:null!=this.dataInverseRegex?new RegExp(this.dataInverseRegex,this.dataInverseRegexmodifiers):new RegExp(this.dataInverseRegex),errorMessage:this.dataInverseRegexErrorText}}catch(t){}this.validators=a.pdsValidationRulesEngine.getValidatorsForRules(t),"dataCustomvalidate"in this&&this.validators.push({execute:this.pds.validation.getCustomValidate(this.dataCustomvalidate),condition:{element:this}})},u.prototype.setModelValue=function(t,e){var i=this.inputSelector();return null!=i&&t!==i.modelValue&&(i.modelValue=t,!0!==e&&this.setValue(t,!0),!0)},u.prototype.setValue=function(t,e){void 0===e&&(e=!1),null==t&&(t="");var i=this.inputSelector();null!=i&&t!==i.value&&(i.value=t),!0!==e&&this.setModelValue(t,!0),this.currentCharCount=this.value.length},u.prototype.inputSelector=function(){return this.querySelector("textarea")},u.prototype.getCharactersRemaining=function(t,e){var i=Number(this.dataMaxlength)-this.currentCharCount;return isNaN(i)||i<0?0:i},u);function u(){var t=null!==o&&o.apply(this,arguments)||this;return t.is="pds-textarea-widget",t.currentCharCount=0,t.properties={name:String,dataLabelText:String,dataShowLabel:{type:String,value:null},dataBadgeText:{type:String,value:"",observer:"setUpBadge"},dataHelperText:{type:String,value:null},dataFieldHelpText:String,dataPlaceholderText:String,dataTooltipText:String,dataUseAlternateColorScheme:{type:String,value:"false"},dataIsreadonly:{type:String,value:"false",observer:"setReadonlyText"},dataIsfieldonly:{type:String,value:"false"},dataHideUnelevatedBadge:{type:String,value:"false",observer:"setUpBadge"},dataDisableInvalidBadgeElevation:{type:String,value:"false",observer:"setUpBadge"},dataRegexErrorText:String,dataInverseRegexErrorText:String,dataIsrequired:{type:String,value:"false",observer:"setUpBadge"},disabled:{type:String,value:"false"},dataUseValidIndicator:{type:String,value:"false"},dataMinlength:String,dataMaxlength:{type:String,value:null,observer:"setDefaultShowCharCounter"},dataExcludechars:String,dataRegex:String,dataRegexmodifiers:String,dataInverseRegex:String,dataInverseRegexmodifiers:String,dataCustomvalidate:String,dataActionIcon:String,dataShowCharCounter:{type:String,value:null}},t}e.PdsTextareaWidget=r},function(t,e,i){"use strict";var n,r=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var o,s=i(27),a=i(28),i=i(10),u=i.pdsLogger.prependLogger(i.pdsLogger.requiresLogger("input-widgets"),"pds-checkbox-widget.ts"),r=(o=s.PdsAbstractInputWidget,r(l,o),Object.defineProperty(l.prototype,"value",{get:function(){for(var t=[],e=this.querySelectorAll("input:checked"),i=0;i<e.length;i++)t.push(e[i].getAttribute("value"));return 0===t.length?"":JSON.stringify(t)},set:function(t){this.setValue(t),this.setReadonlyText()},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"modelValue",{get:function(){return this._modelValue},set:function(t){this.setModelValue(t)&&(this.validateWidget(),this.isValid&&null!=this.myErrorField&&this.showErrorMessage(!1)),this.setReadonlyText()},enumerable:!0,configurable:!0}),l.prototype.generateValidationRules=function(){var t=a.pdsValidationRulesEngine.getBasicValidationRules();t.isText=!0,t.setProperty("isRequired",this.dataIsrequired,Boolean),this.validators=a.pdsValidationRulesEngine.getValidatorsForRules(t),"dataCustomvalidate"in this&&this.validators.push({execute:this.pds.validation.getCustomValidate(this.dataCustomvalidate),condition:{element:this}})},l.prototype.redrawOptions=function(){u("Redrawing the options for "+this.name+"."),this.redraw("options"),this.setValue(JSON.stringify(this.modelValue),!0)},l.prototype.setModelValue=function(t,e){return t!==this._modelValue&&(t instanceof Array?(this._modelValue=t.slice(),!0!==e&&this.setValue(JSON.stringify(t),!0)):(delete this._modelValue,!0!==e&&this.setValue("")),!0)},l.prototype.setValue=function(t,e){var i;if(void 0===e&&(e=!1),null!=t)try{i=JSON.parse(t)}catch(t){}for(var n=this.querySelectorAll("input"),r=0;r<n.length;r++){var o=n[r];o.checked=null!=i&&0<=i.indexOf(o.value)}!0!==e&&this.setModelValue(i,!0)},l.prototype.updateDisabled=function(){for(var t=this.querySelectorAll("input"),e=0;e<t.length;e++)t[e].disabled="disabled"===this.isDisabled()},l.prototype.renderInputs=function(){var t=this,e=this.querySelector("ul");if(e.innerHTML="",null!=this.options){for(var i=0,n=0,r=this.options;n<r.length;n++){var o,s=r[n],a=p("li",this.scopeClass),u=p("label",this.scopeClass),l=p("input",this.scopeClass),c=p("div",this.scopeClass),d=p("p",this.scopeClass);u.setAttribute("for",this.name+"-option-"+i),l.setAttribute("id",this.name+"-option-"+i),l.setAttribute("type","checkbox"),l.setAttribute("name",this.name),l.setAttribute("value",s.value),l.addEventListener("change",function(){t.inputChange()}),l.disabled="disabled"===this.isDisabled(),c.classList.add("pds-label-text"),c.textContent=s.text,d.classList.add("pds-help-text"),null!=s.helperText&&0!==s.helperText.length||d.classList.add("pds-is-hidden"),d.textContent=s.helperText||null,e.appendChild(a),a.appendChild(u),a.appendChild(d),u.appendChild(l),u.appendChild(c),s.badgeText&&((o=p("span",this.scopeClass)).classList.add("pds-field-badge"),o.textContent=s.badgeText,c.appendChild(document.createTextNode(" ")),c.appendChild(o)),s.tooltipText&&(u=p("span",this.scopeClass),(o=p("pds-tooltip",this.scopeClass)).textContent=s.tooltipText,u.classList.add("pds-field-help"),u.classList.add("pds-tooltip-trigger"),u.appendChild(o),c.appendChild(document.createTextNode(" ")),c.appendChild(u)),i++}this.setValue(JSON.stringify(this._modelValue),!0)}},l.prototype.inputChange=function(){this.errorPresentWhenBlurOccurred=!0,o.prototype.inputChange.call(this)},l.prototype.validateWidget=function(t){return void 0===t&&(t=!1),o.prototype.validateWidget.call(this,!0)},l);function l(){var t=null!==o&&o.apply(this,arguments)||this;return t.is="pds-checkbox-widget",t.properties={name:String,dataLabelText:String,dataShowLabel:{type:String,value:null},dataBadgeText:{type:String,value:"",observer:"setUpBadge"},dataHelperText:{type:String,value:null},dataFieldHelpText:String,dataTooltipText:String,dataUseAlternateColorScheme:{type:String,value:"false"},dataIsfieldonly:{type:String,value:"false"},dataHideUnelevatedBadge:{type:String,value:"false",observer:"setUpBadge"},dataDisableInvalidBadgeElevation:{type:String,value:"false",observer:"setUpBadge"},disabled:{type:String,value:"false",observer:"updateDisabled"},dataIsrequired:{type:String,value:"false",observer:"setUpBadge"},dataUseValidIndicator:{type:String,value:"false"},dataCustomvalidate:{type:String},options:{type:Array,value:null,observer:"renderInputs"}},t}function p(t,e){t=document.createElement(t);return t.classList.add("pds-checkbox-widget"),t.classList.add("style-scope"),e&&t.classList.add(e),t}e.PdsCheckboxWidget=r},function(t,e,i){"use strict";var n,r=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var o,s=i(6),a=i(66),i=i(10),u=i.pdsLogger.prependLogger(i.pdsLogger.requiresLogger("app-switcher"),"pds-user-menu.ts"),r=(o=a.SinglePopoverWidget,r(l,o),l.prototype.attached=function(){var t=this;o.prototype.attached.call(this),setTimeout(function(){t.verifyNamePresent()})},l.prototype.isRequiredDataDefined=function(){return null!=this.userNavigation},l.prototype.getPopoverSelector=function(){return".pds-user-menu-popover"},l.prototype.getPopoverTriggerSelector=function(){return".pds-user-menu-trigger"},l.prototype.getListenerSelector=function(){return".pds-user-menu-contents"},l.prototype.getButtonAriaLabel=function(t){return s.pdsI18n.getText(this.isPopoverShowing?"pds|app switcher|Close user menu":"pds|app switcher|Open user menu")},l.prototype.onUserMenuHidden=function(t){this.hidePopover(),this.popoverAccessibilityController.deregisterEventListenerOnPanel("keydown")},l.prototype.onUserMenuShown=function(t){this.popoverContentElement=t.popper,this.popoverAccessibilityController.setPanelContainer(this.popoverContentElement),this.popoverContentElement.setAttribute("aria-label",s.pdsI18n.getText("pds|popover|Backwards From First Element")),this.popoverAccessibilityController.registerEventListenerOnPanel("keydown")},l.prototype.getUserInitialsForDisplay=function(){var t="";return null!=this.user&&(null!=this.user.firstName&&(t+=this.user.firstName.slice(0,1)),null!=this.user.lastName&&(t+=this.user.lastName.slice(0,1))),t},l.prototype.hasUserProfilePicture=function(){return null!=this.user&&null!=this.user.profilePicture},l.prototype.userMenuClickHandler=function(t){t.preventDefault();var e=t.target,e=(e=!this.pds.utils.is(e,"a")?this.pds.utils.getClosest(e,"a"):e).dataNav;if(this.hidePopover(),null==e.onUserClick)throw"NavItem "+e.id+" did not have onUserClick function defined.";e.onUserClick(e,t)},l.prototype.log=function(t){for(var e=[],i=1;i<arguments.length;i++)e[i-1]=arguments[i];u.apply(window,arguments)},l.prototype.getDefaultAlignment=function(){return"bottom-end"},l);function l(){var t=null!==o&&o.apply(this,arguments)||this;return t.is="pds-user-menu",t.userMenuOpen=!1,t.properties={scopeClass:{type:String,value:""},user:{value:null},name:{value:null,type:String}},t}e.PdsUserMenu=r},function(t,e,i){"use strict";var n,r=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var o,s=i(5),a=i(9),u=i(122),l=i(6),r=(o=s.PdsWidget,r(c,o),Object.defineProperty(c.prototype,"dataShowButton",{set:function(t){this.showButton=a.pdsUtils.getStringBooleanValue(t)},enumerable:!0,configurable:!0}),Object.defineProperty(c.prototype,"dataShowIcon",{set:function(t){this.showIcon=a.pdsUtils.getStringBooleanValue(t)},enumerable:!0,configurable:!0}),Object.defineProperty(c.prototype,"dataShowText",{set:function(t){this.showText=a.pdsUtils.getStringBooleanValue(t)},enumerable:!0,configurable:!0}),Object.defineProperty(c.prototype,"dataShowTooltip",{set:function(t){this.showTooltip=a.pdsUtils.getStringBooleanValue(t)},enumerable:!0,configurable:!0}),c.prototype.attached=function(){o.prototype.attached.call(this),this.showText||this.showIcon||console.warn("Both the text and icon have been hidden for an immersive reader element, so it cannot be seen.")},c.prototype.created=function(){this.immersiveReaderService=new u.ImmersiveReaderService(this.asElement())},c.prototype.startImmersiveReader=function(){var t=this,e={content:this.dataContent,contentArray:this.dataContentArray,contentCallback:this.contentCallback,contentLanguage:this.dataContentLanguage,contentSelector:this.dataContentSelector,contentSeparator:this.dataContentSeparator,title:this.dataTitle,titleSelector:this.dataTitleSelector,titleCallback:this.titleCallback,uiLanguage:this.dataUiLanguage};this.immersiveReaderService.start(e).subscribe(function(){return t.emitOpen()},function(){return a.pdsUtils.fireMessageEvent(t.asElement(),l.pdsI18n.getText("pds|immersive-reader|Functionality not available because of invalid configuration.  Please contact your system administrator."),"ERROR")},function(){return t.emitClose()})},c.prototype.emitClose=function(){this.dispatchEvent(new Event("close"))},c.prototype.emitOpen=function(){this.dispatchEvent(new Event("open"))},c);function c(){var t=null!==o&&o.apply(this,arguments)||this;return t.is="pds-immersive-reader",t.showButton=!1,t.showIcon=!0,t.showText=!0,t.showTooltip=!0,t.properties={id:{type:String},dataTitle:{type:String},dataTitleSelector:{type:String},dataContent:{type:String},dataContentArray:{type:Array},dataContentSelector:{type:String},dataContentLanguage:{type:String},dataContentSeparator:{type:String},dataUiLanguage:{type:String},dataShowButton:{type:String,value:"false"},dataShowIcon:{type:String,value:"true"},dataShowText:{type:String,value:"true"},dataShowTooltip:{type:String,value:"true"},tooltipDirection:{type:Object}},t}e.PdsImmersiveReader=r},function(t,n,e){!function(t){var e,i;function o(t){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}window,i=function(){return n={},r.m=i=[function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CookiePolicy=void 0,(e=e.CookiePolicy||(e.CookiePolicy={}))[e.Disable=0]="Disable",e[e.Enable=1]="Enable"},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CookiePolicy=e.launchAsync=e.close=e.renderButtons=void 0;var n=i(2);Object.defineProperty(e,"renderButtons",{enumerable:!0,get:function(){return n.renderButtons}});var r=i(3);Object.defineProperty(e,"close",{enumerable:!0,get:function(){return r.close}}),Object.defineProperty(e,"launchAsync",{enumerable:!0,get:function(){return r.launchAsync}});var o=i(0);Object.defineProperty(e,"CookiePolicy",{enumerable:!0,get:function(){return o.CookiePolicy}}),"undefined"!=typeof window&&window.addEventListener("load",function(){var t;window.hasOwnProperty("Promise")||((t=document.createElement("script")).src="https://contentstorage.onenote.office.net/onenoteltir/permanent-static-resources/promise-polyfill.min.js",document.head.appendChild(t)),n.renderButtons()})},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.renderButtons=void 0;var n={af:"Indompelende leser",am:"á áá«á áµááµ áá£áª áá­á³ á áá£á¢",ar:"Ø§ÙÙØ§Ø±Ø¦ Ø§ÙØ´Ø§ÙÙ",as:"à¦à¦®à¦¾à§°à¦à¦¿à¦­ à§°à¦¿à¦¡à¦¾à§°",az:"Ä°mmersiv Oxuyucu",be:"ÐÐ¼ÐµÑÑÑÑÐ½Ñ ÑÑÑÐ°Ð»ÑÐ½ÑÐº",bg:"ÐÐ¾Ð½ÑÐµÐ½ÑÑÐ¸ÑÐ°Ð½ ÑÐµÑÐµÑ",bn:"à¦®à¦¨à§à¦à§à¦°à¦¾à¦¹à§ à¦ªà¦¾à¦ à¦","bn-bd":"à¦à¦®à¦¾à¦°à§à¦¸à¦¿à¦­ à¦ªà¦¾à¦ à¦",bs:"Koncentrirani Äitalac",ca:"Lector immersiu",cs:"AsistivnÃ­ ÄteÄka","cy-gb":"Darllenydd Ymdrwythol",da:"Forenklet lÃ¦ser",de:"Plastischer Reader",el:"Î ÏÎ¿Î·Î³Î¼Î­Î½Î¿ ÏÏÏÎ³ÏÎ±Î¼Î¼Î± Î±Î½Î¬Î³Î½ÏÏÎ·Ï",en:"Immersive Reader",es:"Lector inmersivo",et:"SÃ¼valuger",eu:"Irakurgailu murgiltzailea",fa:"Ø®ÙØ§ÙÙØ¯Ù ÙÙÙâØ¬Ø§ÙØ¨Ù",fi:"SyventÃ¤vÃ¤ lukuohjelma",fil:"Immersive Reader",fr:"Lecteur immersif","ga-ie":"LÃ©itheoir tumthach",gd:"An leughadair Ã¹r-nÃ²sach",gl:"Lector avanzado",gu:"àªàª®àª°à«àª¸àª¿àªµ àª°à«àª¡àª°",ha:"Mai karatu Mai barbazawa",he:"×ª×¦×××ª ×§×¨××× ××××¨× ××ª",hi:"à¤à¤®à¤°à¥à¤¸à¤¿à¤µ à¤°à¥à¤¡à¤°",hr:"Stopljeni ÄitaÄ",hu:"Modern olvasÃ³",hy:"Ô½Õ¸ÖÕ¡Õ½Õ¸ÖÕ¦Õ¾Õ¡Õ® Õ¨Õ¶Õ©Õ¥ÖÖÕ«Õ¹",id:"Pembaca Imersif",ig:"á»gá»¥á»¥ Kenzipá»¥tara",is:"AÃ°gengilegt lestrarumhverfi",it:"Strumento di lettura immersiva",ja:"ã¤ãã¼ã·ã ãªã¼ãã¼",ka:"áááá á¡áá£áá á¬áááááá®áááá",kk:"ÐÐ¼Ð¼ÐµÑÑÐ¸Ð²ÑÑ Ð¾ÒÑ ÒÒ±ÑÐ°Ð»Ñ",km:"áááááá·áá¸á¢á¶ááááááááááááá¾á¢áááááá",kn:"à²à²®à³à²®à²°à³à²¸à²¿à²µà³ à²à²¦à³à²",ko:"ëª°ìí ë¦¬ë",kok:"à¤¤à¤à¤¦à¥à¤°à¥ à¤²à¤¾à¤à¤¿à¤²à¥à¤²à¥ à¤µà¤¾à¤à¤","ku-arab":"Ø®ÙÛÙÛØ±Û Ù¾Ú",ky:"ÐÑÑÑÐ°Ð³Ð°Ð½ ÐÐºÑÐ³ÑÑ",lb:"Immersive Reader",lo:"àºàº»àº§àº­à»àº²àºàº­àº´àº¡à»àº¡àºµàºªàºµàº",lt:"Ä®traukianti skaitytuvÄ",lv:"TÄ«rskata lasÄ«tÄjs",mi:"PÅ«pÄnui Rumaki",mk:"Ð¡ÐµÐ¾Ð¿ÑÐ°ÑÐµÐ½ ÑÐ¸ÑÐ°Ñ",ml:"à´à´®àµà´®àµà´´àµâà´¸àµà´µàµ à´±àµà´¡àµ¼",mn:"ÐÐ´ÑÐ²ÑÑÑÐ¹ ÑÐ½ÑÐ¸Ð³Ñ",mr:"à¤à¤®à¤°à¥à¤¸à¤¿à¤µà¥à¤¹ à¤µà¤¾à¤à¤",ms:"Pembaca Imersif",mt:"Qarrej Immersiv",ne:"à¤à¤®à¥à¤°à¥à¤¸à¤¿à¤­ à¤°à¤¿à¤¡à¤°",nl:"Insluitende lezer","nn-no":"Engasjerande lesar",no:"Engasjerende leser",nso:"Go Bala ka Mongwalo o Mokoto",or:"à¬à¬®à¬°à¬¸à¬¿à¬­à­ à¬°à¬¿à¬¡à¬°à­",pa:"à¨à¨®à¨°à¨¸à¨¿à¨µ à¨°à©à¨¡à¨°","pa-arab":"Ú¯Ú¾ÛØ±Ù Ø¢ÙØ§ ÙØ·Ø§ÙØ¹Û Ú©Ø§Ø±",pl:"Czytnik immersyjny",prs:"Ø®ÙØ§ÙÙØ¯Ù ÙÙØ§ÛØ´",pt:"Leitura AvanÃ§ada",quc:"Nim ucholajil sik'inel uwach",quz:"Wankisqa Ãawiq",ro:"Immersive Reader",ru:"ÐÐ¼Ð¼ÐµÑÑÐ¸Ð²Ð½Ð¾Ðµ ÑÑÐµÐ´ÑÑÐ²Ð¾ ÑÑÐµÐ½Ð¸Ñ",rw:"Insakazasoma",sd:"Ø§ÙØ±Ø³Ù Ø±ÙÚØ±",si:"à¶à·à¶½à·à¶± à·à·à·à· à¶à·à¶ºà·à¶±à¶º",sk:"ImerznÃ¡ ÄÃ­taÄka",sl:"Potopni bralnik",sq:"Lexuesi kredhÃ«s","sr-cyrl-ba":"ÐÐ¾Ð½ÑÐµÐ½ÑÑÐ¸ÑÐ°Ð½Ð¸ ÑÐ¸ÑÐ°Ð»Ð°Ñ","sr-cyrl-rs":"ÐÐ¾Ð½ÑÐµÐ½ÑÑÐ¸ÑÐ°Ð½Ð¸ ÑÐ¸ÑÐ°Ð»Ð°Ñ","sr-latn-rs":"Koncentrisani Äitalac",sv:"Avancerad lÃ¤sare",sw:"Kisomaji cha Kuzamisha",ta:"à®à®±à¯à®ªà¯à®¤à®®à®¾à®© à®°à¯à®à®°à¯",te:"à°®à°à°¤à±à°°à°®à±à°à±à°§à±à°²à°¨à± à°à±à°¸à± à°ªà° à°¨ à°¸à°¾à°§à°¨à°","tg-cyrl-tj":"Ð¥Ð¾Ð½Ð°Ð½Ð´Ð°Ð¸ ÑÐ°ÑÐ¾Ð³Ð¸Ñ",th:"à¹à¸à¸£à¹à¸à¸£à¸¡à¸à¹à¸§à¸¢à¸­à¹à¸²à¸",ti:"á£áá£á¢ ááá áµáááµ áá£áª",tk:"GiÅiÅleÃ½in okaÃ½jy",tn:"Sebadi sa Imesife",tr:"Tam Ekran Okuyucu",tt:"Ð§Ð¾Ð»Ð³Ð°Ð¿ Ð°Ð»ÑÑÑ ÑÐºÑ ÑÐ°ÑÐ°ÑÑ","ug-cn":"ÚÛÙÙÛ Ø¦ÙÙÛØºÛÚ",uk:"ÐÐ°Ð½ÑÑÐµÐ½Ð½Ñ Ð² ÑÐµÐºÑÑ",ur:"Ø§ÙØ±Ø³ÛÙ ÙØ·Ø§ÙØ¹Û Ú©Ø§Ø±",uz:"Immersiv mutolaa vositasi",vi:"TrÃ¬nh Äá»c ChÃ¢n thá»±c",wo:"JÃ ngukaay bu Rafet",xh:"Isifundi Esikhulu",yo:"ÃwÃ² AlÃ¡mÃ¹tÃ¡n",zh:"æ²æµ¸å¼éè¯»å¨","zh-hant":"æ²æµ¸å¼é±è®ç¨å¼",zu:"Isifundi Sokuzizwisa"};function u(t){var e=document.createElement("img");e.src="https://contentstorage.onenote.office.net/onenoteltir/permanent-static-resources/immersive-reader-icon.svg";var i=t.getAttribute("data-icon-px-size")||"20";e.style.height=e.style.width=i+"px",e.style.verticalAlign="middle",e.style.marginTop="-2px";i=t.getAttribute("data-locale")||"en";e.alt=c(i),t.appendChild(e)}function l(t){var e=document.createElement("span"),i=t.getAttribute("data-locale")||"en";e.textContent=c(i),t.appendChild(e)}function c(t){return t=t.toLowerCase(),n[t]||("zh-hk"===t||"zh-mo"===t||"zh-tw"===t?n["zh-hant"]:(t=t.substring(0,t.lastIndexOf("-")),n[t]||(t=t.substring(0,t.lastIndexOf("-")),n[t]||n.en)))}e.renderButtons=function(t){var e=document.createElement("style");e.innerHTML=".immersive-reader-button{cursor:pointer;display:inline-block;padding:5px;} .immersive-reader-button:hover{background:rgba(0,0,0,.05);border-radius:2px",document.head.appendChild(e);for(var i,n,e=[].slice.call(document.getElementsByClassName("immersive-reader-button")),r=0,o=e=t&&t.elements?t.elements:e;r<o.length;r++){var s=o[r];s.setAttribute("role","button");var a=s.getAttribute("data-locale")||"en";switch(s.setAttribute("aria-label",c(a)),s.getAttribute("data-button-style")||"icon"){case"icon":u(s);break;case"text":l(s);break;case"iconAndText":u(s),i=s,n=void 0,(n=document.createElement("span")).style.marginLeft="8px",i.appendChild(n),l(s)}}}},function(t,e,i){"use strict";var y=this&&this.__assign||function(){return(y=Object.assign||function(t){for(var e,i=1,n=arguments.length;i<n;i++)for(var r in e=arguments[i])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}).apply(this,arguments)};Object.defineProperty(e,"__esModule",{value:!0}),e.isValidSubdomain=e.close=e.launchAsync=void 0;var m=i(0),v=i(4),b={};b[v.ErrorCode.TokenExpired]="The access token supplied is expired.",b[v.ErrorCode.Throttled]="You have exceeded your quota.",b[v.ErrorCode.ServerError]="An error occurred when calling the server to process the text.";var S=!(b[v.ErrorCode.InvalidSubdomain]="The subdomain supplied is invalid.");function T(t){return!!t&&new RegExp("^([a-zA-Z0-9]|[a-zA-Z0-9][a-zA-Z0-9\\-]{0,61}[a-zA-Z0-9])$").test(t)}e.launchAsync=function(p,h,f,g){return S?Promise.reject("Immersive Reader is already launching"):new Promise(function(r,o){var s,t,a,u,e,l,i,c,n,d;p?f?f.chunks?f.chunks.length?T(h)||g&&g.customDomain?(S=!0,s=Date.now(),(g=y({uiZIndex:1e3,timeout:15e3,useWebview:!1,allowFullscreen:!0,hideExitButton:!1,cookiePolicy:m.CookiePolicy.Disable},g)).uiZIndex&&"number"==typeof g.uiZIndex||(g.uiZIndex=1e3),t=null,a=document.createElement("div"),(u=g.useWebview?document.createElement("webview"):document.createElement("iframe")).allow="autoplay",(e=document.createElement("style")).innerHTML="body{height:100%;overflow:hidden;}",l=function(){t&&(window.clearTimeout(t),t=null)},c=function(){if(i(),g.onExit)try{g.onExit()}catch(t){}},(i=function(){document.body.contains(a)&&document.body.removeChild(a),window.removeEventListener("message",n),l(),e.parentNode&&e.parentNode.removeChild(e)})(),n=function(t){if(t&&t.data&&"string"==typeof t.data)if("ImmersiveReader-ReadyForContent"===t.data){l();var e={cogSvcsAccessToken:p,cogSvcsSubdomain:h,request:f,launchToPostMessageSentDurationInMs:Date.now()-s,disableFirstRun:g.disableFirstRun,readAloudOptions:g.readAloudOptions,translationOptions:g.translationOptions,displayOptions:g.displayOptions,sendPreferences:!!g.onPreferencesChanged,preferences:g.preferences};u.contentWindow.postMessage(JSON.stringify({messageType:"Content",messageValue:e}),"*")}else if("ImmersiveReader-Exit"===t.data)c();else if(t.data.startsWith("ImmersiveReader-LaunchResponse:")){var i=null,e=null,n=null;try{n=JSON.parse(t.data.substring("ImmersiveReader-LaunchResponse:".length))}catch(t){}n&&n.success?i={container:a,sessionId:n.sessionId,charactersProcessed:n.meteredContentSize}:e=n&&!n.success?{code:n.errorCode,message:b[n.errorCode],sessionId:n.sessionId}:{code:v.ErrorCode.ServerError,message:b[v.ErrorCode.ServerError]},S=!1,i?(l(),r(i)):e&&(c(),o(e))}else if(t.data.startsWith("ImmersiveReader-Preferences:")&&g.onPreferencesChanged&&"function"==typeof g.onPreferencesChanged)try{g.onPreferencesChanged(t.data.substring("ImmersiveReader-Preferences:".length))}catch(t){}},window.addEventListener("message",n),t=window.setTimeout(function(){i(),S=!1,o({code:v.ErrorCode.Timeout,message:"Page failed to load after timeout ("+g.timeout+" ms)"})},g.timeout),g.allowFullscreen&&u.setAttribute("allowfullscreen",""),u.style.cssText="position: static; width: 100vw; height: 100vh; left: 0; top: 0; border-width: 0",g.useWebview&&u.addEventListener("loadstop",function(){u.contentWindow.postMessage(JSON.stringify({messageType:"WebviewHost"}),"*")}),d=(g.customDomain||"https://"+h+".cognitiveservices.azure.com/immersivereader/webapp/v1.0/")+"reader?exitCallback=ImmersiveReader-Exit&sdkPlatform=js&sdkVersion=1.1.0",d+="&cookiePolicy="+(g.cookiePolicy===m.CookiePolicy.Enable?"enable":"disable"),g.hideExitButton&&(d+="&hideExitButton=true"),g.uiLang&&(d+="&omkt="+g.uiLang),u.src=d,a.style.cssText="position: fixed; width: 100vw; height: 100vh; left: 0; top: 0; border-width: 0; -webkit-perspective: 1px; z-index: "+g.uiZIndex+"; background: white; overflow: hidden",a.appendChild(u),document.body.appendChild(a),document.head.appendChild(e)):o({code:v.ErrorCode.InvalidSubdomain,message:b[v.ErrorCode.InvalidSubdomain]}):o({code:v.ErrorCode.BadArgument,message:"Chunks must not be empty"}):o({code:v.ErrorCode.BadArgument,message:"Chunks must not be null"}):o({code:v.ErrorCode.BadArgument,message:"Content must not be null"}):o({code:v.ErrorCode.BadArgument,message:"Token must not be null"})})},e.close=function(){window.postMessage("ImmersiveReader-Exit","*")},e.isValidSubdomain=T},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ErrorCode=void 0,(e=e.ErrorCode||(e.ErrorCode={})).BadArgument="BadArgument",e.Timeout="Timeout",e.TokenExpired="TokenExpired",e.Throttled="Throttled",e.ServerError="ServerError",e.InvalidSubdomain="InvalidSubdomain"}],r.c=n,r.d=function(t,e,i){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},r.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==o(e)&&e&&e.__esModule)return e;var i=Object.create(null);if(r.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)r.d(i,n,function(t){return e[t]}.bind(null,n));return i},r.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="",r(r.s=1);function r(t){if(n[t])return n[t].exports;var e=n[t]={i:t,l:!1,exports:{}};return i[t].call(e.exports,e,e.exports,r),e.l=!0,e.exports}var i,n},"object"==o(n)&&"object"==o(t)?t.exports=i():(e=[],void 0===(i="function"==typeof(i=i)?i.apply(n,e):i)||(t.exports=i))}.call(this,e(227)(t))},function(t,e){t.exports=function(t){return t.webpackPolyfill||(t.deprecate=function(){},t.paths=[],t.children||(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return t.i}}),t.webpackPolyfill=1),t}},function(t,e,i){"use strict";var n,r=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var o,s=i(5),a=i(6),r=(o=s.PdsWidget,r(u,o),u.prototype.ready=function(){var t=this;o.prototype.ready.call(this),this.logoutTimer=window.setTimeout(function(){t.signOut()},3e4)},u.prototype.getSignOutOptions=function(t){return this.signOutOptions=[{text:a.pdsI18n.getText("pds|logout|Sign out of Unified Classroom only"),value:"sign-out-uc"},{text:a.pdsI18n.getText("pds|logout|Sign out of all xx Authenticated applications",{authenticationType:t.charAt(0).toUpperCase()+t.slice(1)}),value:"sign-out-"+t.toLowerCase()}],this.selectedValue="sign-out-"+t.toLowerCase(),this.signOutOptions},u.prototype.staySignedIn=function(){window.clearTimeout(this.logoutTimer),this.fire("pdsLogout",{type:"STAY_SIGNED_IN",value:!0})},u.prototype.signOut=function(){window.clearTimeout(this.logoutTimer),this.fire("pdsLogout",{type:"SIGN_OUT",value:this.selectedValue})},u);function u(){var t=null!==o&&o.apply(this,arguments)||this;return t.is="pds-logout",t.properties={authenticationType:{type:String,value:"google"}},t}e.PdsLogout=r},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=i(9),i=i(10),r=i.pdsLogger.prependLogger(i.pdsLogger.requiresLogger("parsed-html-content"),"document-section.ts"),i=(n.prototype.addNode=function(t){this.nodes.push(t),this.updateBounds(t)},n.prototype.getText=function(){return this.nodes.map(function(t){return t instanceof HTMLElement?t.innerText:t.textContent}).filter(function(t){return!!t}).map(function(t){return t.trim()})},n.prototype.includesElement=function(e){return this.nodes.some(function(t){return t===e})},n.prototype.resetBounds=function(t,e){this.maxRight=t||this.maxRight,this.maxBottom=e||this.maxBottom,delete this.bounds;for(var i=0,n=this.nodes;i<n.length;i++){var r=n[i];this.updateBounds(r)}},n.prototype.updateBounds=function(t){var e=t instanceof HTMLElement?o.pdsUtils.getBoundingBoxOffsetFromContainer(this.container,t,!1):o.pdsUtils.getTextNodeBoundingBoxOffsetFromContainer(this.container,t),i=e.left,n=e.top,r=e.right-e.left,t=e.bottom-e.top;null==this.bounds?this.bounds={left:i,top:n,width:r,height:t}:(this.bounds.left=Math.min(this.bounds.left,i),this.bounds.top=Math.min(this.bounds.top,n),r=e.right-this.bounds.left,t=e.bottom-this.bounds.top,this.bounds.width=Math.max(this.bounds.width,r),this.bounds.height=Math.max(this.bounds.height,t)),this.bounds.left<0&&(this.bounds.width-=0-this.bounds.left,this.bounds.left=0),this.bounds.top<0&&(this.bounds.height-=0-this.bounds.top,this.bounds.top=0),this.bounds.left+this.bounds.width>this.maxRight&&(this.bounds.width=this.maxRight-this.bounds.left),this.bounds.top+this.bounds.height>this.maxBottom&&(this.bounds.height=this.maxBottom-this.bounds.top),this.updateButtonPosition()},n.prototype.updateButtonPosition=function(){var t,e;null!=this.bounds&&(t=this.bounds.left+this.bounds.width/2,e=this.bounds.top+this.bounds.height/2,t-=16,e-=16,this.button={left:t,top:e})},n);function n(t,e,i,n){this.container=t,this.maxRight=e,this.maxBottom=i,this.reasons=n,this.nodes=[],this.focused=!1,this.selected=!1,r("A new section was created for the following reason"+(1<n.length?"s":"")+": "+n.join(", "))}e.HtmlContentSection=i},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.breakOnAll={reason:"breaking on all",evaluate:function(){return!0},properties:[]}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});i=i(126);e.breakOnBackgroundChange={reason:"background changed",evaluate:function(t,e){return null!=t.background&&(null==e.background||t.background!==e.background)},properties:[i.background]}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(127),i=i(106);e.breakOnBold={reason:"the text is bold and there are a lot of characters",evaluate:function(t){return 400<+t.fontWeight&&1500<t.textLength},properties:[n.fontWeight,i.textLength]}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});i=i(128);e.breakOnFontSizeIncrease={reason:"font size increased",evaluate:function(t,e){return t.fontSize>e.fontSize},properties:[i.fontSize]}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});i=i(129);e.breakOnTableChange={reason:"table changed",evaluate:function(t,e){return null!=e.table&&t.table!==e.table},properties:[i.tableAncestor]}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});i=i(106);e.breakOnTooManyCharacters={reason:"this section has too many characters",evaluate:function(t){return 4e3<t.textLength},properties:[i.textLength]}},function(t,e,i){"use strict";var n,r=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var o,i=i(5),r=(o=i.PdsWidget,r(s,o),s.prototype.attached=function(){var t=this;o.prototype.attached.call(this),this.controlsObserver=this.polymerDom(this.$.controls).observeNodes(function(){return t.updateShowControls()}),this.updateShowControls()},s.prototype.detached=function(){o.prototype.detached.call(this),this.polymerDom(this.$.controls).unobserveNodes(this.controlsObserver)},s.prototype.onButtonClick=function(t){t.model.button.callback&&t.model.button.callback(t)},s.prototype.isDisabled=function(t){return null!=t.disable&&t.disable.isDisabled({})},s.prototype.showTooltip=function(t){return this.isDisabled(t)&&null!=t.disable&&!!t.disable.disabledTooltip},s.prototype.hideTooltip=function(t){return!this.showTooltip(t)},s.prototype.tooltipTriggerClass=function(t){return this.showTooltip(t)?"pds-tooltip-trigger":""},s.prototype.updateShowControls=function(){this.showControls=0<this.getEffectiveChildren(".pds-banner-control").length},s);function s(){var t=null!==o&&o.apply(this,arguments)||this;return t.is="pds-banner",t.showControls=!1,t}e.PdsBanner=r},function(t,e,i){"use strict";var n,r=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var o,s=i(5),i=i(10),c=i.pdsLogger.prependLogger(i.pdsLogger.requiresLogger("element-renderer"),"pds-element-renderer.ts"),r=(o=s.PdsWidget,r(a,o),a.prototype.elementConfigChange=function(t,e){c("elementConfig changed"),this.renderElement(e)},a.prototype.renderElement=function(t){if(null==this.elementConfig)return this.innerHTML="",void c("clearing element");var e=this.firstChild;null==e||e.tagName.toUpperCase()!==this.elementConfig.tagName.toUpperCase()?(c("creating element "+this.elementConfig.tagName),this.innerHTML="",e=document.createElement(this.elementConfig.tagName),this.applyAttributesAndProperties(e,t),this.appendChild(e)):(c("updating attributes and properties on existing element "+this.elementConfig.tagName),this.applyAttributesAndProperties(e,t))},a.prototype.applyAttributesAndProperties=function(t,e){if(null!=this.elementConfig&&null!=t){if(c("applying a config to "+t.tagName),null!=this.elementConfig.attributes){for(var i=0,n=Object.keys(this.elementConfig.attributes);i<n.length;i++){var r=n[i];t.setAttribute(r,this.elementConfig.attributes[r])}if(null!=e&&null!=e.attributes)for(var o=0,s=Object.keys(e.attributes);o<s.length;o++){r=s[o];null==this.elementConfig.attributes[r]&&t.removeAttribute(r)}}if(null!=this.elementConfig.properties&&(Object.assign(t,this.elementConfig.properties),null!=e&&null!=e.properties))for(var a=0,u=Object.keys(e.properties);a<u.length;a++){var l=u[a];null==this.elementConfig.properties[l]&&delete t[l]}null!=this.elementConfig.scopeClass&&t.classList.add(this.elementConfig.scopeClass)}},a);function a(){var t=null!==o&&o.apply(this,arguments)||this;return t.is="pds-element-renderer",t.properties={elementConfig:{value:null,observer:"elementConfigChange"}},t}e.PdsElementRenderer=r},function(t,e,i){"use strict";var n,r=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var o,s,a=i(5),u=i(9),l=i(10),c=i(6),d=l.pdsLogger.prependLogger(l.pdsLogger.requiresLogger("gridWidget"),"pds-gw-date-filter.ts"),r=(s=a.PdsWidget,r(p,s),p.prototype.attached=function(){var e=this;d("attached called"),s.prototype.attached.call(this),this.watch("filter.comparator");var t=this.querySelector(".pds-gw-date-filter-content");null!=t&&t.addEventListener("modelValueChange",function(t){u.pdsUtils.is(t.target,'pds-date-widget[name$="-1"]')?e.filter.searchValueDate=t.target.modelValue:e.filter.searchValueDate2=t.target.modelValue,e.inputChange()})},p.prototype.inputChange=function(){d("inputChange called"),this.filter.comparator=this.querySelector("select").value;var t=new Event("renderedElementValueChange",{bubbles:!0});this.dispatchEvent(t)},p.prototype.getDateField=function(){return d("getNumberField called"),this.filter.dataField},p.prototype.getDateFilterComparators=function(){return o=null==o?[{value:">=",text:"â¥"},{value:">",text:">"},{value:"=",text:"="},{value:"<",text:"<"},{value:"<=",text:"â¤"},{value:"range",text:c.pdsI18n.getText("pds|grid widget|Range")}]:o},p.prototype.getLabelText=function(){return"range"===this.filter.comparator?"Above":this.filter.dataField.title},p.prototype.getPlaceholderText=function(){return null==this.filter||null==this.filter.dataField?"":this.getDateField().placeholderText},p.prototype.getValidationRule=function(t){return d("getValidationRule called"),null!=this.filter&&null!=this.filter.dataField&&null!=this.filter.dataField.validationRules?this.filter.dataField.validationRules[t]:null},p);function p(){var t=null!==s&&s.apply(this,arguments)||this;return t.is="pds-gw-date-filter",t}e.PdsGwDateFilter=r},function(t,e,i){"use strict";var n,r=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var o,s=i(5),a=i(9),u=i(76),l=i(6),c=i(15),d=i(19),p=i(19),h=i(10),f=i(33),g=h.pdsLogger.prependLogger(h.pdsLogger.requiresLogger("gridWidget"),"pds-grid-widget-filter.ts"),r=(o=s.PdsWidget,r(y,o),y.prototype.created=function(){g("created called"),this.filterValueChanged=new c.Subject},y.prototype.ready=function(){g("ready called"),o.prototype.ready.call(this),this.subscribeToUserChanges()},y.prototype.attached=function(){g("attached called"),o.prototype.attached.call(this),this.attachWidgetListeners(),this.updateIsFilterValid(),this.updateIsMainFilterBlank()},y.prototype.attachWidgetListeners=function(){var e=this;g("attachWidgetListeners called");var t=this.querySelector(".pds-grid-widget-filter-content");null!=t&&(t.addEventListener("input",function(t){g("input event from a grid-widget-filter"),t.skipDirtyStateHandling=!0}),t.addEventListener("change",function(t){g("change event from a grid-widget-filter"),t.skipDirtyStateHandling=!0,setTimeout(function(){e.updateIsFilterValid()})}),t.addEventListener("renderedElementValueChange",function(){g("renderedElementValueChange event from a grid-widget-filter"),e.filterValueChanged.next()}))},y.prototype.subscribeToUserChanges=function(){var e=this;g("subscribeToUserChanges called"),this.filterValueChanged.pipe(p.map(function(t){return g("filterValue changed"),e.updateIsFilterValid(),e.updateIsMainFilterBlank(),t}),d.debounceTime(Number(this.typingDebounceTime))).subscribe(function(t){e.runTask()})},y.prototype.updateIsFilterValid=function(){g("updateIsFilterValid");for(var t=!0,e=0,i=this.querySelectorAll("pds-date-widget, pds-number-widget, pds-text-widget");e<i.length;e++)var n=i[e],t=t&&n.isValid;this.isFilterValid=t},y.prototype.updateIsMainFilterBlank=function(){g("updateIsMainFilterBlank");var t=this.getFirstFilterContainer();null!=t&&this.setPrivatePolymerPropertyValue("isMainFilterBlank",t.filter.isBlank())},y.prototype.gridWidgetChange=function(){var e=this;g("gridWidgetChange called"),null!=this.dataGridWidgetId&&this.subscriptions.push(f.serviceInstances.getGridWidgetService().getGridWidget(this.dataGridWidgetId).subscribe(function(t){e.gridWidget=t||null,null!=e.gridWidget&&(e.updateSelectedFilterId(),e.watch("gridWidget.filterControl.filterContainers",function(){var t;null!=e.gridWidget&&(0<e.gridWidget.filterControl.filterContainers.length?(t=e.gridWidget.filterControl.filterContainers[0]).dataField.id!==e.selectedFilterId&&(e.selectedFilterId=t.dataField.id):e.selectedFilterId=null)}),e.watch("gridWidget.hideFilterControls"),e.watch("gridWidget.filterConstraint"),e.watch("gridWidget.taskChainComplete.result"),e.gridWidget.paginationControl&&e.watch("gridWidget.paginationControl.numberOfRows"),e.subscriptions.push(e.gridWidget.initComplete.subscribe(function(){e.updateSelectedFilterId()})),e.subscriptions.push(e.gridWidget.tasksComplete.subscribe(function(){e.updateIsMainFilterBlank()})))}))},y.prototype.updateSelectedFilterId=function(){g("updateSelectFilterId called");var t=this.getFirstFilterContainer();null!=t&&(this.selectedFilterId=t.dataField.id)},y.prototype.showFilter=function(){return g("showFilter called"),null!=this.dataGridWidgetId&&null!=this.gridWidget&&!this.gridWidget.hideFilterControls&&"no-filters"!==this.gridWidget.filterConstraint},y.prototype.enterKeyPressed=function(t){g("enterKeyPressed called"),13!==t.which||null==this.gridWidget||"advanced-only"!==this.gridWidget.filterConstraint&&null!=this.gridWidget.filterConstraint||this.addAnotherFilter(t)},y.prototype.addAnotherFilter=function(e){g("addAnotherFilter called");var t=this.getFirstFilterContainer();this.isFilterValid&&null!=this.gridWidget&&null!=t&&!t.filter.isBlank()&&(this.gridWidget.filterControl.addAnotherFilter(),null!=(t=this.getFirstFilterContainer())&&(this.selectedFilterId=t.filter.dataField.id),e&&setTimeout(function(){var t=a.pdsUtils.getClosest(e.target,"fieldset");null!=t&&t.querySelector("div:last-of-type select:first-of-type").focus()},0),this.updateIsMainFilterBlank())},y.prototype.getFirstFilterContainer=function(){if(null!=this.gridWidget&&0!==this.gridWidget.filterControl.filterContainers.length)return this.gridWidget.filterControl.filterContainers[0]},y.prototype.isAddFilterButtonDisabled=function(){g("isAddFilterButtonDisabled called");var t=this.getFirstFilterContainer();return null==t||(t.filter.isBlank()||!this.isFilterValid)},y.prototype.showActiveFilters=function(){return null!=this.gridWidget&&"simple-only"!==this.gridWidget.filterConstraint&&1<this.gridWidget.filterControl.filterContainers.length},y.prototype.clearFilterControls=function(){var t;g("clearFilterControls called"),null!=this.gridWidget&&(this.gridWidget.clearFilterControls(),null!=(t=this.getFirstFilterContainer())&&(this.selectedFilterId=t.dataField.id,this.redrawTrigger=!this.redrawTrigger),this.updateIsMainFilterBlank())},y.prototype.removeFilter=function(t){g("removeFilter called"),null!=this.gridWidget&&(null==(t=this.extractProperty(t,"button","index"))&&(t=0),this.gridWidget.filterControl.removeFilter(t),this.runTask(),this.switchFocus())},y.prototype.runTask=function(t){g("pdsGridWidgetFilter.runTask is running."),null!=this.gridWidget&&u.pdsValidation.validateElements(this.querySelector(".pds-filter-controls"),!1)&&(g("The elements were valid.  Executing task chain"),this.gridWidget.executeTaskChain(t))},y.prototype.switchFocus=function(){g("switchFocus called");var e=this.querySelector(".pds-selection-status");setTimeout(function(){var t;null!=e&&(null==(t=a.pdsUtils.getAllTabbableElements(e))||null!=(t=a.pdsUtils.getTabbableElementAtIndex(t,t.length-1))&&t.focus())})},y.prototype.getFilterResult=function(){return null==this.gridWidget?"":null!=this.gridWidget.paginationControl?l.pdsI18n.getText(1===this.gridWidget.paginationControl.numberOfRows?"pds|grid widget|1 Result":"pds|grid widget|xx Results",{number:this.gridWidget.paginationControl.numberOfRows}):null==this.gridWidget.taskChainComplete.result?"":l.pdsI18n.getText(1===this.gridWidget.taskChainComplete.result.length?"pds|grid widget|1 Result":"pds|grid widget|xx Results",{number:this.gridWidget.taskChainComplete.result.length})},y.prototype.getSelectableFilterFields=function(){return g("getSelectableFilterFields called"),null==this.gridWidget?(g("returning empty"),[]):this.gridWidget.filterControl.getSelectableFilterFields().map(function(t){return{value:t.id,text:t.title}})},y.prototype.updateSelectedFilter=function(t){var e;g("updateSelectedFilter called"),null!=this.gridWidget&&(e=t.target.value,null!=(t=this.getFirstFilterContainer())&&(this.setPrivatePolymerPropertyValue("isMainFilterBlank",t.filter.isBlank()),this.gridWidget.filterControl.filterFieldUpdated(t,e),this.selectedFilterId=t.filter.dataField.id,this.gridWidget.executeTaskChain()))},y.prototype.getSelectedComponentConfig=function(){var t=this.getFirstFilterContainer();return null==t?null:this.getComponentConfig(t)},y.prototype.getComponentConfig=function(t){return{tagName:t.filter.getTagName(),properties:{filter:t.filter},attributes:{id:this.dataGridWidgetId+"-"+t.dataField.id},scopeClass:"pds-grid-widget-filter"}},y.prototype.getTagText=function(t){return t.filter.getTagText()},y.prototype.detached=function(){g("detached called"),o.prototype.detached.call(this),this.cancelSubscriptions()},y);function y(){var t=null!==o&&o.apply(this,arguments)||this;return t.is="pds-grid-widget-filter",t.gridWidget=null,t.isFilterValid=!0,t.isMainFilterBlank=!0,t.selectedFilterId=null,t.properties={dataGridWidgetId:{type:String,value:null,observer:"gridWidgetChange"},typingDebounceTime:{value:400},isMainFilterBlank:{value:!0,readOnly:!0}},t}e.PdsGridWidgetFilter=r},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(15),i=(r.prototype.registerGridWidget=function(t,e){null!=this.registeredGridWidget[e]?this.registeredGridWidget[e].next(t):this.registeredGridWidget[e]=new n.BehaviorSubject(t)},r.prototype.getGridWidget=function(t){return null==this.registeredGridWidget[t]&&(this.registeredGridWidget[t]=new n.BehaviorSubject(void 0)),this.registeredGridWidget[t]},r);function r(){this.registeredGridWidget={}}e.GridWidgetService=i},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var u=i(242),n=i(48),l=i(133),r=i(15),i=(o.prototype.getMessageMap=function(t){switch(t){default:case"FLOATING":return this.notificationMessages;case"DOCKED":return this.dockedMessages;case"INLINE":return this.inlineMessages}},o.prototype.displayMessage=function(t,e,i,n,r){var o=this,s=new u.Message(t,e,i,n,r),a=this.getMessageMap(s.location);null!=a&&(null!=(r=a.get(s.message))&&!1===r.timeoutOccurred&&(clearTimeout(r.timeoutObj),r.timeoutOccurred=!0),a.put(s.message,s),l.MessageHistory.add(s),this.messageChangeStream.next(s),0!==s.timeout&&(s.timeoutObj=setTimeout(function(){a.remove(s.message),s.timeoutOccurred=!0,o.messageChangeStream.next(s)},s.timeout)))},o.prototype.removeMessage=function(t,e){if(null!=e){t=this.getMessageMap(t);if(null!=t){e=t.remove(e);if(this.messageChangeStream.next(e),null!=e)return clearTimeout(e.timeoutObj),!0}}return!1},o.prototype.removeMessagesByLocation=function(){for(var e=this,t=[],i=0;i<arguments.length;i++)t[i]=arguments[i];t.forEach(function(t){var n,t=e.getMessageMap(t);null!=t&&(n=[],t.forEach(function(t,e,i){n.push(t)}),t.clear(),e.messageChangeStream.next(n))})},o);function o(){this.notificationMessages=new n.OrderedMap,this.dockedMessages=new n.OrderedMap,this.inlineMessages=new n.OrderedMap,this.messageChangeStream=new r.Subject}e.MessageService=i},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=(Object.defineProperty(r.prototype,"isTypeSuccess",{get:function(){return"SUCCESS"===this.type},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"isTypeInfo",{get:function(){return"INFO"===this.type},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"isTypeWarning",{get:function(){return"WARNING"===this.type},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"isTypeError",{get:function(){return"ERROR"===this.type},enumerable:!0,configurable:!0}),r.prototype.tokenizeMessage=function(n){if("string"==typeof n)return[{isLinkItem:!1,message:n}];if(null==n.links||null!=n.links&&n.links.length<1)return[{isLinkItem:!1,message:n.message}];this.hasLinks=!0;for(var t=n.message.split(/(<a.+?[^>]*>[^<]*<\/a>)/g),r=[],e=0,i=t;e<i.length;e++)!function(t){var e,i;"<"!==t.trim().charAt(0)?r.push({isLinkItem:!1,message:t}):((i=document.createElement("div")).innerHTML=t.trim(),e=i.firstChild,null==(i=n.links.filter(function(t){return e.id===t.id})[0])&&console.error("Link with id '"+e.id+"' not found in provided LinkItem array."),r.push({isLinkItem:!0,message:e.innerText,linkItem:i}))}(i[e]);return r},r);function r(t,e,i,n,r){this.timeoutOccurred=!1,this.message="",this.hasLinks=!1,this.timeout=3e3,this.channel="default",this.type=t,this.location=e,"number"==typeof n&&(this.timeout=n),"string"==typeof r&&(this.channel=r),this.tokens=this.tokenizeMessage(i);for(var o=0,s=this.tokens;o<s.length;o++){var a,u=s[o];u.isLinkItem&&null!=u.linkItem?(a=u.linkItem,this.message=this.message+a.name,this.timeout=0):"string"==typeof u.message&&(this.message=this.message+u.message)}this.dismissId=this.channel+"-"+this.type+"-"+this.location+"-"+this.message.length+"-dismiss"}e.Message=n},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(134),i=(r.prototype.getCalendar=function(t){return null==this.calendarMap[t]&&(this.calendarMap[t]=new n.Calendar(t)),this.calendarMap[t]},r);function r(){this.calendarMap={}}e.CalendarService=i},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});function n(t,e,i){switch(this.action=t){case"ADD_EVENT":case"EDIT_EVENT":case"DELETE_EVENT":this.event=e;break;case"ADD_OPTIONS":case"DELETE_OPTIONS":this.options=e}this.dayLocation=i}e.CalendarDataChangeEvent=n},function(t,e,i){"use strict";var n,r=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var o,s=i(5),a=i(10),u=i(33),l=a.pdsLogger.prependLogger(a.pdsLogger.requiresLogger("gridWidget"),"pds-grid-widget-pagination-control.ts"),r=(o=s.PdsWidget,r(c,o),c.prototype.attached=function(){var e=this;l("attached called"),o.prototype.attached.call(this);var t=this.querySelector(".pds-grid-widget-pagination-control-content");null!=t&&(t.addEventListener("input",function(t){t.skipDirtyStateHandling=!0}),t.addEventListener("change",function(t){t.skipDirtyStateHandling=!0}),t.addEventListener("modelValueChange",function(t){t=Number.parseInt(t.target.value);e.rangeChange(t)}))},c.prototype.gridWidgetChange=function(){var e=this;l("gridWidgetChange called"),null!=this.dataGridWidgetId&&this.subscriptions.push(u.serviceInstances.getGridWidgetService().getGridWidget(this.dataGridWidgetId).subscribe(function(t){e.gridWidget=t,null!=e.gridWidget&&null!=e.gridWidget.paginationControl&&(e.watch("gridWidget.paginationControl.pageNumber"),e.watch("gridWidget.paginationControl.nextPageNumber"),e.watch("gridWidget.paginationControl.numberOfPages"),e.watch("gridWidget.paginationControl.firstInListNumber"),e.watch("gridWidget.paginationControl.numberOfRowsInPage"))}))},c.prototype.isShowPaginatorControl=function(){return null!=this.gridWidget&&null!=this.gridWidget.paginationControl&&1<this.gridWidget.paginationControl.numberOfPages},c.prototype.isShowPaginatorLegend=function(){return null!=this.gridWidget&&"no-filters"!==this.gridWidget.filterConstraint&&null!=this.gridWidget.paginationControl&&0<this.gridWidget.paginationControl.numberOfRowsInPage},c.prototype.buildPaginationLegend=function(){return null==this.gridWidget?"":this.gridWidget.paginationControl.firstInListNumber+" - "+(this.gridWidget.paginationControl.firstInListNumber+this.gridWidget.paginationControl.numberOfRowsInPage-1)},c.prototype.isSelectedPageFirstPage=function(t){return null!=this.gridWidget&&1===this.gridWidget.paginationControl.pageNumber},c.prototype.isSelectedPageLastPage=function(){return null!=this.gridWidget&&this.gridWidget.paginationControl.pageNumber===this.gridWidget.paginationControl.numberOfPages},c.prototype.rangeChange=function(t){l("rangeChange called"),null!=this.gridWidget&&null!=t&&(this.gridWidget.paginationControl.nextPageNumber=t,this.gridWidget.executeTaskChain("paginate"))},c.prototype.handlePreviousPageTap=function(){var t;l("handlePreviousPageTap called"),null!=this.gridWidget&&(this.gridWidget.paginationControl.previousPage(),null!=(t=this.querySelector("pds-numbered-slider"))&&(t.value=this.gridWidget.paginationControl.nextPageNumber),this.gridWidget.executeTaskChain("paginate"))},c.prototype.handleNextPageTap=function(){var t;l("handleNextPageTap called"),null!=this.gridWidget&&(this.gridWidget.paginationControl.nextPage(),null!=(t=this.querySelector("pds-numbered-slider"))&&(t.value=this.gridWidget.paginationControl.nextPageNumber),this.gridWidget.executeTaskChain("paginate"))},c.prototype.detached=function(){l("detached called"),o.prototype.detached.call(this),this.cancelSubscriptions()},c);function c(){var t=null!==o&&o.apply(this,arguments)||this;return t.is="pds-grid-widget-pagination-control",t.properties={dataGridWidgetId:{type:String,value:null,observer:"gridWidgetChange"}},t}e.PdsGridWidgetPaginationControl=r},function(t,e,i){"use strict";var n,r=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var o,i=i(5),r=(o=i.PdsWidget,r(s,o),s.prototype.attached=function(){var e=this;o.prototype.attached.call(this);var t=this.querySelector("pds-text-widget");null!=t&&t.addEventListener("modelValueChange",function(t){null!=e.filter&&(e.filter.searchValue=t.target.modelValue,e.inputChange())})},s.prototype.inputChange=function(){var t=new Event("renderedElementValueChange",{bubbles:!0});this.dispatchEvent(t)},s);function s(){var t=null!==o&&o.apply(this,arguments)||this;return t.is="pds-gw-multi-field-filter",t.properties={id:{type:String,value:null},filter:{value:null}},t}e.PdsGwMultiFieldFilter=r},function(t,e,i){"use strict";var n,r=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var o,s=i(5),a=i(138),r=(o=s.PdsWidget,r(u,o),u.prototype.attached=function(){var e=this;o.prototype.attached.call(this);var t=this.querySelector("pds-multi-select-widget");null!=t&&t.multiSelect.selectionChange.subscribe(function(t){e.filter.searchValues[t.text]=!0===t.isSelected,e.inputChange()})},u.prototype.checkboxUpdated=function(t){var e=t.target,t=e.getAttribute("id");null!=t&&(this.filter.searchValues[t]=e.checked,this.inputChange())},u.prototype.inputChange=function(){this.redrawTrigger=!this.redrawTrigger;var t=new Event("renderedElementValueChange",{bubbles:!0});this.dispatchEvent(t)},u.prototype.setInstance=function(t){var e=this;if(null!=t){for(var i=[],n=0,r=this.filter.dataField.selectOptions.array;n<r.length;n++){var o=r[n],o={id:o.key,text:o.key,isSelected:this.filter.searchValues[o.key]};i.push(o)}this.multiSelect=new a.MultiSelect(i),this.multiSelect.selectionChange.subscribe(function(t){e.filter.searchValues[t.text]=!0===t.isSelected,e.inputChange()})}},u.prototype.isChecked=function(t){return null!=this.filter&&this.filter.searchValues[t.key]},u.prototype.filterIsBlank=function(){return this.filter.isBlank()},u.prototype.getTagText=function(){return this.filter.getTagText()},u);function u(){var t=o.call(this)||this;return t.is="pds-gw-multi-select-filter",t.properties={id:{type:String,value:null},filter:{observer:"setInstance",value:null}},t}e.PdsGwMultiSelectFilter=r},function(t,e,i){"use strict";var n,r=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var o,s,a=i(5),u=i(9),l=i(10),c=i(6),d=l.pdsLogger.prependLogger(l.pdsLogger.requiresLogger("gridWidget"),"pds-gw-number-filter.ts"),r=(s=a.PdsWidget,r(p,s),p.prototype.attached=function(){var e=this;s.prototype.attached.call(this),this.watch("filter.comparator");var t=this.querySelector(".pds-gw-number-filter-content");null!=t&&t.addEventListener("modelValueChange",function(t){u.pdsUtils.is(t.target,'pds-number-widget[name$="-1"]')?e.filter.searchValueNum=t.target.modelValue:e.filter.searchValueNum2=t.target.modelValue,e.inputChange()})},p.prototype.inputChange=function(){d("inputChange() called"),this.filter.comparator=this.querySelector("select.pds-gw-number-filter-operator-select").value,this.isUsesUnits()&&(null!=(t=this.querySelector("select.number-units-1"))&&(this.filter.selectedUnitConversion=Number(t.value)),null!=(t=this.querySelector("select.number-units-2"))&&(this.filter.selectedUnitConversion2=Number(t.value)));var t=new Event("renderedElementValueChange",{bubbles:!0});this.dispatchEvent(t)},p.prototype.getNumberField=function(){return d("getNumberField called"),this.filter.dataField},p.prototype.isUsesUnits=function(){return null!=this.filter&&null!=this.filter.dataField&&null!=this.filter.dataField.unitsMap},p.prototype.getNumberFilterComparators=function(){return o=null==o?[{value:">=",text:"â¥"},{value:">",text:">"},{value:"=",text:"="},{value:"<",text:"<"},{value:"<=",text:"â¤"},{value:"range",text:c.pdsI18n.getText("pds|grid widget|Range")}]:o},p.prototype.getNumberFilterUnitOptions=function(){var t=this.filter.dataField.unitsMap,e=[];if(null!=t)for(var i=0,n=t.array;i<n.length;i++){var r=n[i];e.push({value:String(r.value),text:r.key})}return e},p.prototype.getLabelText=function(){return"range"===this.filter.comparator?c.pdsI18n.getText("pds|grid widget|Above"):this.getNumberField().title},p.prototype.getPlaceholderText=function(){return null==this.filter||null==this.filter.dataField?"":this.getNumberField().placeholderText},p.prototype.getValidationRule=function(t){return null!=this.filter&&null!=this.filter.dataField&&null!=this.filter.dataField.validationRules?this.filter.dataField.validationRules[t]:null},p);function p(){var t=null!==s&&s.apply(this,arguments)||this;return t.is="pds-gw-number-filter",t.properties={id:{type:String,value:null},filter:{value:null}},t}e.PdsGwNumberFilter=r},function(t,e,i){"use strict";var n,r=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var o,s=i(5),i=i(10),a=i.pdsLogger.prependLogger(i.pdsLogger.requiresLogger("gridWidget"),"pds-gw-pill-select-filter.ts"),r=(o=s.PdsWidget,r(u,o),u.prototype.selectItem=function(t){a("selectItem called.");t=this.extractProperty(t,"button","item");console.log(JSON.stringify(t,null,2)),null!=t&&null!=this.filter&&(this.filter.searchValue=t.value,this.redrawTrigger=!this.redrawTrigger,t=new Event("renderedElementValueChange",{bubbles:!0}),this.dispatchEvent(t))},u.prototype.getIsPrimaryClass=function(t){return null!=this.filter&&t.value===this.filter.searchValue?"pds-primary":""},u);function u(){var t=null!==o&&o.apply(this,arguments)||this;return t.is="pds-gw-pill-select-filter",t.properties={filter:{value:null}},t}e.PdsGwPillSelectFilter=r},function(t,e,i){"use strict";var n,r=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var o,s=i(5),a=i(77),r=(o=s.PdsWidget,r(u,o),u.prototype.attached=function(){o.prototype.attached.call(this),this.watch("filter.searchValue");var t=this.querySelector("select");null!=t&&null!=this.filter&&(null==this.filter.searchValue&&(this.filter.searchValue=a.SelectFilter.blankObject),t.value=this.filter.searchValue)},u.prototype.inputChange=function(){var t;null!=this.filter&&(0<(t=this.querySelector("select")).selectedIndex?this.filter.searchValue=t.value:this.filter.searchValue=a.SelectFilter.blankObject,this.dispatchEvent(new Event("renderedElementValueChange",{bubbles:!0})))},u.prototype.getSelectOptions=function(t){return null==this.filter?[]:[{value:"",text:""}].concat(t.selectOptions.array.map(function(t){return{value:t.value,text:t.key}}))},u);function u(){var t=null!==o&&o.apply(this,arguments)||this;return t.is="pds-gw-select-filter",t.blankObject=a.SelectFilter.blankObject,t.properties={filter:{value:null}},t}e.PdsGwSelectFilter=r},function(t,e,i){"use strict";var n,r=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var o,s=i(5),a=i(10),u=i(9),l=i(33),r=(a.pdsLogger.prependLogger(a.pdsLogger.requiresLogger("gridWidget"),"pds-grid-widget-sort-fields.ts"),o=s.PdsWidget,r(c,o),c.prototype.ready=function(){o.prototype.ready.call(this);var t=this.querySelector(".pds-grid-widget-sort-fields-content-target");if(null!=t)for(var e=0;e<this.childNodes.length;e++){var i=this.childNodes[e];u.pdsUtils.is(i,".pds-grid-widget-sort-fields-content")||t.appendChild(i)}},c.prototype.attached=function(){o.prototype.attached.call(this),this.isAttached=!0,this.updateSortConfiguration(this.sortConfiguration,void 0)},c.prototype.getSortClass=function(){return null==this.sortConfiguration||null==this.sortConfiguration.reversed?"":this.sortConfiguration.reversed?"pds-sort-descending":"pds-sort-ascending"},c.prototype.updateSortConfiguration=function(t,e){null!=e&&this.reverseObserver&&(this.reverseObserver.disable(),this.reverseObserver=void 0),null!=t&&this.isAttached&&(this.reverseObserver=this.watch("sortConfiguration.reversed"))},c.prototype.toggleSortDirectionViaKeyBoard=function(t){32!==t.keyCode&&13!==t.keyCode||this.toggleSortDirection()},c.prototype.toggleSortDirection=function(){this.validateWidgetConfiguration(),null!=this.gridWidget&&null!=this.sortConfiguration&&(null==this.sortConfiguration.reversed?(this.sortConfiguration.reversed=!1,this.gridWidget.setSortConfig(this.sortConfiguration)):!1===this.sortConfiguration.reversed?(this.sortConfiguration.reversed=!0,this.gridWidget.setSortConfig(this.sortConfiguration)):!0===this.sortConfiguration.reversed&&(this.sortConfiguration.reversed=null,this.gridWidget.setSortConfig(void 0)),this.gridWidget.executeTaskChain("sort"))},c.prototype.gridWidgetChange=function(){var e=this;null!=this.dataGridWidgetId&&l.serviceInstances.getGridWidgetService().getGridWidget(this.dataGridWidgetId).subscribe(function(t){e.gridWidget=t||null})},c.prototype.validateWidgetConfiguration=function(){null==this.sortConfiguration&&console.error("PdsSortFields requires a SortConfiguration object"),null==this.gridWidget&&console.error("PdsSortFields requires a Grid Widget ID")},c);function c(){var t=null!==o&&o.apply(this,arguments)||this;return t.is="pds-grid-widget-sort-fields",t.sortConfiguration=null,t.dataGridWidgetId=null,t.isAttached=!1,t.properties={sortConfiguration:{observer:"updateSortConfiguration",value:null},dataGridWidgetId:{type:String,observer:"gridWidgetChange",value:null}},t.listeners={click:"toggleSortDirection",keydown:"toggleSortDirectionViaKeyBoard"},t}e.PdsGridWidgetSortFields=r},function(t,e,i){"use strict";var n,r=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var o,s=i(5),a=i(6),i=i(10),u=i.pdsLogger.prependLogger(i.pdsLogger.requiresLogger("gridWidget"),"pds-gw-text-filter.ts"),r=(o=s.PdsWidget,r(l,o),l.prototype.ready=function(){o.prototype.ready.call(this),this.updateComparator()},l.prototype.updateComparator=function(){u("updateComparator called"),null!=this.filter&&(this.comparator=this.filter.comparator)},l.prototype.attached=function(){var e=this;u("attached called"),o.prototype.attached.call(this);var t=this.querySelector(".pds-gw-text-filter-content");null!=t&&t.addEventListener("modelValueChange",function(t){null!=e.filter&&(e.filter.searchValue=t.target.modelValue,e.inputChange())})},l.prototype.inputChange=function(){u("inputChange called");var t=this.querySelector("select");null!=this.filter&&null!=t&&(this.filter.comparator=t.value,this.updateComparator());t=new Event("renderedElementValueChange",{bubbles:!0});this.dispatchEvent(t)},l.prototype.getValidationRule=function(t){return u("getValidationRule called"),null!=this.filter&&null!=this.filter.dataField&&null!=this.filter.dataField.validationRules?this.filter.dataField.validationRules[t]:null},l.prototype.getSelectOptions=function(){return u("getSelectOptions called"),null==this.filter?[]:this.filter.dataField.comparatorSettings.array.map(function(t){return{text:a.pdsI18n.getText(t.value.messageKey),value:t.value.comparator}})},l);function l(){var t=null!==o&&o.apply(this,arguments)||this;return t.is="pds-gw-text-filter",t.id=null,t.filter=null,t.comparator="CONTAINS",t.properties={filter:{observer:"updateComparator",value:null},id:{type:String,value:null}},t}e.PdsGwTextFilter=r},function(t,e,i){"use strict";var n,r=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var o,s=i(6),a=i(66),u=i(10),l=i(9),c=i(27),d=i(76),p=u.pdsLogger.prependLogger(u.pdsLogger.requiresLogger("input-widgets"),"pds-multi-select-widget.ts"),r=(o=a.SinglePopoverWidget,r(h,o),h.prototype.attached=function(){o.prototype.attached.call(this),this.isAttached=!0,this.setUpBadge()},h.prototype.ready=function(){this.showFloatingPanel=!1,this.isReady=!0,c.PdsAbstractInputWidget.prototype.ready.call(this),this.multiSelect&&this.watchMultiSelect()},h.prototype.watchMultiSelect=function(){var t=this;this.watch("multiSelect.multiSelectData"),this.multiSelect.selectionChange.subscribe(function(){t.validateWidget()})},h.prototype.keyboardChange=function(t){"Enter"===t.key&&this.inputChange(t)},h.prototype.inputChange=function(t){var e;t.target&&t.target instanceof HTMLInputElement&&(t.model.selected.isSelected=t.target.checked,null!=(e=l.pdsUtils.getClosest(t.target,"label"))&&e.classList.toggle("pds-is-selected",t.target.checked),this.validateWidget(),this.multiSelect.selectionChange.next(t.model.selected))},h.prototype.updateMultiSelect=function(){p("updateMultiSelect() called"),this.isReady&&this.multiSelect&&(p("watching multiSelectData"),this.watchMultiSelect())},h.prototype.updateButtonText=function(){null==this.dataButtonText&&(this.dataButtonText=s.pdsI18n.getText("pds|multi select|Select"))},h.prototype.isRequiredDataDefined=function(){return null!=this.multiSelect},h.prototype.getPopoverSelector=function(){return"#popover-"+this.id},h.prototype.getPopoverTriggerSelector=function(){return".pds-panel-floating-trigger"},h.prototype.getDefaultAlignment=function(){return"bottom-start"},h.prototype.log=function(t){for(var e=[],i=1;i<arguments.length;i++)e[i-1]=arguments[i];p.apply(void 0,[t].concat(e))},h.prototype.onPopoverHidden=function(t){o.prototype.onPopoverHidden.call(this,t),this.validateWidget(!0,!0),this.showFloatingPanel=!1},h.prototype.onPopoverShown=function(t){this.forceUpdateCheckBoxStates(),o.prototype.onPopoverShown.call(this,t),this.showFloatingPanel=!0},h.prototype.forceUpdateCheckBoxStates=function(){for(var t=0,e=Array.from(this.popoverContentElement.querySelectorAll("label"));t<e.length;t++){var i=e[t],n=i.multiSelectItem;null!=n&&(i.classList.toggle("pds-is-selected",!0===n.isSelected),null!=(i=i.querySelector("input"))&&(i.checked=!0===n.isSelected))}},h.prototype.runValidationEngine=function(){var t={isValid:!0};if("true"===this.dataIsrequired&&null==this.multiSelect.multiSelectData.find(function(t){return!0===t.isSelected}))return t.isValid=!1,t.invalidRule="isRequired",t;if(null!=this.dataCustomvalidate){var e=d.pdsValidation.getCustomValidate(this.dataCustomvalidate);if(null!=e)return e("",{element:this,multiSelect:this.multiSelect},{});console.error("Custom validation function was not found")}return t},h.prototype.generateValidationRules=function(){},h);function h(){var t=null!==o&&o.apply(this,arguments)||this;return t.is="pds-multi-select-widget",t.dataButtonText="Select",t.isBadgeHidden=!0,t.isBadgeElevated=!1,t.isAttached=!1,t.isValid=!0,t.errorPresentWhenBlurOccurred=!1,t.showFloatingPanel=!1,t.properties={id:{type:String,value:null},multiSelect:{observer:"updateMultiSelect",value:null},dataButtonText:{observer:"updateButtonText",type:String,value:"Select"},dataButtonAriaText:{type:String,value:null},dataShowLabel:{type:String,value:null},dataLabelText:{type:String,value:null},dataTooltipText:{type:String,value:null},dataHelperText:{type:String,value:null},dataBadgeText:{type:String,value:"",observer:"setUpBadge"},dataDisableInvalidBadgeElevation:{type:String,value:"false",observer:"setUpBadge"},dataIsrequired:{type:String,value:"false",observer:"setUpBadge"},dataHideUnelevatedBadge:{type:String,value:"false",observer:"setUpBadge"},dataCustomvalidate:{type:String,value:null},disableErrorMessageLabelText:{type:String,value:null},dataIsFieldOnly:{type:String,value:"false"}},t.isReady=!1,t}(e.PdsMultiSelectWidget=r).prototype.setUpBadge=c.PdsAbstractInputWidget.prototype.setUpBadge,r.prototype.validateWidget=c.PdsAbstractInputWidget.prototype.validateWidget,r.prototype.showFieldHelp=c.PdsAbstractInputWidget.prototype.showFieldHelp,r.prototype.showLabel=c.PdsAbstractInputWidget.prototype.showLabel,r.prototype.setError=c.PdsAbstractInputWidget.prototype.setError,r.prototype.showErrorMessage=c.PdsAbstractInputWidget.prototype.showErrorMessage},function(t,e,i){"use strict";var n,r=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var o,s=i(66),a=i(10),u=i(9),l=i(6),c=a.pdsLogger.prependLogger(a.pdsLogger.requiresLogger("pop-over"),"pds-pop-over.ts"),r=(o=s.SinglePopoverWidget,r(d,o),d.prototype.ready=function(){var e=this;o.prototype.ready.call(this),this.tooltipReferenceCallback=function(t){e.tooltipElement=t},this.createClosePreviouslyOpenedSecondaryMenus()},d.prototype.createClosePreviouslyOpenedSecondaryMenus=function(){var o=this;this.closePreviouslyOpenedSecondaryMenus=function(t){for(var e=u.pdsUtils.getClosest(t.target,o.is),t=u.pdsUtils.getClosest(t.target,".tippy-popper"),i=0,n=Array.from(t.querySelectorAll(o.is));i<n.length;i++){var r=n[i];r!==e&&r.hidePopover()}}},d.prototype.attached=function(){o.prototype.attached.call(this),null==this.dataIsAppAction&&null!=u.pdsUtils.getClosest(this.asElement(),".pds-app-actions")&&(this.dataIsAppAction="true"),null==this.dataIsWizardAction&&null!=u.pdsUtils.getClosest(this.asElement(),".pds-wizard-actions")&&(this.dataIsWizardAction="true")},d.prototype.isRequiredDataDefined=function(){return!0},d.prototype.getPopoverSelector=function(){return".pds-pop-over-panel"},d.prototype.getPopoverTriggerSelector=function(){return".pds-pop-over-trigger-button"},d.prototype.log=function(t){for(var e=[],i=1;i<arguments.length;i++)e[i-1]=arguments[i];c.apply(window,arguments)},d.prototype.getDefaultAlignment=function(){return this.dataDefaultAlignment},d.prototype.executeLinkItem=function(t){var e=this.extractProperty(t,"button","linkItem");null!=e?(e.callback?e.callback(this.context):console.error("link item id: "+e.id+" must have a call back function."),this.hidePopover(),null!=this.parentPopOver&&this.parentPopOver.hidePopover(),null!=this.closePreviouslyOpenedSecondaryMenus&&this.closePreviouslyOpenedSecondaryMenus(t)):console.error("The LinkItem could not be found.")},d.prototype.updateDefaultAlignment=function(){null!=this.popoverInstance&&null!=this.popoverInstance.options&&null!=this.popoverInstance.popperInstance&&null!=this.popoverInstance.popperInstance.options&&(this.popoverInstance.options.placement=this.dataDefaultAlignment,this.popoverInstance.popperInstance.options.placement=this.dataDefaultAlignment)},d.prototype.tooltipDirectionChanged=function(){null!=this.tooltipElement&&this.tooltipElement.updateDefaultDirection(this.dataTooltipDirection)},d.prototype.focusInPanel=function(t){var e=this;setTimeout(function(){var t="#"+e.id+"-pop-over-panel a, #"+e.id+"-pop-over-panel button";e.log("panelSelector: "+t);t=document.querySelector(t);null!=t&&t.focus()}),null!=this.popOverTriggerButtonCallback&&this.popOverTriggerButtonCallback(t)},d.prototype.hasIconAndTextClass=function(){return this.compare(this.dataButtonText,"has-letters")&&null!=this.dataIconName?"pds-pop-over-has-icon-and-text":""},d.prototype.getLinkItemAriaLabel=function(t,e){return 1===this.linkItems.length?t.name+". "+l.pdsI18n.getText("pds|popover|Navigating From Single Element"):0===e?t.name+". "+l.pdsI18n.getText("pds|popover|Backwards From First Element"):e===this.linkItems.length-1?t.name+". "+l.pdsI18n.getText("pds|popover|Forwards From Last Element"):null},d);function d(){var t=null!==o&&o.apply(this,arguments)||this;return t.is="pds-pop-over",t.dataDefaultAlignment="bottom-start",t.properties={id:{type:String},dataButtonText:{type:String,value:null},dataDefaultAlignment:{type:String,value:"bottom-start",observer:"updateDefaultAlignment"},dataButtonAriaText:{type:String,value:null},dataIconName:{type:String,value:null},dataIsButtonBlend:{type:String,value:"false"},dataTooltipText:{type:String,value:null},dataHeaderName:{type:String,value:null},dataTooltipDirection:{type:String,value:"bottom-start",observer:"tooltipDirectionChanged"},dataLabelText:{type:String,value:null},dataHelpText:{type:String,value:null},dataIsAppAction:{type:String,value:null},dataIsWizardAction:{type:String,value:null},linkItems:{value:null},context:{value:null},parentPopOver:{value:null},popOverTriggerButtonCallback:{value:null},dataIsButtonMultiAction:{type:String,value:"false"}},t}e.PdsPopOver=r},function(t,e,i){"use strict";var n,r=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var o,s=i(5),a=i(33),r=(o=s.PdsWidget,r(u,o),u.prototype.previous=function(t){t.stopPropagation(),this.detailSelect.previous(),this.execute(),this.updateSelectedIndex()},u.prototype.next=function(t){t.stopPropagation(),this.detailSelect.next(),this.execute(),this.updateSelectedIndex()},u.prototype.execute=function(){a.serviceInstances.getDetailSelectService().fireSelectionChange(this.id)},u.prototype.getOptionTitle=function(t){return null!=this.detailSelect&&null!=this.detailSelect.options&&null!=this.detailSelect.options[t]?this.detailSelect.options[t].title:""},u.prototype.getPointerIcon=function(t,e){return"left"===t?"horizontal"===e?"caret-left":"caret-up":"horizontal"===e?"caret-right":"caret-down"},u.prototype.updateDetailSelect=function(){var t=this;null!=this.id&&(this.detailSelect=a.serviceInstances.getDetailSelectService().getDetailSelect(this.id),null!=this.changeStreamSubscription&&this.changeStreamSubscription.unsubscribe(),null!=this.optionsChangeStreamSubscription&&this.optionsChangeStreamSubscription.unsubscribe(),this.changeStreamSubscription=this.detailSelect.selectionChangeStream.subscribe(function(){t.updateSelectedIndex()}),this.optionsChangeStreamSubscription=this.detailSelect.optionsChangeStream.subscribe(function(){t.updateOptions(),t.redrawTrigger=!t.redrawTrigger}),this.updateSelectedIndex(),this.updateOptions())},u.prototype.updateSelectedIndex=function(){this.dataSelectedIndex=String(this.detailSelect.selectedIndex)},u.prototype.updateNextPreviousIndexes=function(){this.nextIndex=this.detailSelect.nextIndex,this.previousIndex=this.detailSelect.previousIndex},u.prototype.updateOptions=function(){for(var t=[],e=0;e<this.detailSelect.options.length;e++){var i=this.detailSelect.options[e];t.push({text:i.title,value:String(e)})}this.options=t},u.prototype.isShowPictureIcon=function(){return null!=this.detailSelect&&null!=this.detailSelect.selectedOption&&null!=this.detailSelect.selectedOption.icon&&null==this.detailSelect.selectedOption.img},u.prototype.isShowPictureImg=function(){return null!=this.detailSelect&&null!=this.detailSelect.selectedOption&&null!=this.detailSelect.selectedOption.img&&null==this.detailSelect.selectedOption.icon},u.prototype.getSelectedIconName=function(){return null!=this.detailSelect&&null!=this.detailSelect.selectedOption&&null!=this.detailSelect.selectedOption.icon?this.detailSelect.selectedOption.icon:""},u.prototype.getSelectedImgName=function(){return null!=this.detailSelect&&null!=this.detailSelect.selectedOption&&null!=this.detailSelect.selectedOption.img?this.detailSelect.selectedOption.img:""},u.prototype.selectedIndexUpdated=function(){null!=this.detailSelect&&null!=this.dataSelectedIndex&&(this.detailSelect.selectedIndex=Number(this.dataSelectedIndex),this.execute(),this.updateNextPreviousIndexes())},u.prototype.unattached=function(){null!=this.changeStreamSubscription&&(this.changeStreamSubscription.unsubscribe(),delete this.changeStreamSubscription),null!=this.optionsChangeStreamSubscription&&(this.optionsChangeStreamSubscription.unsubscribe(),delete this.optionsChangeStreamSubscription)},u.prototype.attached=function(){var t=this;o.prototype.attached.call(this),null!=this.detailSelect&&null==this.changeStreamSubscription&&(this.changeStreamSubscription=this.detailSelect.selectionChangeStream.subscribe(function(){t.updateSelectedIndex()})),null!=this.detailSelect&&null==this.optionsChangeStreamSubscription&&(this.optionsChangeStreamSubscription=this.detailSelect.optionsChangeStream.subscribe(function(){t.updateOptions()}))},u);function u(){var t=null!==o&&o.apply(this,arguments)||this;return t.is="pds-detail-select-widget",t.properties={dataDisableLeftRightNavButtons:{value:"false",type:String},id:{type:String,value:null,observer:"updateDetailSelect"},dataOrientation:{type:String,value:"horizontal"},options:{value:null},dataSelectedIndex:{type:String,value:null,observer:"selectedIndexUpdated"}},t}e.PdsDetailSelectWidget=r},function(t,e,i){"use strict";var n,r=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var o,s=i(5),a=i(33),r=(o=s.PdsWidget,r(u,o),u.prototype.getMessageLocationClass=function(t){switch(t.toUpperCase()){default:case"INLINE":return"pds-messages-inline";case"DOCKED":return"pds-messages-docked";case"FLOATING":return"pds-messages-floating"}},u.prototype.getMessageColorClass=function(t){return t.isTypeSuccess?"pds-message-success":t.isTypeInfo?"pds-message-info":t.isTypeWarning?"pds-message-warning":t.isTypeError?"pds-message-error":""},u.prototype.updateMessages=function(){var e=this;a.serviceInstances.getMessageService().messageChangeStream.subscribe(function(t){e.copyMessagesFromService()}),this.copyMessagesFromService()},u.prototype.copyMessagesFromService=function(){var t=a.serviceInstances.getMessageService();switch(this.dataMessageLocation.toUpperCase()){case"FLOATING":this.messages=t.notificationMessages.values();break;case"DOCKED":this.messages=t.dockedMessages.values();break;default:this.messages=t.inlineMessages.values()}},u.prototype.executeEmbeddedHtmlMessage=function(t){t=t.target;t.linkItem.callback(t.linkItem)},u.prototype.dismiss=function(t){t=this.extractProperty(t,"button","message");a.serviceInstances.getMessageService().removeMessage(t.location,t.message)},u.prototype.hasMessages=function(){return null!=this.messages&&0<this.messages.length},u);function u(){var t=null!==o&&o.apply(this,arguments)||this;return t.is="pds-messages-widget",t.properties={dataMessageLocation:{type:String,value:"INLINE",observer:"updateMessages"},dataChannel:{type:String,value:"default"},dataCanDismiss:{type:String,value:"true"},messages:{value:null}},t}e.PdsMessagesWidget=r},function(t,e,i){"use strict";var n,r=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var o=i(5),s=i(37),a=i(6),u=new s.I18nUtil;u.locale={DATETIME_FORMATS:{shortTime:"HH:mm"}};var l,r=(l=o.PdsWidget,r(c,l),c.prototype.updateTime=function(){var t;null!=this.dataTime&&(t=u.isValidTime(this.dataTime),this.time=!0===t?a.pdsI18n.parse24HourTime(this.dataTime):null)},c.prototype.updateLocalizedTime=function(){null!=this.time&&"function"==typeof this.time.getHours&&"function"==typeof this.time.getMinutes?this.localizedTime=a.pdsI18n.formatTime(this.time,this.dataFormat):this.localizedTime=null},c);function c(){var t=null!==l&&l.apply(this,arguments)||this;return t.is="pds-format-time",t.properties={dataTime:{type:String,value:null,observer:"updateTime"},time:{value:null,observer:"updateLocalizedTime"},dataFormat:{type:String,value:"TIME",observer:"updateLocalizedTime"}},t}e.PdsFormatTime=r},function(t,e,i){"use strict";var n,r=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var o,s=i(5),a=i(33),u=i(10),l=i(6),c=u.pdsLogger.prependLogger(u.pdsLogger.requiresLogger("wizard"),"pds-wizard-steps.ts"),r=(o=s.PdsWidget,r(d,o),d.prototype.updateWizard=function(){var r=this;c("updateWizard() called"),null!=this.wizardStreamSubscription&&(this.wizardStreamSubscription.unsubscribe(),delete this.wizard),null!=this.dataWizardId&&(this.wizard=a.serviceInstances.getWizardService().getWizard(this.dataWizardId),c("using wizardId: "+this.dataWizardId),this.wizardStreamSubscription=this.wizard.changeStream.subscribe(function(t){if(null!=r.wizard){c("wizard steps changed"),r.wizardSteps=r.wizard.steps.values()||null;for(var e=0,i=t;e<i.length;e++){var n=i[e];r.redrawArray("wizardSteps",n)}}}),this.wizardSteps=this.wizard.steps.values()||null)},d.prototype.stepClickHandler=function(t){var e;c("stepClickHandler() called"),null==this.wizard||null!=(e=this.extractAttribute(t,"button","id"))&&(c("stepId clicked: "+e),null==(t=this.wizard.steps.get(e))||t.isDisabled||this.wizard.setActiveStep(e))},d.prototype.isShowCompleteIcon=function(t){return!0===t.isComplete&&!0!==t.isActive},d.prototype.isShowActiveIcon=function(t){return!0===t.isActive},d.prototype.isShowNormalIcon=function(t){return!0!==t.isComplete&&!0!==t.isActive},d.prototype.getWizardStepAriaLabel=function(t){return t.isActive?t.text+" - "+l.pdsI18n.getText("pds|wizard|Current Step"):t.isComplete?t.text+" - "+l.pdsI18n.getText("pds|wizard|Completed"):t.text+" - "+l.pdsI18n.getText("pds|wizard|Incomplete Step")},d.prototype.getCurrentStepAria=function(t){return t.isActive?l.pdsI18n.getText("pds|wizard|step"):null},d);function d(){var t=null!==o&&o.apply(this,arguments)||this;return t.is="pds-wizard-steps",t.properties={dataWizardId:{type:String,value:null,observer:"updateWizard"},wizardSteps:{value:null}},t}e.PdsWizardSteps=r},function(t,e,i){"use strict";var n,r=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var o,s=i(5),a=i(6),r=(o=s.PdsWidget,r(u,o),u.prototype.updateNumber=function(){var t;null!=this.dataNumber&&""!==this.dataNumber?(t=!isNaN(this.dataNumber),this.number=!0==t?Number(this.dataNumber):null):this.number=null},u.prototype.updateDecimalNumber=function(){var t;null!=this.dataNumberDecimals&&""!==this.dataNumberDecimals?(t=!isNaN(this.dataNumberDecimals),this.numberDecimals=!0==t?Number(this.dataNumberDecimals):null):this.numberDecimals=null},u.prototype.localizeNumber=function(){var t=a.pdsI18n.localizeNumber(this.number,this.numberDecimals);this.setPrivatePolymerPropertyValue("localizedNumber",t)},u);function u(){var t=null!==o&&o.apply(this,arguments)||this;return t.is="pds-format-number",t.properties={dataNumber:{type:String,value:null,observer:"updateNumber"},number:{type:Number,value:null,observer:"localizeNumber"},dataNumberDecimals:{type:String,value:null,observer:"updateDecimalNumber"},numberDecimals:{type:Number,value:null,observer:"localizeNumber"},localizedNumber:{type:String,value:null,readOnly:!0}},t}e.PdsFormatNumber=r},function(t,e,i){"use strict";var n,r=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var o,s=i(5),a=i(33),u=i(6),i=i(10),l=i.pdsLogger.prependLogger(i.pdsLogger.requiresLogger("calendar"),"pds-calendar.ts"),r=(o=s.PdsWidget,r(c,o),c.prototype.ready=function(){o.prototype.ready.call(this),this.init()},c.prototype.init=function(){l("init() called"),this.today=new Date,this.dayLabels=u.pdsI18n.locale.DATETIME_FORMATS.DAY,this.dayAbbreviations=u.pdsI18n.locale.DATETIME_FORMATS.SHORTDAY},c.prototype.calendarIdUpdated=function(){var e=this;l("calendarIdUpdated() called"),null!=this.dataChangeSubscription&&this.dataChangeSubscription.unsubscribe(),null!=this.selectedCalendarEventChangeSubscription&&this.selectedCalendarEventChangeSubscription.unsubscribe(),null!=this.dataCalendarId&&(this.calendar=a.serviceInstances.getCalendarService().getCalendar(this.dataCalendarId),this.dataChangeSubscription=this.calendar.getCalendarDataChangeStream().subscribe(function(t){l("the calendar data has changed"),e.updateWithNewCalendarData(t)}),this.selectedCalendarEventChangeSubscription=this.calendar.getSelectedCalendarEventChangeStream().subscribe(function(t){e.setPrivatePolymerPropertyValue("selectedCalendarEvent",t||null)}),this.updateWithNewCalendarData())},c.prototype.detached=function(){o.prototype.detached.call(this),null!=this.dataChangeSubscription&&this.dataChangeSubscription.unsubscribe(),null!=this.selectedCalendarEventChangeSubscription&&this.selectedCalendarEventChangeSubscription.unsubscribe()},c.prototype.updateWithNewCalendarData=function(t){if(l("updateWithNewCalendarData() called"),null!=this.calendar)if(this.year!==this.calendar.selectedYear||this.month!==this.calendar.selectedMonth)this.year=this.calendar.selectedYear||null,this.month=this.calendar.selectedMonth||null,this.weeks=this.calendar.weeks||null;else if(null!=this.weeks&&null!=t)switch(t.action){case"ADD_EVENT":case"DELETE_EVENT":null!=t.dayLocation&&(e=t.dayLocation.weekIndex,i=t.dayLocation.dayIndex,this.notifyPath("weeks."+e+".days."+i+".events"));break;case"EDIT_EVENT":null!=t.dayLocation&&(e=t.dayLocation.weekIndex,i=t.dayLocation.dayIndex,this.redrawArray("weeks."+e+".days."+i+".events"));break;case"ADD_OPTIONS":case"DELETE_OPTIONS":null!=t.dayLocation&&(e=t.dayLocation.weekIndex,i=t.dayLocation.dayIndex,this.notifyPath("weeks."+e+".days."+i+".options"));break;case"EDIT_OPTIONS":var e,i;null!=t.dayLocation&&(e=t.dayLocation.weekIndex,i=t.dayLocation.dayIndex,this.notifyPath("weeks."+e+".days."+i+".options.disabledDayText"));break;case"LEGEND_CHANGE":this.redrawTrigger=!this.redrawTrigger}},c.prototype.eventClickHandler=function(t){l("eventClickHandler() called"),null==this.calendar||null!=(t=this.extractProperty(t,"button","calendarEvent"))&&this.calendar.setSelectedCalendarEvent(t)},c.prototype.isToday=function(t){t=t.dateTimeNum,t=new Date(t);return t.getFullYear()===this.today.getFullYear()&&t.getMonth()===this.today.getMonth()&&t.getDate()===this.today.getDate()?"pds-calendar-is-today":null},c.prototype.getInitial=function(t){return t.charAt(0)},c.prototype.getIconName=function(t){if(null==this.calendar||null==this.calendar.legendItems)return null;t=this.calendar.legendItems.get(t.legendItemType);return null!=t&&t.icon||null},c.prototype.hasValidIcon=function(t){return null!=this.calendar&&this.calendar.hasValidIcon(t)},c.prototype.showDisabledDayText=function(t){return null!=t&&null!=t.options&&!0===t.options.isDisabledDay&&null!=t.options.disabledDayText},c.prototype.isDisabledDay=function(t){return null!=t&&null!=t.options&&!0===t.options.isDisabledDay},c.prototype.getDisabledDayClass=function(t){return this.isDisabledDay(t)?"pds-calendar-disabled-day":null},c.prototype.getCellAriaText=function(t){if(null==t.dateTimeNum)return"";var e=new Date(t.dateTimeNum),i=u.pdsI18n.locale.DATETIME_FORMATS.DAY[e.getDay()]+" "+u.pdsI18n.locale.DATETIME_FORMATS.MONTH[e.getMonth()]+" "+t.dayNum;return e.getFullYear()!==this.today.getFullYear()&&(i+=", "+e.getFullYear()),i=null!=this.isToday(t)?u.pdsI18n.getText("global|Today")+", "+i:i},c.prototype.getEventAriaText=function(t){if(null==t)return"";var e="";return null!=this.calendar&&0<(e=this.calendar.getLegendItemAriaText(t)).length&&(e=" - "+e),u.pdsI18n.formatTime(t.startTime,"TIME_COMPACT")+" "+t.name+e+", "+u.pdsI18n.getText("pds|calendar|Select for more details")},c);function c(){var t=null!==o&&o.apply(this,arguments)||this;return t.is="pds-calendar",t.today=new Date,t.selectedCalendarEvent=null,t.properties={dataCalendarId:{type:String,value:null,observer:"calendarIdUpdated"},selectedCalendarEvent:{value:null,readOnly:!0}},t}e.PdsCalendar=r},function(t,e,i){"use strict";var n,r=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var o,s=i(5),a=i(33),r=(o=s.PdsWidget,r(u,o),u.prototype.calendarIdUpdated=function(){var t=this;null!=this.dataChangeSubscription&&this.dataChangeSubscription.unsubscribe(),null!=this.dataCalendarId&&(this.calendar=a.serviceInstances.getCalendarService().getCalendar(this.dataCalendarId),this.dataChangeSubscription=this.calendar.getCalendarDataChangeStream().subscribe(function(){console.log("the calendar data has changed"),t.updateWithNewCalendarData()}),this.updateWithNewCalendarData())},u.prototype.detached=function(){o.prototype.detached.call(this),null!=this.dataChangeSubscription&&this.dataChangeSubscription.unsubscribe()},u.prototype.updateWithNewCalendarData=function(){null!=this.calendar&&null!=this.calendar.legendItems&&(this.legendItems=this.calendar.legendItems.values())},u.prototype.getAriaText=function(t){return null!=t.ariaText?t.ariaText:t.text},u);function u(){var t=null!==o&&o.apply(this,arguments)||this;return t.is="pds-calendar-legend",t.properties={dataCalendarId:{type:String,value:null,observer:"calendarIdUpdated"}},t}e.PdsCalendarLegend=r},function(t,e,i){"use strict";var n,r=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var o,s=i(5),a=i(10),u=i(33),l=i(43),c=a.pdsLogger.prependLogger(a.pdsLogger.requiresLogger("gridWidget"),"pds-grid-widget-filter.ts"),r=(o=s.PdsWidget,r(d,o),d.prototype.created=function(){this.dontShowDialogAgain="true"===l.pdsLocalStorage.getUserItem("stopShowingFilterDialogPrompt")},d.prototype.gridWidgetChange=function(){var e=this;c("gridWidgetChange called"),null!=this.dataGridWidgetId&&this.subscriptions.push(u.serviceInstances.getGridWidgetService().getGridWidget(this.dataGridWidgetId).subscribe(function(t){e.gridWidget=t||null}))},d.prototype.toggleFilter=function(){var t;this.gridWidget&&((t=!this.gridWidget.hideFilterControls)&&this.gridWidget.filterControl.isFiltersApplied()?this.dontShowDialogAgain?this.clearFilter():this.isClearFilterDialogOpen=!0:this.gridWidget.hideFilterControls=t)},d.prototype.closeDialog=function(){this.isClearFilterDialogOpen=!1},d.prototype.detached=function(){o.prototype.detached.call(this),this.cancelSubscriptions()},d.prototype.confirmAction=function(){var t=this.querySelector('input[type="checkbox"]');null!=t&&(this.dontShowDialogAgain=!0===t.checked,l.pdsLocalStorage.setUserItem("stopShowingFilterDialogPrompt",String(this.dontShowDialogAgain))),this.closeDialog(),this.clearFilter()},d.prototype.clearFilter=function(){this.gridWidget&&(this.gridWidget.clearFilterControls(!0),this.gridWidget.hideFilterControls=!0)},d);function d(){var t=null!==o&&o.apply(this,arguments)||this;return t.is="pds-grid-widget-filter-toggle",t.gridWidget=null,t.dontShowDialogAgain=!1,t.isClearFilterDialogOpen=!1,t.properties={dataGridWidgetId:{type:String,value:null,observer:"gridWidgetChange"},dataShowButtonLabel:{value:"true",type:String},isClearFilterDialogOpen:{value:!1}},t}e.PdsGridWidgetFilterToggle=r},function(t,e,i){"use strict";var n,r=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var o,s=i(5),a=i(6),r=(o=s.PdsWidget,r(u,o),u.prototype.updateDate=function(){var t,e;null!=this.dataDate?(t=new Date(this.dataDate),e=a.pdsI18n.isValidDateObject(t),this.date=e?t:null):this.date=null},u.prototype.localizeDate=function(){this.setPrivatePolymerPropertyValue("localizedDate",a.pdsI18n.formatDate(this.date,this.dataFormat))},u);function u(){var t=null!==o&&o.apply(this,arguments)||this;return t.is="pds-format-date",t.properties={dataDate:{type:String,value:null,observer:"updateDate"},date:{value:null,observer:"localizeDate"},dataFormat:{type:String,value:"DATE_PRETTY",observer:"localizeDate"},localizedDate:{type:String,value:null,readOnly:!0,observer:"localizeDate"}},t}e.PdsFormatDate=r},function(t,e,i){"use strict";var n,r=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var o,s=i(5),a=i(6),u=i(9),l=i(33),r=(o=s.PdsWidget,r(c,o),c.prototype.ready=function(){var t=this;o.prototype.ready.call(this),this.dirtyStateService=l.serviceInstances.getDirtyStateService(),this.handleFocusCallback=function(){return t.handleFocus(t.userDecision)}},c.prototype.attached=function(){var t=this;o.prototype.attached.call(this),this.previouslyFocusedElement=u.pdsUtils.getElementInFocus(),null==this.previouslyFocusedElement&&(this.previouslyFocusedElement=document.querySelector("select, input, button, a")),this.addEventListener("pdsRemoveDialog",function(){t.fireUserSelection("CANCEL")})},c.prototype.getDirtyStateDialogAriaLabelHeader=function(){return a.pdsI18n.getText("pds|dialog dirty state prompt|Warning")+" "+a.pdsI18n.getText("pds|dialog|Escape Message")},c.prototype.clickHandler=function(t){console.log(t);t=this.extractAttribute(t,"button","data-user-selection");this.fireUserSelection(t)},c.prototype.fireUserSelection=function(t){this.userDecision=t,this.fire("pdsDirtyStateUserDecision",t)},c.prototype.handleFocus=function(t){switch(t){case"SAVE_AND_CONTINUE":case"DISCARD_AND_CONTINUE":return this.previouslyFocusedElement||"";case"CANCEL":var e=this.dirtyStateService.getLatestDirtyForm();return null==e?this.previouslyFocusedElement||"":'[id="'+e+'"] input, [id="'+e+'"] select, [pds-form="'+e+'"] input, [pds-form="'+e+'"] select';default:return""}},c);function c(){var t=null!==o&&o.apply(this,arguments)||this;return t.is="pds-dirty-state-confirm-dialog",t}e.PdsDirtyStateConfirmDialog=r},function(t,e,i){"use strict";var n,r=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var c,o=i(67),d=i(15),p=i(74),h=i(9),f=i(47),s=i(19),g=i(19),y=i(19),m=i(19),v=i(107),r=(c=o.NotificationService,r(a,c),a.prototype.initializeNotificationStream=function(){function e(t){if(null==t.newActivity||null==t.newActivity.id||null==t.newActivity.origin)return!1;var e=t.newActivity.origin+t.newActivity.id;return t.newActivity.sender_uid!==i.context.currentUserUid&&!0!==i.seenActivitiesMap[e]&&(i.seenActivitiesMap[e]=!0)}var i=this;return this.clientFeedsInitialized.pipe(g.map(function(){var t=i.clientFeeds.map(function(e){return i.realTimeUpdates(e).pipe(g.map(function(t){return t.feedName=e.id,t}))});return i.mergedClientFeeds=d.merge.apply(void 0,t).pipe(s.filter(e),g.map(function(t){t=i.getNotificationContext(t.newActivity,t.feedName);return new p.ActivityFeedNotificationItem(!1,!1,t)})),i.notificationStream=i.mergedClientFeeds,!0}))},a.prototype.getRecentNotifications=function(n){var o=this;return this.clientFeedsInitialized.pipe(g.mergeMap(function(){for(var i=[],t=0,e=o.clientFeeds;t<e.length;t++)!function(e){var t=v.GetStreamCacheService.getObservable(e.feedUrl,n);null==t&&(t=d.from(e.get({limit:n}).then(function(t){return t.feedName=e.id,t})),v.GetStreamCacheService.cacheObservable(e.feedUrl,n,"ActivityFeedNotificationService.getRecentNotifications",t)),i.push(t)}(e[t]);return d.forkJoin(i).pipe(g.map(function(t){for(var e=[],i=0,n=t;i<n.length;i++){var r=n[i];e.push.apply(e,o.processRecentFeedData(r))}return e}))}))},a.prototype.realTimeUpdates=function(o){return d.Observable.create(function(r){o.subscribe(function(t){if(t.new&&0<t.new.length){for(var e=0,i=t.new;e<i.length;e++){var n=i[e];r.next({newActivity:n})}v.GetStreamCacheService.evictObservable(o.feedUrl,"ActivityFeedNotificationService.realTimeUpdates (new activity)")}})})},a.prototype.markAsRead=function(t){return this.updateFeedActivities(t,"read")},a.prototype.markAsSeen=function(t){return this.updateFeedActivities(t,"seen")},a.prototype.updateFeedActivities=function(t,e){for(var i=h.pdsUtils.groupBy(t,function(t){return t.feedName}),n=[d.of(void 0)],r=0,o=Object.keys(i);r<o.length;r++){var s=o[r],a=this.clientFeedNameMap[s];if(null==a)throw"bad feed name";v.GetStreamCacheService.evictObservable(a.feedUrl,"ActivityFeedNotificationService.updateFeedActivities");for(var u=i[s].map(function(t){return t.id});0<u.length;){var l=u.splice(0,45);"seen"===e?n.push(d.from(a.get({limit:5,mark_seen:l}))):n.push(d.from(a.get({limit:5,mark_read:l})))}}return d.forkJoin(n).pipe(g.map(function(){}))},a.prototype.feedOriginToSection=function(t){t=this.extractOriginUid(t);return this.context.sectionMap[t]},a.prototype.extractOriginUid=function(t){return null==t?"":t.slice(22)},a.prototype.sectionUidToStudents=function(t){switch(this.context.userType){case"STUDENT":return[];case"PARENT":return this.sectionToStudentsMap.get(t)||[];case"TEACHER":return[];default:throw"Unsupported User type"}},a.prototype.getNotificationContext=function(t,e){var i=this.feedOriginToSection(t.origin);return{section:i,students:this.sectionUidToStudents(i.uid),feedName:e.split(":")[1],activityId:null==t.id?"":t.id,activitySenderName:t.sender_name,postedAt:new Date(t.time+"Z"),senderUid:t.sender_uid,userType:this.context.userType}},a.prototype.processRecentFeedData=function(t){for(var e=[],i=0,n=t.results;i<n.length;i++){var r=n[i];if(!r.is_read)for(var o=0,s=r.activities;o<s.length;o++){var a=s[o];if(null!=a.to&&a.sender_uid!==this.context.currentUserUid)for(var u=0,l=a.to;u<l.length;u++){var c=l[u];null!=this.context.sectionMap[this.extractOriginUid(c)]&&(a.origin=c,c=this.getNotificationContext(a,t.feedName),e.push(new p.ActivityFeedNotificationItem(r.is_seen,r.is_read,c)))}}}return e},a);function a(t,e){var n=c.call(this,t)||this;if(n.client=e,n.type=p.ActivityFeedNotificationItem.NOTIFICATION_TYPE,n.clientFeeds=[],n.clientFeedNameMap={},n.sectionToStudentsMap=new Map,n.seenActivitiesMap={},n.config=t,n.context=t.context,null==n.context)throw"Activity Feed Notification Service requires context";if(null==n.context.sectionMap&&(n.context.sectionMap=Object.assign.apply(Object,[{}].concat(n.context.sections.map(function(t){var e={};return e[t.uid]=t,e})))),null!=n.context.students&&null==n.context.studentMap){if(n.context.studentMap=Object.assign.apply(Object,[{}].concat(n.context.students.map(function(t){var e={};return e[t.uid]=t,e}))),null!=n.context.studentClassScheduleMap)for(var i=0,r=n.context.students;i<r.length;i++){var o=r[i],s=n.context.studentClassScheduleMap.get(o.uid);if(null!=s)for(var a=0,u=s.sections;a<u.length;a++){var l=u[a];n.sectionToStudentsMap.has(l.uid)?n.sectionToStudentsMap.get(l.uid).push(o):n.sectionToStudentsMap.set(l.uid,[o])}}}else null==n.context.studentMap&&(n.context.studentMap={});return n.clientFeedsInitialized=d.forkJoin(n.config.getStream.feedGroups.map(function(i){var t={feedUid:n.config.getStream.feedIdentifier,feedGroup:i},e=null==n.config.path?"/communication/v1/token":n.config.path,e=null!=n.config.domain?n.config.domain+e:e;return f.pdsHttpUtils.post(e,t,{},f.pdsHttpUtils.addUCAuthHeader({})).pipe(g.map(function(t){var e=JSON.parse(t.data),t=n.context.userType+"-"+n.config.getStream.feedIdentifier,e=n.client.feed(i,t,e.token);n.clientFeedNameMap[t]=e,n.clientFeeds.push(e)}))})).pipe(y.publishLast(),m.refCount()),n}e.ActivityFeedNotificationService=r},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=i(15),u=i(9),l=i(19),i=(n.prototype.getExistingNotifications=function(){for(var t=[],e=0,i=this.notificationServices;e<i.length;e++){var n=i[e];t.push(n.getRecentNotifications(200))}return a.forkJoin.apply(void 0,t).pipe(l.map(function(t){var e;return(e=Array.prototype).concat.apply(e,t)}))},n.prototype.initializeNotificationStream=function(){for(var r=this,t=[],e=0,i=this.notificationServices;e<i.length;e++){var n=i[e];t.push(n.initializeNotificationStream())}return a.forkJoin.apply(void 0,t).pipe(l.map(function(){for(var t=[],e=0,i=r.notificationServices;e<i.length;e++){var n=i[e].notificationStream;t.push(n)}r.notificationStream=a.merge.apply(void 0,t)}))},n.prototype.markAsSeen=function(t){for(var e=u.pdsUtils.groupBy(t,function(t){return t.type}),i=[a.of(void 0)],n=0,r=Object.keys(e);n<r.length;n++){var o=r[n],s=this.notificationServiceTypeMap[o];if(null==s)throw"unmapped service (seen)";i.push(s.markAsSeen(e[o]))}return a.forkJoin(i).pipe(l.map(function(){}))},n.prototype.markAsRead=function(t){for(var e=u.pdsUtils.groupBy(t,function(t){return t.subtype||t.type}),i=[a.of(void 0)],n=0,r=Object.keys(e);n<r.length;n++){var o=r[n],s=this.notificationServiceTypeMap[o];if(null==s)throw"unmapped service (read)";i.push(s.markAsRead(e[o]))}return a.forkJoin(i).pipe(l.map(function(){}))},n);function n(t){this.notificationServiceTypeMap={},this.notificationServices=t;for(var e=0,i=this.notificationServices;e<i.length;e++){var n=i[e];this.notificationServiceTypeMap[n.type]=n}}e.AggregatedNotificationService=i},function(t,e,i){"use strict";var n,r=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var o,s=i(19),a=i(15),u=i(99),l=i(47),c=i(78),i=i(67),r=(o=i.NotificationService,r(d,o),d.prototype.markAsRead=function(t){return this.getStreamFeed.markNotificationsRead(t.map(function(t){return t.getstreamGroupId}))},d.prototype.markAsSeen=function(t){return a.of({})},d.prototype.initializeNotificationStream=function(){function t(t){return null!=t.newActivity}var i=this;return this.feedInitialized.pipe(s.map(function(){return i.notificationStream=i.getStreamFeed.realTimeUpdates().pipe(s.filter(t),s.map(function(t){var e=i.context.sectionMap[t.newActivity.sectionUid],e={activity:t.newActivity,userType:i.context.userType,currentUserUid:i.context.currentUserUid,getStreamGroupId:t.newActivity.group,sectionName:i.getDisplaySectionNane(e)};return new u.AsgmtSubmissionNotificationItem(!1,!1,e)})),!0}))},d.prototype.getRecentNotifications=function(t){function e(t){return null!=t.activities&&0<t.activities.length&&(!t.is_read&&0<=Object.keys(n.context.sectionMap).indexOf(t.activities[0].sectionUid))}var n=this;return this.feedInitialized.pipe(s.mergeMap(function(){return n.getStreamFeed.getNotifications(t)}),s.map(function(t){return t.filter(e).map(function(t){var e=t.activities[0],i=n.context.sectionMap[e.sectionUid],i={activity:e,userType:n.context.userType,currentUserUid:n.context.currentUserUid,getStreamGroupId:t.group,sectionName:n.getDisplaySectionNane(i)};return new u.AsgmtSubmissionNotificationItem(t.is_seen,t.is_read,i)})}))},d.prototype.getDisplaySectionNane=function(t){return null==t?"":null==t.secondaryDisplay?null==t.primaryDisplay?"":t.primaryDisplay:t.secondaryDisplay+" "+t.primaryDisplay},d);function d(t,e){var i=o.call(this,t)||this;i.notificationStream=new a.Subject,i.type=u.AsgmtSubmissionNotificationItem.NOTIFICATION_SUBTYPE,i.userNameMap={},i.config=t,i.context=t.context;var n={feedUid:i.context.currentUserUid,feedGroup:i.config.feedGroup},t=null==i.config.communicationPath?"/communication/v1/token":i.config.communicationPath,t=null!=i.config.domain?i.config.domain+t:t;return i.feedInitialized=l.pdsHttpUtils.post(t,n,{},l.pdsHttpUtils.addUCAuthHeader({})).pipe(s.map(function(t){t=JSON.parse(t.data);i.getStreamFeed=new c.GetStreamFeedService(e,i.config.feedGroup,""+i.config.feedPrefix+i.context.currentUserUid,t.token,!0)}),s.publishLast(),s.refCount()),i}e.AsgmtSubmissionNotificationService=r},function(t,e,i){"use strict";var n,r=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var o,s=i(19),a=i(15),u=i(118),l=i(47),c=i(78),i=i(67),r=(o=i.NotificationService,r(d,o),d.prototype.markAsRead=function(t){return this.getStreamFeed.markNotificationsRead(t.map(function(t){return t.getstreamGroupId}))},d.prototype.markAsSeen=function(t){return a.of({})},d.prototype.initializeNotificationStream=function(){function t(t){return null!=t.newActivity}var n=this;return this.feedInitialized.pipe(s.map(function(){var i;return n.notificationStream=n.getStreamFeed.realTimeUpdates().pipe(s.filter(t),s.map(function(t){var e;return null!=t.newActivity&&null!=t.newActivity.group&&(e=n.context.sectionMap[t.newActivity.sectionUid],i={activity:t.newActivity,userType:n.context.userType,currentUserUid:n.context.currentUserUid,getStreamGroupId:t.newActivity.group,sectionName:n.getDisplaySectionName(e)}),new u.AsgmtReturnNotificationItem(!1,!1,i)})),!0}))},d.prototype.getRecentNotifications=function(t){function e(t){return null!=t.activities&&0<t.activities.length&&(!t.is_read&&0<=Object.keys(r.context.sectionMap).indexOf(t.activities[0].sectionUid))}var r=this;return this.feedInitialized.pipe(s.mergeMap(function(){return r.getStreamFeed.getNotifications(t)}),s.map(function(t){var n;return t.filter(e).map(function(t){var e=t.activities[0],i=r.context.sectionMap[e.sectionUid];return null!=t.group&&(n={activity:e,userType:r.context.userType,currentUserUid:r.context.currentUserUid,getStreamGroupId:t.group,sectionName:r.getDisplaySectionName(i)}),new u.AsgmtReturnNotificationItem(t.is_seen,t.is_read,n)})}))},d.prototype.getDisplaySectionName=function(t){return null==t?"":null==t.secondaryDisplay?null==t.primaryDisplay?"":t.primaryDisplay:t.secondaryDisplay+" "+t.primaryDisplay},d);function d(t,e){var i=o.call(this,t)||this;i.notificationStream=new a.Subject,i.type=u.AsgmtReturnNotificationItem.NOTIFICATION_SUBTYPE,i.userNameMap={},i.config=t,i.context=t.context;var n={feedUid:i.context.currentUserUid,feedGroup:i.config.feedGroup},t=null==i.config.communicationPath?"/communication/v1/token":i.config.communicationPath,t=null!=i.config.domain?i.config.domain+t:t;return i.feedInitialized=l.pdsHttpUtils.post(t,n,{},l.pdsHttpUtils.addUCAuthHeader({})).pipe(s.map(function(t){t=JSON.parse(t.data);i.getStreamFeed=new c.GetStreamFeedService(e,i.config.feedGroup,""+i.config.feedPrefix+i.context.currentUserUid,t.token,!0)}),s.publishLast(),s.refCount()),i}e.AsgmtReturnNotificationService=r},function(t,e,i){"use strict";var n,r=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var o,s=i(15),a=i(19),u=i(100),i=i(67),r=(o=i.NotificationService,r(l,o),l.prototype.markAsRead=function(t){return s.of({})},l.prototype.markAsSeen=function(t){return s.of({})},l.prototype.initializeNotificationStream=function(){return s.of({})},l.prototype.getRecentNotifications=function(t){return this.config.getNotifications.pipe(a.map(function(t){return t.map(function(t){return new u.AssignmentTemplateNotificationItem({postedAt:t.postedAt,assignmentTemplateUid:t.assignmentTemplateUid,assignmentName:t.assignmentName,sectionUid:t.sectionUid,sectionName:t.sectionName,hasBeenAssigned:t.hasBeenAssigned,needsReassignment:t.needsReassignment,assignmentUid:t.assignmentUid})})}))},l);function l(t){var e=o.call(this,t)||this;return e.notificationStream=new s.Subject,e.type=u.AssignmentTemplateNotificationItem.NOTIFICATION_SUBTYPE,e.config=t,e}e.AssignmentTemplateNotificationService=r},function(t,e,i){"use strict";var n,r=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var o,s=i(15),a=i(15),u=i(101),l=i(67),c=i(47),d=i(78),p=i(19),h=i(19),f=i(19),g=i(19),y=i(19),m=i(19),v=i(10).pdsLogger.requiresLogger("notification-service"),r=(o=l.NotificationService,r(b,o),b.prototype.markAsRead=function(t){return this.getStreamFeed.markNotificationsRead(t.map(function(t){return t.getstreamGroupId}))},b.prototype.markAsSeen=function(t){return a.of({})},b.prototype.initializeNotificationStream=function(){var e=this;return this.feedInitialized.pipe(h.map(function(){return e.notificationStream=e.getStreamFeed.realTimeUpdates().pipe(h.map(function(t){if(null!=t.newActivity&&-1!==t.newActivity.operation.indexOf("CREATE")&&t.newActivity.message.senderUid!==e.context.currentUserUid)return[t.newActivity]})).pipe(y.filter(function(t){return!!t})).pipe(p.mergeMap(function(t){return e.updateUserMapForNotifications(t,!0).pipe(f.mapTo(t))})).pipe(h.map(function(t){t=t[0];if(null!=t&&null!=t.group){t={activity:t,senderInfo:"TEACHER"===e.context.userType?e.userNameMap[t.topicUid]:e.userNameMap[t.threadOwnerUid],userType:e.context.userType,currentUserUid:e.context.currentUserUid,getStreamGroupId:t.group};return new u.CommunicationNotificationItem(!1,!1,t)}})).pipe(y.filter(function(t){return!!t})),!0}))},b.prototype.getRecentNotifications=function(t){function e(t){var e=t.activities[0];return-1!==e.operation.indexOf("CREATE")&&e.message.senderUid!==i.context.currentUserUid&&!t.is_read&&null!=t.group}var i=this;return this.feedInitialized.pipe(p.mergeMap(function(){return i.getStreamFeed.getNotifications(t)})).pipe(p.mergeMap(function(t){var e=t.map(function(t){return t.activities[0]});return i.updateUserMapForNotifications(e).pipe(f.mapTo(t))})).pipe(h.map(function(t){return t.filter(e).map(function(t){var e=t.activities[0],e={activity:e,senderInfo:"TEACHER"===i.context.userType?i.userNameMap[e.topicUid]:i.userNameMap[e.threadOwnerUid],userType:i.context.userType,currentUserUid:i.context.currentUserUid,getStreamGroupId:t.group};return new u.CommunicationNotificationItem(t.is_seen,t.is_read,e)})}))},b.prototype.updateUserMapForNotifications=function(t,e){var r=this;v("Updating user map for notifications: "+JSON.stringify(t));var i=this.getNewUserInfoFromNotifications(t);if(v("Filtered user info request query: "+JSON.stringify(i)),0===i.length)return a.of(null);t=null==this.config.navigationPath?"/navigation/v1/user_names":this.config.navigationPath,t=null!=this.config.domain?this.config.domain+t:t;return c.pdsHttpUtils.post(t,i,{},c.pdsHttpUtils.addUCAuthHeader({}),e).pipe(h.map(function(t){for(var e=0,i=JSON.parse(t.data);e<i.length;e++){var n=i[e];r.userNameMap[n.userUid]=n}return null}))},b.prototype.getNewUserInfoFromNotifications=function(t){for(var e=[],i=new Set,n=0,r=t;n<r.length;n++){var o=r[n];"TEACHER"===this.context.userType?i.has(o.topicUid)||(e.push({userUid:o.topicUid,userType:"STUDENT",sectionUids:o.message.associatedSectionUids}),i.add(o.topicUid)):i.has(o.threadOwnerUid)||(e.push({userUid:o.threadOwnerUid,userType:"TEACHER",sectionUids:o.message.associatedSectionUids}),i.add(o.threadOwnerUid))}return e},b);function b(t,e){var i=o.call(this,t)||this;i.notificationStream=new s.Subject,i.type=u.CommunicationNotificationItem.NOTIFICATION_TYPE,i.userNameMap={},i.config=t,i.context=t.context;var n={feedUid:i.context.currentUserUid,feedGroup:i.config.feedGroup};return null!=t.getStreamFeed?(i.getStreamFeed=t.getStreamFeed,i.feedInitialized=a.of(null).pipe(g.publishLast(),m.refCount())):(t=null==i.config.communicationPath?"/communication/v1/token":i.config.communicationPath,t=null!=i.config.domain?i.config.domain+t:t,i.feedInitialized=c.pdsHttpUtils.post(t,n,{},c.pdsHttpUtils.addUCAuthHeader({})).pipe(h.map(function(t){t=JSON.parse(t.data);i.getStreamFeed=new d.GetStreamFeedService(e,i.config.feedGroup,""+i.config.feedPrefix+i.context.currentUserUid,t.token,!0)}),g.publishLast(),m.refCount())),i}e.CommunicationNotificationService=r},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n,r=i(272),o=i(274),s=i(275),a=i(276),u=i(277),l=i(278),c=i(279),d=i(15),p=i(48),h=i(139),f=i(144),g=i(280),y=i(6),m=i(43);(i=n=e.FilterConstraint||(e.FilterConstraint={}))[i.BOTH=0]="BOTH",i[i.NO_FILTERS=1]="NO_FILTERS",i[i.SIMPLE_ONLY=2]="SIMPLE_ONLY",i[i.ADVANCED_ONLY=3]="ADVANCED_ONLY";v.prototype.init=function(t,e,i,n){var r=this;void 0===e&&(e=[]),void 0===n&&(n=!0),h.gridWidgetLogger.log("grid widget init",this.logColor),this.inputData=e,this.sortControl.sortConfigurations=i,this.dataFields.clear(),"advanced-only"!==this.filterConstraint&&(this.addDataFields([this.simpleFilterDataField]),"simple-only"===this.filterConstraint&&null==this.simpleFilterDataField.placeholderText&&(this.simpleFilterDataField.placeholderText=y.pdsI18n.getText("pds|grid widget|Filter"))),this.addDataFields(t),this.statePersistenceId?(this.filterControl.clear(),this.restoreState(),0===this.filterControl.filterContainers.length&&this.filterControl.reset()):this.filterControl.reset(),this.hideFilterControls&&this.filterControl.isFiltersApplied()&&(this.hideFilterControls=!1),this.taskList.forEach(function(t){t.logColor=r.logColor}),n&&this.executeTaskChain(),this.initComplete.next()},v.prototype.tasksCompleteCallback=function(){this.persistState()},v.prototype.setServerSideMode=function(){this.taskList.forEach(function(t){t.setGridWidgetTaskActive(!1)}),this.setFilterConstraint(n.ADVANCED_ONLY)},v.prototype.useAllFiltersMode=function(){this.filterControl.isAllFiltersMode=!0},v.prototype.turnOffPagination=function(){this.taskList.removeNode(this.paginationControl),delete this.paginationControl},v.prototype.setFilterConstraint=function(t){switch(t){case n.ADVANCED_ONLY:this.filterConstraint="advanced-only";break;case n.BOTH:this.filterConstraint=null;break;case n.NO_FILTERS:this.filterConstraint="no-filters";break;case n.SIMPLE_ONLY:this.filterConstraint="simple-only";break;default:throw t+" not supported as a filter constraint."}},v.prototype.setShowNextPageInput=function(t){this.paginationControl.showNextPageInput=t},v.prototype.setShowRowsPerPage=function(t){this.paginationControl.showRowsPerPage=t},v.prototype.setSortConfig=function(t,e){null!=e&&null!=t&&t.setSortDirection(e),this.sortControl.update(t,this.dataFields)},v.prototype.addDataFields=function(t){function e(i){var n=0;r.dataFields.array.find(function(t,e){return null!=i.sortKey&&null!=t.value.sortKey&&i.sortKey<t.value.sortKey||(n++,!1)}),r.dataFields.put(i.id,i,n),r.filterControl.filterContainers.forEach(function(t){t.availableFilterFields[i.id]=i}),r.filterControl.updateAvailableFiltersCount()}var r=this;if(t instanceof Array)t.forEach(e);else for(var i in t)e(t[i])},v.prototype.removeDataFields=function(t){var i=this,n=0;return t.forEach(function(e){i.filterControl.filterContainers.filter(function(t){return t.dataField===e}).forEach(function(t){i.filterControl.filterContainers.splice(i.filterControl.filterContainers.indexOf(t),1),n++}),i.dataFields.remove(e.id)}),0===this.filterControl.filterContainers.length&&this.filterControl.addAnotherFilter(),n},v.prototype.addTask=function(t){if(!this.taskList.contains(t)){for(var e=this.taskList.head;null!=e&&t.getPriority()>e.getPriority();)e=e.nextNode;null!=e&&this.taskList.addBefore(t,e)}},v.prototype.removeTask=function(t){this.taskList.removeNode(t)},v.prototype.setRowsPerPage=function(t){this.paginationControl.rowsPerPage=t},v.prototype.addTaskChainPrerequisite=function(t){this.taskChainPrerequisites.add(t)},v.prototype.setSimpleFilterPlaceholderText=function(t){this.simpleFilterDataField.setPlaceholderText(t)},v.prototype.setNumberOfRows=function(t,e){this.paginationControl.setNumberOfRowsInPage(t),this.paginationControl.setNumberOfRows(e)},v.prototype.getRestArguments=function(){var e={};return this.taskList.forEach(function(t){null!=t.restArguments&&(e[t.name]=t.restArguments)}),e},v.prototype.executeTaskChain=function(i){var n=this,e=[d.of("at least one success")];this.taskChainPrerequisites.forEach(function(t){e.push(t())}),d.forkJoin.apply(void 0,e).subscribe(function(){var t;if(null==i)t=n.taskList.head.nextNode;else{for(var e=n.taskList.head;null!=e&&e.name!==i;)e=e.nextNode;null!=(t=e)&&(t=e)}null!=t&&(h.gridWidgetLogger.log("- - - - - - Running task chain starting at: "+t.name+" - - - - - -",n.logColor),t.execute())},function(){h.gridWidgetLogger.log("Not all task chain prerequisites fulfilled",n.logColor);for(var t=n.taskList.head;null!=t;)t.taskChainCanceled(),t=t.nextNode})},v.prototype.clearFilterControls=function(t){void 0===t&&(t=!0),this.filterControl.reset(),t&&this.executeTaskChain()},v.prototype.clearPersistedState=function(){m.pdsLocalStorage.removeUserItem(this.statePersistenceId)},v.prototype.persistState=function(){var i;this.statePersistenceId&&(i={},this.taskList.forEach(function(t){var e=t.getPersistenceObject();null!=e&&(i[t.name]=e)}),0<Object.keys(i).length?m.pdsLocalStorage.setUserItem(this.statePersistenceId,JSON.stringify(i)):m.pdsLocalStorage.removeUserItem(this.statePersistenceId))},v.prototype.restoreState=function(){if(this.statePersistenceId){var t=m.pdsLocalStorage.getUserItem(this.statePersistenceId);if(null!=t)try{var e=JSON.parse(t);this.taskList.forEach(function(t){t.restoreFromPersistenceObject(e[t.name])})}catch(t){console.error("something went wrong restoring the filters for the grid widget.")}}},v.prototype.createFile=function(t){var e=this.paginationControl.previousNode.result,i=this.dataFields.values().filter(function(t){return!t.fieldExportDisabled});return g.fileCreator.createCSV(e,i)},i=v;function v(t,e){var i=this;if(this.dataFields=new p.OrderedMap,this.simpleFilterDataField=new f.MultiField("all-fields-filter",y.pdsI18n.getText("pds|grid widget|All"),this.dataFields,-1),this.dataTask=new l.DataTask(function(){return i.inputData}),this.tasksComplete=new d.Subject,this.initComplete=new d.Subject,this.sortControl=new a.SortTask(this.dataFields),this.paginationControl=new o.PaginateTask,this.resetPaginationTask=new s.ResetPaginationTask(this.paginationControl),this.filterControl=new r.FilterTask(this.dataFields),this.taskList=new u.LinkedList(this.dataTask),this.filterConstraint=null,this.hideFilterControls=!1,this.taskChainPrerequisites=new Set,this.taskChainComplete=new c.CompleteTask(this.tasksComplete,function(){i.tasksCompleteCallback()}),this.logColor=null!=e?e:"black",this.taskList.addAfter(this.filterControl,this.taskList.head),this.taskList.addAfter(this.resetPaginationTask,this.filterControl),this.taskList.addAfter(this.sortControl,this.resetPaginationTask),this.taskList.addAfter(this.paginationControl,this.sortControl),this.taskList.addAfter(this.taskChainComplete,this.paginationControl),!1!==t){if(null==t||"string"!=typeof t||0===t.replace(/\s/g,"").length)throw new Error("statePersistenceId must be a non-empty string or false");this.statePersistenceId="gw:"+t}}e.GridWidget=i},function(t,e,i){"use strict";var n,r=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var o,s=i(50),a=i(140),u=i(44),l=i(9),c=i(142),r=(o=s.GridWidgetTask,r(d,o),d.prototype.getPriority=function(){return s.GridWidgetTask.FILTER_TASK_PRIORITY},d.prototype.isFiltersApplied=function(){return 1<this.filterContainers.length||0<this.filterContainers.length&&!this.filterContainers[0].filter.isBlank()},d.prototype.filterFieldUpdated=function(t,e){null!=e&&(t.selectedFieldId=e);e=t.update();e.objectLookupKey!==t.dataField.objectLookupKey&&this.addToFilterContainers(e,t),this.removeFromFilterContainers(t.dataField,t)},d.prototype.addFilter=function(t){var e=this.getAvailableFilterFields(),i=Object.keys(e);if(0<i.length&&(!t||-1<i.indexOf(t))){t=new a.FilterContainer(e,t);return this.filterContainers.unshift(t),this.filterFieldUpdated(t),this.availableFiltersCount=i.length-1,t}},d.prototype.addAnotherFilter=function(){var e=this;0<this.filterContainers.length?this.addFilter():(this.filterFields.forEach(function(t){t.defaultFilterOption&&e.addFilter(t.id)}),0===this.filterContainers.length&&this.addFilter())},d.prototype.removeFilter=function(t){0<=t&&t<this.filterContainers.length&&(this.addToFilterContainers(this.filterContainers[t].dataField),this.availableFiltersCount++,this.filterContainers.splice(t,1))},d.prototype.reset=function(){this.clear(),this.isAllFiltersMode?this.addAllFilters():this.addAnotherFilter()},d.prototype.clear=function(){this.availableFiltersCount+=this.filterContainers.length,this.filterContainers.splice(0,this.filterContainers.length)},d.prototype.preRunSetup=function(){var e;null!=this.filterContainers&&0<this.filterContainers.length&&this.filterContainers.forEach(function(t){null!=t.filter&&t.filter.preFilterUpdate()}),this.isGridWidgetTaskActive()||(e=[],this.filterContainers.forEach(function(t){e.push(t.filter.getRestArguments())}),this.restArguments=l.pdsUtils.flatten(e))},d.prototype.updateAvailableFiltersCount=function(){this.availableFiltersCount=Object.keys(this.getAvailableFilterFields()).length},d.prototype.run=function(t){var i=this,n=[];return null!=t&&(t=this.doInverseFilters(t)).forEach(function(e){var t=!0;(t=null!=i.filterContainers&&0<i.filterContainers.length?null==i.filterContainers.find(function(t){return!t.passesFilter(e)}):t)&&(n[n.length]=e)}),n},d.prototype.getPersistenceObject=function(){for(var t=[],e=0,i=this.filterContainers;e<i.length;e++){var n=i[e];n.filter.isBlank()||t.push({fieldId:n.filter.dataField.id,value:n.filter.getPersistenceObject()})}if(0<t.length)return t},d.prototype.restoreFromPersistenceObject=function(t){if(this.clear(),this.isAllFiltersMode&&this.addAllFilters(),null!=t&&t instanceof Array)for(var i=t,n=this,e=i.length-1;0<=e;e--)!function(t){var e=i[t];null!=e.value&&n.filterFields.get(e.fieldId)&&(t=void 0,null!=(t=n.isAllFiltersMode?n.filterContainers.find(function(t){return t.dataField.id===e.fieldId}):n.addFilter(e.fieldId))&&t.filter.restoreFromPersistenceObject(e.value))}(e)},d.prototype.addAllFilters=function(){for(var t=this.filterFields.array.length-1;0<=t;t--)this.addFilter(this.filterFields.array[t].value.id)},d.prototype.getSelectableFilterFields=function(){var e,i=[];return null!=this.filterContainers&&0<this.filterContainers.length&&(e=this.filterContainers[0],this.filterFields.forEach(function(t){null!=e.availableFilterFields[t.id]&&i.push(t)})),i},d.prototype.doInverseFilters=function(u){var l=this;return this.filterFields.forEach(function(t,e,i){if(t instanceof c.InverseMultiSelectField){for(var n=t,t=l.filterContainers.find(function(t){return t.dataField===n}),r=null!=t?t.filter:n.getFilterInstance(),o=0,s=n.selectOptions.keys();o<s.length;o++){var a=s[o];r.searchValues[a]||(r.searchValues[a]=!1)}r.isBlankOverride=!1,u=u.filter(function(t){return r.passesFilter(t)}),delete r.isBlankOverride}}),u},d.prototype.addToFilterContainers=function(e,i){this.filterContainers.forEach(function(t){t!==i&&(t.availableFilterFields[e.id]=e)})},d.prototype.removeFromFilterContainers=function(e,i){this.filterContainers.forEach(function(t){t!==i&&t.dataField.id!==e.id&&delete t.availableFilterFields[e.id]})},d.prototype.getAvailableFilterFields=function(){var i=this.filterFields.getMap();return Object.keys(i).forEach(function(t){var e=i[t];e.filterDisabled!==u.DisableFilterOption.advancedOnly&&e.filterDisabled!==u.DisableFilterOption.both||delete i[t]}),this.filterContainers.forEach(function(t){delete i[t.dataField.id]}),i},d);function d(t){var e=o.call(this)||this;return e.name="filter",e.filterContainers=[],e.availableFiltersCount=0,e.isAllFiltersMode=!1,(e.filterFields=t).forEach(function(t){t.filterDisabled!==u.DisableFilterOption.advancedOnly&&t.filterDisabled!==u.DisableFilterOption.both&&e.availableFiltersCount++}),e}e.FilterTask=r},function(t,e,i){"use strict";var n,r=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var o,i=i(108),r=(o=i.MultiSelectFilter,r(s,o),s.prototype.internalPassesFilter=function(e){var i=this;return!1!==this.isBlankOverride||null==Object.keys(this.searchValues).find(function(t){if(i.searchValues[t])return!1;t=i.dataField.selectOptions.get(t);return"function"==typeof t?!0===t(e):"string"==typeof e&&"string"==typeof t?e.toUpperCase()===t.toUpperCase():e===t})},s);function s(){return null!==o&&o.apply(this,arguments)||this}e.InverseMultiSelectFilter=r},function(t,e,i){"use strict";var n,r=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var o,s=i(50),a=i(49),r=(o=s.GridWidgetTask,r(u,o),u.prototype.getPriority=function(){return s.GridWidgetTask.PAGINATE_TASK_PRIORITY},u.prototype.setNumberOfRows=function(t){this.numberOfRows=t,this.updateNumberOfPages(),this.updatePaginationNumbers()},u.prototype.setNumberOfRowsInPage=function(t){this.numberOfRowsInPage=t},u.prototype.setPageNumber=function(t){this.pageNumber=t,this.nextPageNumber=t},u.prototype.hidePageControls=function(){return this.hidePagination||-1===this.rowsPerPage||0===this.numberOfRows},u.prototype.taskChainCanceled=function(){this.nextPageNumber=this.pageNumber},u.prototype.preRunSetup=function(){this.pageNumber=this.nextPageNumber,this.gridWidgetTaskActive||(this.restArguments=[new a.RestArgument("page","=",this.pageNumber),new a.RestArgument("page-size","=",this.rowsPerPage)])},u.prototype.run=function(t){if(null==t)return[];this.setNumberOfRows(t.length);var e=[];if(t&&0<t.length)for(var i=(this.pageNumber-1)*this.rowsPerPage;i<this.pageNumber*this.rowsPerPage&&i<t.length;i++)e.push(t[i]);return this.numberOfRowsInPage=e.length,e},u.prototype.getPersistenceObject=function(){if(1<this.pageNumber)return this.pageNumber},u.prototype.restoreFromPersistenceObject=function(t){"number"==typeof t&&t&&(t=Number(t),this.setPageNumber(t))},u.prototype.validateRowsPerPage=function(){null==this.rowsPerPage?this.rowsPerPage=10:"string"==typeof this.rowsPerPage&&(this.rowsPerPage=parseInt(String(this.rowsPerPage))),(isNaN(this.rowsPerPage)||this.rowsPerPage<=0)&&(this.rowsPerPage=10),this.rowsPerPage>this.rowsPerPageMax&&(this.rowsPerPage=this.rowsPerPageMax,this.rowsPerPageMaxLimitExceeded=!0)},u.prototype.validatePageNumber=function(){var t;null==this.pageNumber?this.pageNumber=1:"string"==typeof this.pageNumber&&(this.pageNumber=Math.abs(this.pageNumber)),isNaN(this.pageNumber)&&(this.pageNumber=1),1<this.pageNumber&&0<this.numberOfRows&&(t=Math.ceil(this.numberOfRows/this.rowsPerPage),this.pageNumber>t&&(this.pageNumber=t,this.nextPageNumber=this.pageNumber)),0===this.pageNumber&&(this.pageNumber=1)},u.prototype.updateNumberOfPages=function(){this.validateRowsPerPage(),this.validatePageNumber();var t=Math.ceil(this.numberOfRows/this.rowsPerPage);this.pageNumber>t&&0<t?this.pageNumber=t:this.pageNumber<=0&&(this.pageNumber=1),parseInt(String(this.nextPageNumber))!==this.pageNumber&&(this.nextPageNumber=this.pageNumber),t!==this.numberOfPages&&(this.numberOfPages=t)},u.prototype.updatePaginationNumbers=function(){if(!(this.pageNumber<1||this.pageNumber>this.numberOfPages)){var t=Math.min(5,this.numberOfPages);if(this.pages=[],this.firstInListNumber=(this.pageNumber-1)*this.rowsPerPage+1,t<5)for(o=1;o<t+1;o++)this.pages.push(o);else{this.pages.push(this.pageNumber);for(var e=this.pageNumber,i=this.pageNumber,n=1===e,r=i===this.numberOfPages,o=1;o<t;o++)o%2!=0&&!r||n?(this.pages.push(++i),r=i===this.numberOfPages):(this.pages.unshift(--e),n=1===e)}}},u);function u(){var t=null!==o&&o.apply(this,arguments)||this;return t.name="paginate",t.showNextPageInput=!0,t.hidePagination=!1,t.showRowsPerPage=!0,t.numberOfRows=0,t.pageNumber=1,t.rowsPerPage=10,t.rowsPerPageMax=1e3,t.rowsPerPageMaxLimitExceeded=!1,t.pages=void 0,t.nextPageNumber=1,t.getPageNumber=function(){return this.pageNumber},t.getRowsPerPage=function(){return this.rowsPerPage},t.firstPage=function(){1!==this.pageNumber&&(this.nextPageNumber=1,this.execute())},t.previousPage=function(){1<this.pageNumber&&(this.nextPageNumber=this.pageNumber-1)},t.nextPage=function(){this.pageNumber<this.numberOfPages&&(this.nextPageNumber=this.pageNumber+1)},t.lastPage=function(){this.pageNumber!==this.numberOfPages&&(this.nextPageNumber=this.numberOfPages)},t.setPage=function(t){1<=t&&t<=this.numberOfPages&&t!==this.pageNumber&&(this.nextPageNumber=t,this.execute())},t}e.PaginateTask=r},function(t,e,i){"use strict";var n,r=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var o,s=i(50),r=(o=s.GridWidgetTask,r(a,o),a.prototype.getPriority=function(){return s.GridWidgetTask.RESET_PAGINATION_TASK_PRIORITY},a.prototype.preRunSetup=function(){this.skipNextExecution||(this.previousPageNumber=this.paginateTask.getPageNumber(),this.paginateTask.setPageNumber(1)),this.skipNextExecution=!1},a.prototype.run=function(t){return null==t?[]:t},a.prototype.getPersistenceObject=function(){if(1!==this.paginateTask.getPageNumber())return"skip-on-restore"},a.prototype.restoreFromPersistenceObject=function(t){"skip-on-restore"===t&&(this.skipNextExecution=!0)},a);function a(t){var e=o.call(this)||this;return e.name="reset-pagination",e.paginateTask=t,e}e.ResetPaginationTask=r},function(t,e,i){"use strict";var n,r=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var o=i(50),s=new(i(102).PdsNaturalSort);s.ignoreCase();var a,r=(a=o.GridWidgetTask,r(u,a),u.prototype.getPriority=function(){return o.GridWidgetTask.SORT_TASK_PRIORITY},u.prototype.preRunSetup=function(){this.isGridWidgetTaskActive()||(null!=this.sortConfiguration&&null!=this.sortConfiguration.reversed?this.restArguments=this.sortConfiguration.getRestArguments():this.restArguments=[])},u.prototype.run=function(t){if(null==this.sortConfiguration)return t;for(var e=[],i=0,n=this.sortConfiguration.fields;i<n.length;i++){var r=n[i],o=s.splitConfigurationSetting(r),r=this.fieldList.get(o.extractionKey);null!=r&&(o.extractionKey=r.resolve.bind(r),e.push(o))}return s.sortObjectsAdvanced(t,e,this.sortConfiguration.reversed||void 0)},u.prototype.update=function(t,e){this.sortConfiguration!==t&&(null!=this.sortConfiguration&&(this.sortConfiguration.reversed=null)!=this.sortConfiguration.sortChangedCallback&&this.sortConfiguration.sortChangedCallback(),this.sortConfiguration=t,null!=this.sortConfiguration&&null!=this.sortConfiguration.sortChangedCallback&&this.sortConfiguration.sortChangedCallback()),this.fieldList=e},u.prototype.getPersistenceObject=function(){if(this.sortConfiguration)return this.sortConfiguration.getPersistenceObject()},u.prototype.restoreFromPersistenceObject=function(t){var e=t;e&&e.fields instanceof Array&&0<e.fields.length?(null==this.sortConfigurations?(console.error("Sort Configurations not available to restore the state of the sort task."),delete this.sortConfiguration):this.sortConfiguration=this.sortConfigurations.find(function(t){return t.fields.join("|")===e.fields.join("|")}),null!=this.sortConfiguration&&(this.sortConfiguration.reversed=e.reversed)):delete this.sortConfiguration},u);function u(t){var e=a.call(this)||this;return e.name="sort",e.fieldList=t,e}e.SortTask=r},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=(r.prototype.addAfter=function(t,e){t.nextNode=e.nextNode,null!=(t.previousNode=e).nextNode&&(e.nextNode.previousNode=t),e.nextNode=t},r.prototype.addBefore=function(t,e){t.previousNode=e.previousNode,null!=(t.nextNode=e).previousNode&&(e.previousNode.nextNode=t),e.previousNode=t,this.head===e&&(this.head=t)},r.prototype.contains=function(t){for(var e=this.head;null!=e&&e!==t;)e=e.nextNode;return null!=e},r.prototype.forEach=function(t){for(var e=this.head;null!=e;)!0!==t(e)&&(e=e.nextNode)},r.prototype.removeNode=function(t){t!==this.head&&(null!=t.previousNode&&(t.previousNode.nextNode=t.nextNode),null!=t.nextNode&&(t.nextNode.previousNode=t.previousNode),delete t.previousNode,delete t.nextNode)},r);function r(t){this.head=t}e.LinkedList=n},function(t,e,i){"use strict";var n,r=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var o,s=i(50),r=(o=s.GridWidgetTask,r(a,o),Object.defineProperty(a.prototype,"result",{get:function(){return this.dataGetter()},enumerable:!0,configurable:!0}),a.prototype.updateDataGetter=function(t){this.dataGetter=t},a.prototype.getPriority=function(){return s.GridWidgetTask.DATA_TASK_PRIORITY},a.prototype.run=function(t){return t},a);function a(t){var e=o.call(this)||this;return e.name="data-holder",e.dataGetter=t,e}e.DataTask=r},function(t,e,i){"use strict";var n,r=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var o,s=i(50),r=(o=s.GridWidgetTask,r(a,o),a.prototype.getPriority=function(){return s.GridWidgetTask.COMPLETE_TASK_PRIORITY},a.prototype.preRunSetup=function(){this.gwCallback()},a.prototype.run=function(t){return t},a.prototype.setGridWidgetTaskActive=function(t){},a.prototype.execute=function(){o.prototype.execute.call(this),this.observable.next(this.result)},a);function a(t,e){var i=o.call(this)||this;return i.name="grid-widget-complete",i.gwCallback=e,i.observable=t,i}e.CompleteTask=r},function(t,p,e){"use strict";Object.defineProperty(p,"__esModule",{value:!0}),p.FIELD_DELIMITER=",",p.DOUBLE_QUOTE_CHARACTER='"',p.LINE_DELIMITER="\n",p.fileCreator={createCSV:function(t,e){for(var i="",n=0,r=0,o=e;r<o.length;r++){var s=o[r];i+=0===n?p.fileCreator.buildValidCSVFieldValue(s.title):p.FIELD_DELIMITER+p.fileCreator.buildValidCSVFieldValue(s.title),n+=1}for(var a=0,u=t;a<u.length;a++){var l=u[a],n=0;i+=p.LINE_DELIMITER;for(var c=0,d=e;c<d.length;c++){s=d[c];i+=0===n?p.fileCreator.buildValidCSVFieldValue(s.resolveAsString(l)):p.FIELD_DELIMITER+p.fileCreator.buildValidCSVFieldValue(s.resolveAsString(l)),n+=1}}return i},buildValidCSVFieldValue:function(t){if(null!=t&&0<t.trim().length){var e=t.trim();if(e.includes(p.DOUBLE_QUOTE_CHARACTER)||e.includes(p.FIELD_DELIMITER)||e.includes("\n")||e.includes("\r")){if(e.includes(p.DOUBLE_QUOTE_CHARACTER)){if(e.startsWith(p.DOUBLE_QUOTE_CHARACTER)&&e.endsWith(p.DOUBLE_QUOTE_CHARACTER)&&2<=e.length){t=e.substring(1,e.length-1);return p.DOUBLE_QUOTE_CHARACTER+t.replace(/"/g,'""')+p.DOUBLE_QUOTE_CHARACTER}return p.DOUBLE_QUOTE_CHARACTER+e.replace(/"/g,'""')+p.DOUBLE_QUOTE_CHARACTER}return p.DOUBLE_QUOTE_CHARACTER+e+p.DOUBLE_QUOTE_CHARACTER}return e}return""}}},function(t,e,i){"use strict";var n,r=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var o,i=i(50),r=(o=i.GridWidgetTask,r(s,o),s.prototype.getPriority=function(){return this.priority},s.prototype.countRow=function(t,e){t=String(this.dataField.resolve(t));null!=t&&""!==t||(t="none"),e.hasOwnProperty(t)?e[t]++:e[t]=1},s.prototype.updateSelected=function(t){var e=this;this.valuesOn[t]=!this.valuesOn[t],this.result.forEach(function(t){t.selected=e.valuesOn[e.dataField.resolve(t)]})},s.prototype.getDataField=function(){return this.dataField},s.prototype.setUpdateDataCallback=function(t){this.taskCompleteCallback=t},s.prototype.getItemCounts=function(){return this.itemCounts},s.prototype.countItems=function(t){var e,i=this,n=[],r={};for(e in t.forEach(function(t){i.countRow(t,r)}),r){var o=r[e];n.push({label:e,value:o,link:'JavaScript: var e = new Event("CountSelected");e.itemValue="'+e+'";e.dataFieldId="'+this.dataField.id+'";document.dispatchEvent(e);'})}function s(t){return i.reverseSort?null==t.label||isNaN(t.label)?t.label:parseInt(t.label):t.value}n.sort(function(t,e){return t=s(t),(e=s(e))<t?1:t<e?-1:0}),this.itemCounts=n,null!=this.taskCompleteCallback&&this.taskCompleteCallback()},s.prototype.run=function(t){return this.countItems(t),t},s);function s(t,e,i){void 0===e&&(e=!1);var n=o.call(this)||this;return n.priority=150,n.valuesOn={},n.name="counter-task",null!=i&&(n.priority=i),n.dataField=t,n.reverseSort=e,n}e.CounterTask=r},function(t,e,i){"use strict";var n,r=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var o,s=i(44),a=i(146),u=i(48),r=(o=s.GridWidgetDataField,r(l,o),l.prototype.getFilterInstance=function(){return new a.TextFilter(this)},l.prototype.setValidationRules=function(t){this.validationRules=t},l.prototype.setComparatorVisibility=function(t){for(var e=0,i=Object.keys(t);e<i.length;e++){var n=i[e],r=this.comparatorSettings.get(n);null!=r&&(r.isVisible=t[n])}for(var o=0,s=0,a=this.comparatorSettings.array;s<a.length;s++)a[s].value.isVisible&&o++;this.showComparators=2<=o},l.prototype.resolveAsString=function(t){return this.resolve(t)||""},l);function l(t,e,i,n){n=o.call(this,t,e,i,n)||this;return n.comparatorSettings=new u.OrderedMap,n.showComparators=!1,n.comparatorSettings.putAll([{key:"CONTAINS",value:{comparator:"CONTAINS",isVisible:!0,messageKey:"pds|grid widget|contains"}},{key:"IS_BLANK",value:{comparator:"IS_BLANK",isVisible:!1,messageKey:"pds|grid widget|is blank"}}]),n}e.TextField=r},function(t,e,i){"use strict";var n,r=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var o,s=i(44),a=i(147),u=i(6),r=(o=s.GridWidgetDataField,r(l,o),l.prototype.getFilterInstance=function(){return new a.DateFilter(this)},l.prototype.setValidationRules=function(t){this.validationRules=t},l.prototype.resolveAsString=function(t){t=this.resolve(t);return null!=t?u.pdsI18n.formatDate(t,"DATE"):""},l);function l(t,e,i,n){return o.call(this,t,e,i,n)||this}e.DateField=r},function(t,e,i){"use strict";var n,r=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var o,s=i(79),a=i(148),r=(o=s.SelectField,r(u,o),u.prototype.getFilterInstance=function(){return new a.PillSelectFilter(this)},u);function u(){return null!==o&&o.apply(this,arguments)||this}e.PillSelectField=r},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n,r=i(49),i=(o.prototype.setSortDirection=function(t){switch(t){case n.ascending:this.reversed=!1;break;case n.descending:this.reversed=!0;break;default:this.reversed=null}},o.prototype.setSortChangedCallback=function(t){this.sortChangedCallback=t},o.prototype.getRestArguments=function(){var e=this,i=[];return this.fields.forEach(function(t){t.startsWith("++")?i.push(new r.RestArgument(t.substring(2),"=","asc")):t.startsWith("--")?i.push(new r.RestArgument(t.substring(2),"=","desc")):t.startsWith("+")?i.push(new r.RestArgument(t.substring(1),"=",e.reversed?"desc":"asc")):t.startsWith("-")?i.push(new r.RestArgument(t.substring(1),"=",e.reversed?"asc":"desc")):i.push(new r.RestArgument(t,"=",e.reversed?"desc":"asc"))}),i},o.prototype.getPersistenceObject=function(){var t={fields:this.fields};return null!=this.reversed&&(t.reversed=this.reversed),t},o.prototype.restoreFromPersistenceObject=function(t){this.fields=t.fields,null!=t.reversed&&(this.reversed=t.reversed)},o);function o(t){for(var e=[],i=1;i<arguments.length;i++)e[i-1]=arguments[i];this.reversed=null,t instanceof Array?this.fields=t:this.fields=[t],null!=e&&(this.fields=this.fields.concat(e))}e.SortConfiguration=i,(e=n=e.SortDirection||(e.SortDirection={}))[e.ascending=0]="ascending",e[e.descending=1]="descending",e[e.notSorted=2]="notSorted"},function(t,e,i){"use strict";var n,r=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var o,s=i(44),a=i(149),u=i(6),r=(o=s.GridWidgetDataField,r(l,o),l.prototype.getFilterInstance=function(){return new a.NumberFilter(this)},l.prototype.setValidationRules=function(t){this.validationRules=t},l.prototype.resolveAsString=function(t){t=this.resolve(t);return null!=t?u.pdsI18n.localizeNumber(t):""},l);function l(t,e,i,n,r){r=o.call(this,t,e,i,r)||this;return r.unitsMap=n,r}e.NumberField=r}]);
!function(){var e,i,a,r,o,l,h,t,c,s,n,u,d,f,_,p,m,y,v,g,P,b,C,S,E,N,A,x,T,R,w,I,O,D,B,L,F,k,M,H,U,j,V,z,q,K,X,G,$,Y,J,W,Z,Q,ee,te,ne;function ie(e,r){return e.replace(G,function(e,t,n,i){return t+"'"+re(n.replace(/["']/g,""),r)+"'"+i})}function re(e,t){if(e&&Y.test(e))return e;var n,i=(n=t).__urlResolver||(n.__urlResolver=n.createElement("a"));return i.href=e,i.href||e}function oe(e){this.context=e;var t=this;this.boundComplete=function(){t.complete()}}function se(e){switch(e){case"&":return"&amp;";case"<":return"&lt;";case">":return"&gt;";case'"':return"&quot;";case"Â ":return"&nbsp;"}}function ae(e){for(var t={},n=0;n<e.length;n++)t[e[n]]=!0;return t}function le(e,t,n){switch(e.nodeType){case Node.ELEMENT_NODE:for(var i,r=e.localName,o="<"+r,s=e.attributes,a=0;i=s[a];a++)o+=" "+i.name+'="'+i.value.replace(Z,se)+'"';return o+=">",ee[r]?o:o+he(e,n)+"</"+r+">";case Node.TEXT_NODE:var l=e.data;return t&&te[t.localName]?l:l.replace(Q,se);case Node.COMMENT_NODE:return"\x3c!--"+e.data+"--\x3e";default:throw console.error(e),new Error("not implemented")}}function he(e,t){e instanceof HTMLTemplateElement&&(e=e.content);for(var n,i="",r=Polymer.dom(e).childNodes,o=0,s=r.length;o<s&&(n=r[o]);o++)i+=le(n,e,t);return i}function ce(e,t,n){return{index:e,removed:t,addedCount:n}}function ue(){}function de(){document.body.removeAttribute("unresolved")}window.hasOwnProperty("Polymer")||(window.WebComponents?addEventListener("WebComponentsReady",de):"interactive"===document.readyState||"complete"===document.readyState?de():addEventListener("DOMContentLoaded",de),window.Polymer={Settings:function(){var e=window.Polymer||{};if(!e.noUrlSettings)for(var t,n=location.search.slice(1).split("&"),i=0;i<n.length&&(t=n[i]);i++)(t=t.split("="))[0]&&(e[t[0]]=t[1]||!0);return e.wantShadow="shadow"===e.dom,e.hasShadow=Boolean(Element.prototype.createShadowRoot),e.nativeShadow=e.hasShadow&&!window.ShadowDOMPolyfill,e.useShadow=e.wantShadow&&e.hasShadow,e.hasNativeImports=Boolean("import"in document.createElement("link")),e.useNativeImports=e.hasNativeImports,e.useNativeCustomElements=!window.CustomElements||window.CustomElements.useNative,e.useNativeShadow=e.useShadow&&e.nativeShadow,e.usePolyfillProto=!e.useNativeCustomElements&&!Object.__proto__,e.hasNativeCSSProperties=!navigator.userAgent.match("AppleWebKit/601")&&window.CSS&&CSS.supports&&CSS.supports("box-shadow","0 0 0 var(--foo)"),e.useNativeCSSProperties=e.hasNativeCSSProperties&&e.lazyRegister&&e.useNativeCSSProperties,e}()},function(){var e=window.Polymer;window.Polymer=function(e){"function"==typeof e&&(e=e.prototype);var t=i(e=e||{}),n={prototype:e=t.prototype};return e.extends&&(n.extends=e.extends),Polymer.telemetry._registrate(e),document.registerElement(e.is,n),t};var i=function(e){var t=Polymer.Base;return e.extends&&(t=Polymer.Base._getExtendedPrototype(e.extends)),(e=Polymer.Base.chainObject(e,t)).registerCallback(),e.constructor};if(e)for(var t in e)Polymer[t]=e[t];Polymer.Class=i}(),Polymer.telemetry={registrations:[],_regLog:function(e){console.log("["+e.is+"]: registered")},_registrate:function(e){this.registrations.push(e),Polymer.log&&this._regLog(e)},dumpRegistrations:function(){this.registrations.forEach(this._regLog)}},Object.defineProperty(window,"currentImport",{enumerable:!0,configurable:!0,get:function(){return(document._currentScript||document.currentScript).ownerDocument}}),Polymer.RenderStatus={_ready:!1,_callbacks:[],whenReady:function(e){this._ready?e():this._callbacks.push(e)},_makeReady:function(){this._ready=!0;for(var e=0;e<this._callbacks.length;e++)this._callbacks[e]();this._callbacks=[]},_catchFirstRender:function(){requestAnimationFrame(function(){Polymer.RenderStatus._makeReady()})},_afterNextRenderQueue:[],_waitingNextRender:!1,afterNextRender:function(e,t,n){this._watchNextRender(),this._afterNextRenderQueue.push([e,t,n])},hasRendered:function(){return this._ready},_watchNextRender:function(){if(!this._waitingNextRender){this._waitingNextRender=!0;function e(){Polymer.RenderStatus._flushNextRender()}this._ready?requestAnimationFrame(e):this.whenReady(e)}},_flushNextRender:function(){var e=this;setTimeout(function(){e._flushRenderCallbacks(e._afterNextRenderQueue),e._afterNextRenderQueue=[],e._waitingNextRender=!1})},_flushRenderCallbacks:function(e){for(var t,n=0;n<e.length;n++)(t=e[n])[1].apply(t[0],t[2]||Polymer.nar)}},window.HTMLImports?HTMLImports.whenReady(function(){Polymer.RenderStatus._catchFirstRender()}):Polymer.RenderStatus._catchFirstRender(),Polymer.ImportStatus=Polymer.RenderStatus,Polymer.ImportStatus.whenLoaded=Polymer.ImportStatus.whenReady,function(){"use strict";var t=Polymer.Settings;Polymer.Base={__isPolymerInstance__:!0,_addFeature:function(e){this.extend(this,e)},registerCallback:function(){"max"===t.lazyRegister?this.beforeRegister&&this.beforeRegister():(this._desugarBehaviors(),this._doBehavior("beforeRegister")),this._registerFeatures(),t.lazyRegister||this.ensureRegisterFinished()},createdCallback:function(){this.__hasRegisterFinished||this._ensureRegisterFinished(this.__proto__),Polymer.telemetry.instanceCount++,(this.root=this)._doBehavior("created"),this._initFeatures()},ensureRegisterFinished:function(){this._ensureRegisterFinished(this)},_ensureRegisterFinished:function(e){e.__hasRegisterFinished===e.is&&e.is||("max"===t.lazyRegister&&(e._desugarBehaviors(),e._doBehaviorOnly("beforeRegister")),e.__hasRegisterFinished=e.is,e._finishRegisterFeatures&&e._finishRegisterFeatures(),e._doBehavior("registered"),t.usePolyfillProto&&e!==this&&e.extend(this,e))},attachedCallback:function(){var e=this;Polymer.RenderStatus.whenReady(function(){e.isAttached=!0,e._doBehavior("attached")})},detachedCallback:function(){var e=this;Polymer.RenderStatus.whenReady(function(){e.isAttached=!1,e._doBehavior("detached")})},attributeChangedCallback:function(e,t,n){this._attributeChangedImpl(e),this._doBehavior("attributeChanged",[e,t,n])},_attributeChangedImpl:function(e){this._setAttributeToProperty(this,e)},extend:function(e,t){if(e&&t)for(var n,i=Object.getOwnPropertyNames(t),r=0;r<i.length&&(n=i[r]);r++)this.copyOwnProperty(n,t,e);return e||t},mixin:function(e,t){for(var n in t)e[n]=t[n];return e},copyOwnProperty:function(e,t,n){var i=Object.getOwnPropertyDescriptor(t,e);i&&Object.defineProperty(n,e,i)},_logger:function(e,t){switch(1===t.length&&Array.isArray(t[0])&&(t=t[0]),e){case"log":case"warn":case"error":console[e].apply(console,t)}},_log:function(){var e=Array.prototype.slice.call(arguments,0);this._logger("log",e)},_warn:function(){var e=Array.prototype.slice.call(arguments,0);this._logger("warn",e)},_error:function(){var e=Array.prototype.slice.call(arguments,0);this._logger("error",e)},_logf:function(){return this._logPrefix.concat(this.is).concat(Array.prototype.slice.call(arguments,0))}},Polymer.Base._logPrefix=window.chrome&&!/edge/i.test(navigator.userAgent)||/firefox/i.test(navigator.userAgent)?["%c[%s::%s]:","font-weight: bold; background-color:#EEEE00;"]:["[%s::%s]:"],Polymer.Base.chainObject=function(e,t){return e&&t&&e!==t&&(Object.__proto__||(e=Polymer.Base.extend(Object.create(t),e)),e.__proto__=t),e},Polymer.Base=Polymer.Base.chainObject(Polymer.Base,HTMLElement.prototype),window.CustomElements?Polymer.instanceof=CustomElements.instanceof:Polymer.instanceof=function(e,t){return e instanceof t},Polymer.isInstance=function(e){return Boolean(e&&e.__isPolymerInstance__)},Polymer.telemetry.instanceCount=0}(),function(){function i(e){return t[e]||n[e.toLowerCase()]}function e(){return document.createElement("dom-module")}var t={},n={};e.prototype=Object.create(HTMLElement.prototype),Polymer.Base.extend(e.prototype,{constructor:e,createdCallback:function(){this.register()},register:function(e){(e=e||this.id||this.getAttribute("name")||this.getAttribute("is"))&&(this.id=e,t[e]=this,n[e.toLowerCase()]=this)},import:function(e,t){if(e){var n=i(e);return n||(function(){if(r)for(var e,t=document._currentScript||document.currentScript,n=(t&&t.ownerDocument||document).querySelectorAll("dom-module"),i=n.length-1;0<=i&&(e=n[i]);i--){if(e.__upgraded__)return;CustomElements.upgrade(e)}}(),n=i(e)),n&&t&&(n=n.querySelector(t)),n}}});var r=window.CustomElements&&!CustomElements.useNative;document.registerElement("dom-module",e)}(),Polymer.Base._addFeature({_prepIs:function(){if(!this.is){var e=(document._currentScript||document.currentScript).parentNode;if("dom-module"===e.localName){var t=e.id||e.getAttribute("name")||e.getAttribute("is");this.is=t}}this.is&&(this.is=this.is.toLowerCase())}}),Polymer.Base._addFeature({behaviors:[],_desugarBehaviors:function(){this.behaviors.length&&(this.behaviors=this._desugarSomeBehaviors(this.behaviors))},_desugarSomeBehaviors:function(e){for(var t=[],n=(e=this._flattenBehaviorsList(e)).length-1;0<=n;n--){var i=e[n];-1===t.indexOf(i)&&(this._mixinBehavior(i),t.unshift(i))}return t},_flattenBehaviorsList:function(e){for(var t=[],n=0;n<e.length;n++){var i=e[n];i instanceof Array?t=t.concat(this._flattenBehaviorsList(i)):i?t.push(i):this._warn(this._logf("_flattenBehaviorsList","behavior is null, check for missing or 404 import"))}return t},_mixinBehavior:function(e){for(var t,n=Object.getOwnPropertyNames(e),i=0;i<n.length&&(t=n[i]);i++)Polymer.Base._behaviorProperties[t]||this.hasOwnProperty(t)||this.copyOwnProperty(t,e,this)},_prepBehaviors:function(){this._prepFlattenedBehaviors(this.behaviors)},_prepFlattenedBehaviors:function(e){for(var t=0,n=e.length;t<n;t++)this._prepBehavior(e[t]);this._prepBehavior(this)},_doBehavior:function(e,t){for(var n=0;n<this.behaviors.length;n++)this._invokeBehavior(this.behaviors[n],e,t);this._invokeBehavior(this,e,t)},_doBehaviorOnly:function(e,t){for(var n=0;n<this.behaviors.length;n++)this._invokeBehavior(this.behaviors[n],e,t)},_invokeBehavior:function(e,t,n){var i=e[t];i&&i.apply(this,n||Polymer.nar)},_marshalBehaviors:function(){for(var e=0;e<this.behaviors.length;e++)this._marshalBehavior(this.behaviors[e]);this._marshalBehavior(this)}}),Polymer.Base._behaviorProperties={hostAttributes:!0,beforeRegister:!0,registered:!0,properties:!0,observers:!0,listeners:!0,created:!0,attached:!0,detached:!0,attributeChanged:!0,ready:!0},Polymer.Base._addFeature({_getExtendedPrototype:function(e){return this._getExtendedNativePrototype(e)},_nativePrototypes:{},_getExtendedNativePrototype:function(e){var t=this._nativePrototypes[e];if(!t){var n=this.getNativePrototype(e);t=this.extend(Object.create(n),Polymer.Base),this._nativePrototypes[e]=t}return t},getNativePrototype:function(e){return Object.getPrototypeOf(document.createElement(e))}}),Polymer.Base._addFeature({_prepConstructor:function(){this._factoryArgs=this.extends?[this.extends,this.is]:[this.is];function e(){return this._factory(arguments)}this.hasOwnProperty("extends")&&(e.extends=this.extends),Object.defineProperty(this,"constructor",{value:e,writable:!0,configurable:!0}),e.prototype=this},_factory:function(e){var t=document.createElement.apply(document,this._factoryArgs);return this.factoryImpl&&this.factoryImpl.apply(t,e),t}}),Polymer.nob=Object.create(null),Polymer.Base._addFeature({properties:{},getPropertyInfo:function(e){var t=this._getPropertyInfo(e,this.properties);if(!t)for(var n=0;n<this.behaviors.length;n++)if(t=this._getPropertyInfo(e,this.behaviors[n].properties))return t;return t||Polymer.nob},_getPropertyInfo:function(e,t){var n=t&&t[e];return"function"==typeof n&&(n=t[e]={type:n}),n&&(n.defined=!0),n},_prepPropertyInfo:function(){this._propertyInfo={};for(var e=0;e<this.behaviors.length;e++)this._addPropertyInfo(this._propertyInfo,this.behaviors[e].properties);this._addPropertyInfo(this._propertyInfo,this.properties),this._addPropertyInfo(this._propertyInfo,this._propertyEffects)},_addPropertyInfo:function(e,t){var n,i;if(t)for(var r in t)n=e[r],i=t[r],"_"===r[0]&&!i.readOnly||(e[r]?(n.type||(n.type=i.type),n.readOnly||(n.readOnly=i.readOnly)):e[r]={type:"function"==typeof i?i:i.type,readOnly:i.readOnly,attribute:Polymer.CaseMap.camelToDashCase(r)})}}),Polymer.CaseMap={_caseMap:{},_rx:{dashToCamel:/-[a-z]/g,camelToDash:/([A-Z])/g},dashToCamelCase:function(e){return this._caseMap[e]||(this._caseMap[e]=e.indexOf("-")<0?e:e.replace(this._rx.dashToCamel,function(e){return e[1].toUpperCase()}))},camelToDashCase:function(e){return this._caseMap[e]||(this._caseMap[e]=e.replace(this._rx.camelToDash,"-$1").toLowerCase())}},Polymer.Base._addFeature({_addHostAttributes:function(e){this._aggregatedAttributes||(this._aggregatedAttributes={}),e&&this.mixin(this._aggregatedAttributes,e)},_marshalHostAttributes:function(){this._aggregatedAttributes&&this._applyAttributes(this,this._aggregatedAttributes)},_applyAttributes:function(e,t){for(var n in t)if(!this.hasAttribute(n)&&"class"!==n){var i=t[n];this.serializeValueToAttribute(i,n,this)}},_marshalAttributes:function(){this._takeAttributesToModel(this)},_takeAttributesToModel:function(e){if(this.hasAttributes())for(var t in this._propertyInfo){var n=this._propertyInfo[t];this.hasAttribute(n.attribute)&&this._setAttributeToProperty(e,n.attribute,t,n)}},_setAttributeToProperty:function(e,t,n,i){if(!this._serializing&&(n=n||Polymer.CaseMap.dashToCamelCase(t),(i=i||this._propertyInfo&&this._propertyInfo[n])&&!i.readOnly)){var r=this.getAttribute(t);e[n]=this.deserialize(r,i.type)}},_serializing:!1,reflectPropertyToAttribute:function(e,t,n){this._serializing=!0,n=void 0===n?this[e]:n,this.serializeValueToAttribute(n,t||Polymer.CaseMap.camelToDashCase(e)),this._serializing=!1},serializeValueToAttribute:function(e,t,n){var i=this.serialize(e);n=n||this,void 0===i?n.removeAttribute(t):n.setAttribute(t,i)},deserialize:function(t,e){switch(e){case Number:t=Number(t);break;case Boolean:t=null!=t;break;case Object:try{t=JSON.parse(t)}catch(e){}break;case Array:try{t=JSON.parse(t)}catch(e){t=null,console.warn("Polymer::Attributes: couldn`t decode Array as JSON")}break;case Date:t=new Date(t);break;case String:}return t},serialize:function(e){switch(typeof e){case"boolean":return e?"":void 0;case"object":if(e instanceof Date)return e.toString();if(e)try{return JSON.stringify(e)}catch(e){return""}default:return null!=e?e:void 0}}}),Polymer.version="master",Polymer.Base._addFeature({_registerFeatures:function(){this._prepIs(),this._prepBehaviors(),this._prepConstructor(),this._prepPropertyInfo()},_prepBehavior:function(e){this._addHostAttributes(e.hostAttributes)},_marshalBehavior:function(e){},_initFeatures:function(){this._marshalHostAttributes(),this._marshalBehaviors()}}),Polymer.Base._addFeature({_prepTemplate:function(){void 0===this._template&&(this._template=Polymer.DomModule.import(this.is,"template")),this._template&&this._template.hasAttribute("is")&&this._warn(this._logf("_prepTemplate","top-level Polymer template must not be a type-extension, found",this._template,"Move inside simple <template>.")),this._template&&!this._template.content&&window.HTMLTemplateElement&&HTMLTemplateElement.decorate&&HTMLTemplateElement.decorate(this._template)},_stampTemplate:function(){this._template&&(this.root=this.instanceTemplate(this._template))},instanceTemplate:function(e){return document.importNode(e._content||e.content,!0)}}),ne=Polymer.Base.attachedCallback,Polymer.Base._addFeature({_hostStack:[],ready:function(){},_registerHost:function(e){this.dataHost=e=e||Polymer.Base._hostStack[Polymer.Base._hostStack.length-1],e&&e._clients&&e._clients.push(this),this._clients=null,this._clientsReadied=!1},_beginHosting:function(){Polymer.Base._hostStack.push(this),this._clients||(this._clients=[])},_endHosting:function(){Polymer.Base._hostStack.pop()},_tryReady:function(){this._readied=!1,this._canReady()&&this._ready()},_canReady:function(){return!this.dataHost||this.dataHost._clientsReadied},_ready:function(){this._beforeClientsReady(),this._template&&(this._setupRoot(),this._readyClients()),this._clientsReadied=!0,this._clients=null,this._afterClientsReady(),this._readySelf()},_readyClients:function(){this._beginDistribute();var e=this._clients;if(e)for(var t,n=0,i=e.length;n<i&&(t=e[n]);n++)t._ready();this._finishDistribute()},_readySelf:function(){this._doBehavior("ready"),this._readied=!0,this._attachedPending&&(this._attachedPending=!1,this.attachedCallback())},_beforeClientsReady:function(){},_afterClientsReady:function(){},_beforeAttached:function(){},attachedCallback:function(){this._readied?(this._beforeAttached(),ne.call(this)):this._attachedPending=!0}}),Polymer.ArraySplice=(ue.prototype={calcEditDistances:function(e,t,n,i,r,o){for(var s=o-r+1,a=n-t+1,l=new Array(s),h=0;h<s;h++)l[h]=new Array(a),l[h][0]=h;for(var c=0;c<a;c++)l[0][c]=c;for(h=1;h<s;h++)for(c=1;c<a;c++)if(this.equals(e[t+c-1],i[r+h-1]))l[h][c]=l[h-1][c-1];else{var u=l[h-1][c]+1,d=l[h][c-1]+1;l[h][c]=u<d?u:d}return l},spliceOperationsFromEditDistances:function(e){for(var t=e.length-1,n=e[0].length-1,i=e[t][n],r=[];0<t||0<n;)if(0!=t)if(0!=n){var o,s=e[t-1][n-1],a=e[t-1][n],l=e[t][n-1];(o=a<l?a<s?a:s:l<s?l:s)==s?(s==i?r.push(0):(r.push(1),i=s),t--,n--):i=o==a?(r.push(3),t--,a):(r.push(2),n--,l)}else r.push(3),t--;else r.push(2),n--;return r.reverse(),r},calcSplices:function(e,t,n,i,r,o){var s=0,a=0,l=Math.min(n-t,o-r);if(0==t&&0==r&&(s=this.sharedPrefix(e,i,l)),n==e.length&&o==i.length&&(a=this.sharedSuffix(e,i,l-s)),r+=s,o-=a,(n-=a)-(t+=s)==0&&o-r==0)return[];if(t==n){for(var h=ce(t,[],0);r<o;)h.removed.push(i[r++]);return[h]}if(r==o)return[ce(t,[],n-t)];var c=this.spliceOperationsFromEditDistances(this.calcEditDistances(e,t,n,i,r,o));h=void 0;for(var u=[],d=t,f=r,_=0;_<c.length;_++)switch(c[_]){case 0:h&&(u.push(h),h=void 0),d++,f++;break;case 1:(h=h||ce(d,[],0)).addedCount++,d++,h.removed.push(i[f]),f++;break;case 2:(h=h||ce(d,[],0)).addedCount++,d++;break;case 3:(h=h||ce(d,[],0)).removed.push(i[f]),f++}return h&&u.push(h),u},sharedPrefix:function(e,t,n){for(var i=0;i<n;i++)if(!this.equals(e[i],t[i]))return i;return n},sharedSuffix:function(e,t,n){for(var i=e.length,r=t.length,o=0;o<n&&this.equals(e[--i],t[--r]);)o++;return o},calculateSplices:function(e,t){return this.calcSplices(e,0,e.length,t,0,t.length)},equals:function(e,t){return e===t}},new ue),Polymer.domInnerHTML=(Z=/[&\u00A0"]/g,Q=/[&\u00A0<>]/g,ee=ae(["area","base","br","col","command","embed","hr","img","input","keygen","link","meta","param","source","track","wbr"]),te=ae(["style","script","xmp","iframe","noembed","noframes","plaintext","noscript"]),{getInnerHTML:he}),function(){"use strict";var i=Element.prototype.insertBefore,n=Element.prototype.appendChild,r=Element.prototype.removeChild;Polymer.TreeApi={arrayCopyChildNodes:function(e){for(var t=[],n=0,i=e.firstChild;i;i=i.nextSibling)t[n++]=i;return t},arrayCopyChildren:function(e){for(var t=[],n=0,i=e.firstElementChild;i;i=i.nextElementSibling)t[n++]=i;return t},arrayCopy:function(e){for(var t=e.length,n=new Array(t),i=0;i<t;i++)n[i]=e[i];return n}},Polymer.TreeApi.Logical={hasParentNode:function(e){return Boolean(e.__dom&&e.__dom.parentNode)},hasChildNodes:function(e){return Boolean(e.__dom&&void 0!==e.__dom.childNodes)},getChildNodes:function(e){return this.hasChildNodes(e)?this._getChildNodes(e):e.childNodes},_getChildNodes:function(e){if(!e.__dom.childNodes){e.__dom.childNodes=[];for(var t=e.__dom.firstChild;t;t=t.__dom.nextSibling)e.__dom.childNodes.push(t)}return e.__dom.childNodes},getParentNode:function(e){return e.__dom&&void 0!==e.__dom.parentNode?e.__dom.parentNode:e.parentNode},getFirstChild:function(e){return e.__dom&&void 0!==e.__dom.firstChild?e.__dom.firstChild:e.firstChild},getLastChild:function(e){return e.__dom&&void 0!==e.__dom.lastChild?e.__dom.lastChild:e.lastChild},getNextSibling:function(e){return e.__dom&&void 0!==e.__dom.nextSibling?e.__dom.nextSibling:e.nextSibling},getPreviousSibling:function(e){return e.__dom&&void 0!==e.__dom.previousSibling?e.__dom.previousSibling:e.previousSibling},getFirstElementChild:function(e){return e.__dom&&void 0!==e.__dom.firstChild?this._getFirstElementChild(e):e.firstElementChild},_getFirstElementChild:function(e){for(var t=e.__dom.firstChild;t&&t.nodeType!==Node.ELEMENT_NODE;)t=t.__dom.nextSibling;return t},getLastElementChild:function(e){return e.__dom&&void 0!==e.__dom.lastChild?this._getLastElementChild(e):e.lastElementChild},_getLastElementChild:function(e){for(var t=e.__dom.lastChild;t&&t.nodeType!==Node.ELEMENT_NODE;)t=t.__dom.previousSibling;return t},getNextElementSibling:function(e){return e.__dom&&void 0!==e.__dom.nextSibling?this._getNextElementSibling(e):e.nextElementSibling},_getNextElementSibling:function(e){for(var t=e.__dom.nextSibling;t&&t.nodeType!==Node.ELEMENT_NODE;)t=t.__dom.nextSibling;return t},getPreviousElementSibling:function(e){return e.__dom&&void 0!==e.__dom.previousSibling?this._getPreviousElementSibling(e):e.previousElementSibling},_getPreviousElementSibling:function(e){for(var t=e.__dom.previousSibling;t&&t.nodeType!==Node.ELEMENT_NODE;)t=t.__dom.previousSibling;return t},saveChildNodes:function(e){if(!this.hasChildNodes(e)){e.__dom=e.__dom||{},e.__dom.firstChild=e.firstChild,e.__dom.lastChild=e.lastChild,e.__dom.childNodes=[];for(var t=e.firstChild;t;t=t.nextSibling)t.__dom=t.__dom||{},(t.__dom.parentNode=e).__dom.childNodes.push(t),t.__dom.nextSibling=t.nextSibling,t.__dom.previousSibling=t.previousSibling}},recordInsertBefore:function(e,t,n){if(t.__dom.childNodes=null,e.nodeType===Node.DOCUMENT_FRAGMENT_NODE)for(var i=e.firstChild;i;i=i.nextSibling)this._linkNode(i,t,n);else this._linkNode(e,t,n)},_linkNode:function(e,t,n){e.__dom=e.__dom||{},t.__dom=t.__dom||{},n&&(n.__dom=n.__dom||{}),e.__dom.previousSibling=n?n.__dom.previousSibling:t.__dom.lastChild,e.__dom.previousSibling&&(e.__dom.previousSibling.__dom.nextSibling=e),e.__dom.nextSibling=n||null,e.__dom.nextSibling&&(e.__dom.nextSibling.__dom.previousSibling=e),e.__dom.parentNode=t,n?n===t.__dom.firstChild&&(t.__dom.firstChild=e):(t.__dom.lastChild=e,t.__dom.firstChild||(t.__dom.firstChild=e)),t.__dom.childNodes=null},recordRemoveChild:function(e,t){e.__dom=e.__dom||{},t.__dom=t.__dom||{},e===t.__dom.firstChild&&(t.__dom.firstChild=e.__dom.nextSibling),e===t.__dom.lastChild&&(t.__dom.lastChild=e.__dom.previousSibling);var n=e.__dom.previousSibling,i=e.__dom.nextSibling;n&&(n.__dom.nextSibling=i),i&&(i.__dom.previousSibling=n),e.__dom.parentNode=e.__dom.previousSibling=e.__dom.nextSibling=void 0,t.__dom.childNodes=null}},Polymer.TreeApi.Composed={getChildNodes:function(e){return Polymer.TreeApi.arrayCopyChildNodes(e)},getParentNode:function(e){return e.parentNode},clearChildNodes:function(e){e.textContent=""},insertBefore:function(e,t,n){return i.call(e,t,n||null)},appendChild:function(e,t){return n.call(e,t)},removeChild:function(e,t){return r.call(e,t)}}}(),Polymer.DomApi=function(){"use strict";var e=Polymer.Settings,o=Polymer.TreeApi,s=function(e){this.node=t?s.wrap(e):e},t=e.hasShadow&&!e.nativeShadow;s.wrap=window.wrap?window.wrap:function(e){return e},s.prototype={flush:function(){Polymer.dom.flush()},deepContains:function(e){if(this.node.contains(e))return!0;for(var t=e,n=e.ownerDocument;t&&t!==n&&t!==this.node;)t=Polymer.dom(t).parentNode||t.host;return t===this.node},queryDistributedElements:function(e){for(var t,n=this.getEffectiveChildNodes(),i=[],r=0,o=n.length;r<o&&(t=n[r]);r++)t.nodeType===Node.ELEMENT_NODE&&s.matchesSelector.call(t,e)&&i.push(t);return i},getEffectiveChildNodes:function(){for(var e,t=[],n=this.childNodes,i=0,r=n.length;i<r&&(e=n[i]);i++)if(e.localName===a)for(var o=l(e).getDistributedNodes(),s=0;s<o.length;s++)t.push(o[s]);else t.push(e);return t},observeNodes:function(e){if(e)return this.observer||(this.observer=this.node.localName===a?new s.DistributedNodesObserver(this):new s.EffectiveNodesObserver(this)),this.observer.addListener(e)},unobserveNodes:function(e){this.observer&&this.observer.removeListener(e)},notifyObserver:function(){this.observer&&this.observer.notify()},_query:function(e,t,n){t=t||this.node;var i=[];return this._queryElements(o.Logical.getChildNodes(t),e,n,i),i},_queryElements:function(e,t,n,i){for(var r,o=0,s=e.length;o<s&&(r=e[o]);o++)if(r.nodeType===Node.ELEMENT_NODE&&this._queryElement(r,t,n,i))return!0},_queryElement:function(e,t,n,i){var r=t(e);if(r&&i.push(e),n&&n(r))return r;this._queryElements(o.Logical.getChildNodes(e),t,n,i)}};var a=s.CONTENT="content",l=s.factory=function(e){return(e=e||document).__domApi||(e.__domApi=new s.ctor(e)),e.__domApi};s.hasApi=function(e){return Boolean(e.__domApi)},s.ctor=s,Polymer.dom=function(e,t){return e instanceof Event?Polymer.EventApi.factory(e):s.factory(e,t)};var n=Element.prototype;return s.matchesSelector=n.matches||n.matchesSelector||n.mozMatchesSelector||n.msMatchesSelector||n.oMatchesSelector||n.webkitMatchesSelector,s}(),function(){"use strict";var e=Polymer.Settings,r=Polymer.DomApi,c=r.factory,u=Polymer.TreeApi,t=Polymer.domInnerHTML.getInnerHTML,l=r.CONTENT;if(!e.useShadow){var s=Element.prototype.cloneNode,h=Document.prototype.importNode;Polymer.Base.extend(r.prototype,{_lazyDistribute:function(e){e.shadyRoot&&e.shadyRoot._distributionClean&&(e.shadyRoot._distributionClean=!1,Polymer.dom.addDebouncer(e.debounce("_distribute",e._distributeContent)))},appendChild:function(e){return this.insertBefore(e)},insertBefore:function(e,t){if(t&&u.Logical.getParentNode(t)!==this.node)throw Error("The ref_node to be inserted before is not a child of this node");if(e.nodeType!==Node.DOCUMENT_FRAGMENT_NODE){var n=u.Logical.getParentNode(e);n?(r.hasApi(n)&&c(n).notifyObserver(),this._removeNode(e)):this._removeOwnerShadyRoot(e)}if(!this._addNode(e,t)){t=t&&(t.localName===l?this._firstComposedNode(t):t);var i=this.node._isShadyRoot?this.node.host:this.node;t?u.Composed.insertBefore(i,e,t):u.Composed.appendChild(i,e)}return this.notifyObserver(),e},_addNode:function(e,t){var n=this.getOwnerRoot();if(n){var i=this._maybeAddInsertionPoint(e,this.node);n._invalidInsertionPoints||(n._invalidInsertionPoints=i),this._addNodeToHost(n.host,e)}u.Logical.hasChildNodes(this.node)&&u.Logical.recordInsertBefore(e,this.node,t);var r=this._maybeDistribute(e)||this.node.shadyRoot;if(r)if(e.nodeType===Node.DOCUMENT_FRAGMENT_NODE)for(;e.firstChild;)u.Composed.removeChild(e,e.firstChild);else{var o=u.Composed.getParentNode(e);o&&u.Composed.removeChild(o,e)}return r},removeChild:function(e){if(u.Logical.getParentNode(e)!==this.node)throw Error("The node to be removed is not a child of this node: "+e);if(!this._removeNode(e)){var t=this.node._isShadyRoot?this.node.host:this.node;t===u.Composed.getParentNode(e)&&u.Composed.removeChild(t,e)}return this.notifyObserver(),e},_removeNode:function(e){var t,n=u.Logical.hasParentNode(e)&&u.Logical.getParentNode(e),i=this._ownerShadyRootForNode(e);return n&&(t=c(e)._maybeDistributeParent(),u.Logical.recordRemoveChild(e,n),i&&this._removeDistributedChildren(i,e)&&(i._invalidInsertionPoints=!0,this._lazyDistribute(i.host))),this._removeOwnerShadyRoot(e),i&&this._removeNodeFromHost(i.host,e),t},replaceChild:function(e,t){return this.insertBefore(e,t),this.removeChild(t),e},_hasCachedOwnerRoot:function(e){return Boolean(void 0!==e._ownerShadyRoot)},getOwnerRoot:function(){return this._ownerShadyRootForNode(this.node)},_ownerShadyRootForNode:function(e){if(e){var t=e._ownerShadyRoot;if(void 0===t){if(e._isShadyRoot)t=e;else{var n=u.Logical.getParentNode(e);t=n?n._isShadyRoot?n:this._ownerShadyRootForNode(n):null}(t||document.documentElement.contains(e))&&(e._ownerShadyRoot=t)}return t}},_maybeDistribute:function(e){var t=e.nodeType===Node.DOCUMENT_FRAGMENT_NODE&&!e.__noContent&&c(e).querySelector(l),n=t&&u.Logical.getParentNode(t).nodeType!==Node.DOCUMENT_FRAGMENT_NODE,i=t||e.localName===l;if(i){var r=this.getOwnerRoot();r&&this._lazyDistribute(r.host)}var o=this._nodeNeedsDistribution(this.node);return o&&this._lazyDistribute(this.node),o||i&&!n},_maybeAddInsertionPoint:function(e,t){var n;if(e.nodeType!==Node.DOCUMENT_FRAGMENT_NODE||e.__noContent)e.localName===l&&(u.Logical.saveChildNodes(t),u.Logical.saveChildNodes(e),n=!0);else for(var i,r,o,s=c(e).querySelectorAll(l),a=0;a<s.length&&(i=s[a]);a++)(r=u.Logical.getParentNode(i))===e&&(r=t),o=this._maybeAddInsertionPoint(i,r),n=n||o;return n},_updateInsertionPoints:function(e){for(var t,n=e.shadyRoot._insertionPoints=c(e.shadyRoot).querySelectorAll(l),i=0;i<n.length;i++)t=n[i],u.Logical.saveChildNodes(t),u.Logical.saveChildNodes(u.Logical.getParentNode(t))},_nodeNeedsDistribution:function(e){return e&&e.shadyRoot&&r.hasInsertionPoint(e.shadyRoot)},_addNodeToHost:function(e,t){e._elementAdd&&e._elementAdd(t)},_removeNodeFromHost:function(e,t){e._elementRemove&&e._elementRemove(t)},_removeDistributedChildren:function(e,t){for(var n,i=e._insertionPoints,r=0;r<i.length;r++){var o=i[r];if(this._contains(t,o))for(var s=c(o).getDistributedNodes(),a=0;a<s.length;a++){n=!0;var l=s[a],h=u.Composed.getParentNode(l);h&&u.Composed.removeChild(h,l)}}return n},_contains:function(e,t){for(;t;){if(t==e)return!0;t=u.Logical.getParentNode(t)}},_removeOwnerShadyRoot:function(e){if(this._hasCachedOwnerRoot(e))for(var t,n=u.Logical.getChildNodes(e),i=0,r=n.length;i<r&&(t=n[i]);i++)this._removeOwnerShadyRoot(t);e._ownerShadyRoot=void 0},_firstComposedNode:function(e){for(var t,n,i=c(e).getDistributedNodes(),r=0,o=i.length;r<o&&(t=i[r]);r++)if((n=c(t).getDestinationInsertionPoints())[n.length-1]===e)return t},querySelector:function(t){return this._query(function(e){return r.matchesSelector.call(e,t)},this.node,function(e){return Boolean(e)})[0]||null},querySelectorAll:function(t){return this._query(function(e){return r.matchesSelector.call(e,t)},this.node)},getDestinationInsertionPoints:function(){return this.node._destinationInsertionPoints||[]},getDistributedNodes:function(){return this.node._distributedNodes||[]},_clear:function(){for(;this.childNodes.length;)this.removeChild(this.childNodes[0])},setAttribute:function(e,t){this.node.setAttribute(e,t),this._maybeDistributeParent()},removeAttribute:function(e){this.node.removeAttribute(e),this._maybeDistributeParent()},_maybeDistributeParent:function(){if(this._nodeNeedsDistribution(this.parentNode))return this._lazyDistribute(this.parentNode),!0},cloneNode:function(e){var t=s.call(this.node,!1);if(e)for(var n,i=this.childNodes,r=c(t),o=0;o<i.length;o++)n=c(i[o]).cloneNode(!0),r.appendChild(n);return t},importNode:function(e,t){var n=this.node instanceof Document?this.node:this.node.ownerDocument,i=h.call(n,e,!1);if(t)for(var r,o=u.Logical.getChildNodes(e),s=c(i),a=0;a<o.length;a++)r=c(n).importNode(o[a],!0),s.appendChild(r);return i},_getComposedInnerHTML:function(){return t(this.node,!0)}}),Object.defineProperties(r.prototype,{activeElement:{get:function(){var e=document.activeElement;if(!e)return null;var t=!!this.node._isShadyRoot;if(this.node!==document){if(!t)return null;if(this.node.host===e||!this.node.host.contains(e))return null}for(var n=c(e).getOwnerRoot();n&&n!==this.node;)e=n.host,n=c(e).getOwnerRoot();return this.node===document?n?null:e:n===this.node?e:null},configurable:!0},childNodes:{get:function(){var e=u.Logical.getChildNodes(this.node);return Array.isArray(e)?e:u.arrayCopyChildNodes(this.node)},configurable:!0},children:{get:function(){return u.Logical.hasChildNodes(this.node)?Array.prototype.filter.call(this.childNodes,function(e){return e.nodeType===Node.ELEMENT_NODE}):u.arrayCopyChildren(this.node)},configurable:!0},parentNode:{get:function(){return u.Logical.getParentNode(this.node)},configurable:!0},firstChild:{get:function(){return u.Logical.getFirstChild(this.node)},configurable:!0},lastChild:{get:function(){return u.Logical.getLastChild(this.node)},configurable:!0},nextSibling:{get:function(){return u.Logical.getNextSibling(this.node)},configurable:!0},previousSibling:{get:function(){return u.Logical.getPreviousSibling(this.node)},configurable:!0},firstElementChild:{get:function(){return u.Logical.getFirstElementChild(this.node)},configurable:!0},lastElementChild:{get:function(){return u.Logical.getLastElementChild(this.node)},configurable:!0},nextElementSibling:{get:function(){return u.Logical.getNextElementSibling(this.node)},configurable:!0},previousElementSibling:{get:function(){return u.Logical.getPreviousElementSibling(this.node)},configurable:!0},textContent:{get:function(){var e=this.node.nodeType;if(e===Node.TEXT_NODE||e===Node.COMMENT_NODE)return this.node.textContent;for(var t,n=[],i=0,r=this.childNodes;t=r[i];i++)t.nodeType!==Node.COMMENT_NODE&&n.push(t.textContent);return n.join("")},set:function(e){var t=this.node.nodeType;t===Node.TEXT_NODE||t===Node.COMMENT_NODE?this.node.textContent=e:(this._clear(),e&&this.appendChild(document.createTextNode(e)))},configurable:!0},innerHTML:{get:function(){var e=this.node.nodeType;return e===Node.TEXT_NODE||e===Node.COMMENT_NODE?null:t(this.node)},set:function(e){var t=this.node.nodeType;if(t!==Node.TEXT_NODE||t!==Node.COMMENT_NODE){this._clear();var n=document.createElement("div");n.innerHTML=e;for(var i=u.arrayCopyChildNodes(n),r=0;r<i.length;r++)this.appendChild(i[r])}},configurable:!0}}),r.hasInsertionPoint=function(e){return Boolean(e&&e._insertionPoints.length)}}}(),function(){"use strict";var e=Polymer.Settings,t=Polymer.TreeApi,n=Polymer.DomApi;if(e.useShadow){Polymer.Base.extend(n.prototype,{querySelectorAll:function(e){return t.arrayCopy(this.node.querySelectorAll(e))},getOwnerRoot:function(){for(var e=this.node;e;){if(e.nodeType===Node.DOCUMENT_FRAGMENT_NODE&&e.host)return e;e=e.parentNode}},importNode:function(e,t){return(this.node instanceof Document?this.node:this.node.ownerDocument).importNode(e,t)},getDestinationInsertionPoints:function(){var e=this.node.getDestinationInsertionPoints&&this.node.getDestinationInsertionPoints();return e?t.arrayCopy(e):[]},getDistributedNodes:function(){var e=this.node.getDistributedNodes&&this.node.getDistributedNodes();return e?t.arrayCopy(e):[]}}),Object.defineProperties(n.prototype,{activeElement:{get:function(){var e=n.wrap(this.node),t=e.activeElement;return e.contains(t)?t:null},configurable:!0},childNodes:{get:function(){return t.arrayCopyChildNodes(this.node)},configurable:!0},children:{get:function(){return t.arrayCopyChildren(this.node)},configurable:!0},textContent:{get:function(){return this.node.textContent},set:function(e){return this.node.textContent=e},configurable:!0},innerHTML:{get:function(){return this.node.innerHTML},set:function(e){return this.node.innerHTML=e},configurable:!0}});var i=function(e){n.prototype[e]=function(){return this.node[e].apply(this.node,arguments)}};!function(e){for(var t=0;t<e.length;t++)i(e[t])}(["cloneNode","appendChild","insertBefore","removeChild","replaceChild","setAttribute","removeAttribute","querySelector"]);var r=function(e){Object.defineProperty(n.prototype,e,{get:function(){return this.node[e]},configurable:!0})};!function(e){for(var t=0;t<e.length;t++)r(e[t])}(["parentNode","firstChild","lastChild","nextSibling","previousSibling","firstElementChild","lastElementChild","nextElementSibling","previousElementSibling"])}}(),Polymer.Base.extend(Polymer.dom,{_flushGuard:0,_FLUSH_MAX:100,_needsTakeRecords:!Polymer.Settings.useNativeCustomElements,_debouncers:[],_staticFlushList:[],_finishDebouncer:null,flush:function(){for(this._flushGuard=0,this._prepareFlush();this._debouncers.length&&this._flushGuard<this._FLUSH_MAX;){for(;this._debouncers.length;)this._debouncers.shift().complete();this._finishDebouncer&&this._finishDebouncer.complete(),this._prepareFlush(),this._flushGuard++}this._flushGuard>=this._FLUSH_MAX&&console.warn("Polymer.dom.flush aborted. Flush may not be complete.")},_prepareFlush:function(){this._needsTakeRecords&&CustomElements.takeRecords();for(var e=0;e<this._staticFlushList.length;e++)this._staticFlushList[e]()},addStaticFlush:function(e){this._staticFlushList.push(e)},removeStaticFlush:function(e){var t=this._staticFlushList.indexOf(e);0<=t&&this._staticFlushList.splice(t,1)},addDebouncer:function(e){this._debouncers.push(e),this._finishDebouncer=Polymer.Debounce(this._finishDebouncer,this._finishFlush)},_finishFlush:function(){Polymer.dom._debouncers=[]}}),Polymer.EventApi=function(){"use strict";var t=Polymer.DomApi.ctor,e=Polymer.Settings;t.Event=function(e){this.event=e},e.useShadow?t.Event.prototype={get rootTarget(){return this.event.path[0]},get localTarget(){return this.event.target},get path(){var e=this.event.path;return Array.isArray(e)||(e=Array.prototype.slice.call(e)),e}}:t.Event.prototype={get rootTarget(){return this.event.target},get localTarget(){for(var e=this.event.currentTarget,t=e&&Polymer.dom(e).getOwnerRoot(),n=this.path,i=0;i<n.length;i++)if(Polymer.dom(n[i]).getOwnerRoot()===t)return n[i]},get path(){if(!this.event._path){for(var e=[],t=this.rootTarget;t;){e.push(t);var n=Polymer.dom(t).getDestinationInsertionPoints();if(n.length){for(var i=0;i<n.length-1;i++)e.push(n[i]);t=n[n.length-1]}else t=Polymer.dom(t).parentNode||t.host}e.push(window),this.event._path=e}return this.event._path}};return{factory:function(e){return e.__eventApi||(e.__eventApi=new t.Event(e)),e.__eventApi}}}(),function(){"use strict";var e=Polymer.DomApi.ctor,t=Polymer.Settings.useShadow;Object.defineProperty(e.prototype,"classList",{get:function(){return this._classList||(this._classList=new e.ClassList(this)),this._classList},configurable:!0}),e.ClassList=function(e){this.domApi=e,this.node=e.node},e.ClassList.prototype={add:function(){this.node.classList.add.apply(this.node.classList,arguments),this._distributeParent()},remove:function(){this.node.classList.remove.apply(this.node.classList,arguments),this._distributeParent()},toggle:function(){this.node.classList.toggle.apply(this.node.classList,arguments),this._distributeParent()},_distributeParent:function(){t||this.domApi._maybeDistributeParent()},contains:function(){return this.node.classList.contains.apply(this.node.classList,arguments)}}}(),function(){"use strict";var e=Polymer.DomApi.ctor,t=Polymer.Settings;if(e.EffectiveNodesObserver=function(e){this.domApi=e,this.node=this.domApi.node,this._listeners=[]},e.EffectiveNodesObserver.prototype={addListener:function(e){this._isSetup||(this._setup(),this._isSetup=!0);var t={fn:e,_nodes:[]};return this._listeners.push(t),this._scheduleNotify(),t},removeListener:function(e){var t=this._listeners.indexOf(e);0<=t&&(this._listeners.splice(t,1),e._nodes=[]),this._hasListeners()||(this._cleanup(),this._isSetup=!1)},_setup:function(){this._observeContentElements(this.domApi.childNodes)},_cleanup:function(){this._unobserveContentElements(this.domApi.childNodes)},_hasListeners:function(){return Boolean(this._listeners.length)},_scheduleNotify:function(){this._debouncer&&this._debouncer.stop(),this._debouncer=Polymer.Debounce(this._debouncer,this._notify),this._debouncer.context=this,Polymer.dom.addDebouncer(this._debouncer)},notify:function(){this._hasListeners()&&this._scheduleNotify()},_notify:function(){this._beforeCallListeners(),this._callListeners()},_beforeCallListeners:function(){this._updateContentElements()},_updateContentElements:function(){this._observeContentElements(this.domApi.childNodes)},_observeContentElements:function(e){for(var t,n=0;n<e.length&&(t=e[n]);n++)this._isContent(t)&&(t.__observeNodesMap=t.__observeNodesMap||new WeakMap,t.__observeNodesMap.has(this)||t.__observeNodesMap.set(this,this._observeContent(t)))},_observeContent:function(e){var t=this,n=Polymer.dom(e).observeNodes(function(){t._scheduleNotify()});return n._avoidChangeCalculation=!0,n},_unobserveContentElements:function(e){for(var t,n,i=0;i<e.length&&(t=e[i]);i++)this._isContent(t)&&(n=t.__observeNodesMap.get(this))&&(Polymer.dom(t).unobserveNodes(n),t.__observeNodesMap.delete(this))},_isContent:function(e){return"content"===e.localName},_callListeners:function(){for(var e,t=this._listeners,n=this._getEffectiveNodes(),i=0;i<t.length&&(e=t[i]);i++){var r=this._generateListenerInfo(e,n);(r||e._alwaysNotify)&&this._callListener(e,r)}},_getEffectiveNodes:function(){return this.domApi.getEffectiveChildNodes()},_generateListenerInfo:function(e,t){if(e._avoidChangeCalculation)return!0;for(var n,i=e._nodes,r={target:this.node,addedNodes:[],removedNodes:[]},o=Polymer.ArraySplice.calculateSplices(t,i),s=0;s<o.length&&(n=o[s]);s++)for(var a,l=0;l<n.removed.length&&(a=n.removed[l]);l++)r.removedNodes.push(a);for(s=0;s<o.length&&(n=o[s]);s++)for(l=n.index;l<n.index+n.addedCount;l++)r.addedNodes.push(t[l]);return e._nodes=t,r.addedNodes.length||r.removedNodes.length?r:void 0},_callListener:function(e,t){return e.fn.call(this.node,t)},enableShadowAttributeTracking:function(){}},t.useShadow){var n=e.EffectiveNodesObserver.prototype._setup,i=e.EffectiveNodesObserver.prototype._cleanup;Polymer.Base.extend(e.EffectiveNodesObserver.prototype,{_setup:function(){if(!this._observer){var t=this;this._mutationHandler=function(e){e&&e.length&&t._scheduleNotify()},this._observer=new MutationObserver(this._mutationHandler),this._boundFlush=function(){t._flush()},Polymer.dom.addStaticFlush(this._boundFlush),this._observer.observe(this.node,{childList:!0})}n.call(this)},_cleanup:function(){this._observer.disconnect(),this._observer=null,this._mutationHandler=null,Polymer.dom.removeStaticFlush(this._boundFlush),i.call(this)},_flush:function(){this._observer&&this._mutationHandler(this._observer.takeRecords())},enableShadowAttributeTracking:function(){if(this._observer){this._makeContentListenersAlwaysNotify(),this._observer.disconnect(),this._observer.observe(this.node,{childList:!0,attributes:!0,subtree:!0});var e=this.domApi.getOwnerRoot(),t=e&&e.host;t&&Polymer.dom(t).observer&&Polymer.dom(t).observer.enableShadowAttributeTracking()}},_makeContentListenersAlwaysNotify:function(){for(var e,t=0;t<this._listeners.length;t++)(e=this._listeners[t])._alwaysNotify=e._isContentListener}})}}(),function(){"use strict";var t=Polymer.DomApi.ctor,e=Polymer.Settings;t.DistributedNodesObserver=function(e){t.EffectiveNodesObserver.call(this,e)},t.DistributedNodesObserver.prototype=Object.create(t.EffectiveNodesObserver.prototype),Polymer.Base.extend(t.DistributedNodesObserver.prototype,{_setup:function(){},_cleanup:function(){},_beforeCallListeners:function(){},_getEffectiveNodes:function(){return this.domApi.getDistributedNodes()}}),e.useShadow&&Polymer.Base.extend(t.DistributedNodesObserver.prototype,{_setup:function(){if(!this._observer){var e=this.domApi.getOwnerRoot(),t=e&&e.host;if(t){var n=this;this._observer=Polymer.dom(t).observeNodes(function(){n._scheduleNotify()}),this._observer._isContentListener=!0,this._hasAttrSelect()&&Polymer.dom(t).observer.enableShadowAttributeTracking()}}},_hasAttrSelect:function(){var e=this.node.getAttribute("select");return e&&e.match(/[[.]+/)},_cleanup:function(){var e=this.domApi.getOwnerRoot(),t=e&&e.host;t&&Polymer.dom(t).unobserveNodes(this._observer),this._observer=null}})}(),function(){var i=Polymer.DomApi,c=Polymer.TreeApi;function l(e,t){t._distributedNodes.push(e);var n=e._destinationInsertionPoints;n?n.push(t):e._destinationInsertionPoints=[t]}function o(e){var t=e._distributedNodes;if(t)for(var n=0;n<t.length;n++){var i=t[n]._destinationInsertionPoints;i&&i.splice(i.indexOf(e)+1,i.length)}}function s(e,t){var n=c.Logical.getParentNode(e);n&&n.shadyRoot&&i.hasInsertionPoint(n.shadyRoot)&&n.shadyRoot._distributionClean&&(n.shadyRoot._distributionClean=!1,t.shadyRoot._dirtyRoots.push(n))}function u(e){return"content"==e.localName}function n(e){for(var t,n=c.Logical.getChildNodes(e),i=0;i<n.length;i++)if((t=n[i]).localName&&"content"===t.localName)return e.domHost}Polymer.Base._addFeature({_prepShady:function(){this._useContent=this._useContent||Boolean(this._template)},_setupShady:function(){this.shadyRoot=null,this.__domApi||(this.__domApi=null),this.__dom||(this.__dom=null),this._ownerShadyRoot||(this._ownerShadyRoot=void 0)},_poolContent:function(){this._useContent&&c.Logical.saveChildNodes(this)},_setupRoot:function(){this._useContent&&(this._createLocalRoot(),this.dataHost||function(e){if(r&&e)for(var t=0;t<e.length;t++)CustomElements.upgrade(e[t])}(c.Logical.getChildNodes(this)))},_createLocalRoot:function(){this.shadyRoot=this.root,this.shadyRoot._distributionClean=!1,this.shadyRoot._hasDistributed=!1,this.shadyRoot._isShadyRoot=!0,this.shadyRoot._dirtyRoots=[];var e=this.shadyRoot._insertionPoints=!this._notes||this._notes._hasContent?this.shadyRoot.querySelectorAll("content"):[];c.Logical.saveChildNodes(this.shadyRoot);for(var t,n=0;n<e.length;n++)t=e[n],c.Logical.saveChildNodes(t),c.Logical.saveChildNodes(t.parentNode);this.shadyRoot.host=this},get domHost(){var e=Polymer.dom(this).getOwnerRoot();return e&&e.host},distributeContent:function(e){if(this.shadyRoot){this.shadyRoot._invalidInsertionPoints=this.shadyRoot._invalidInsertionPoints||e;var t=function(e){for(;e&&n(e);)e=e.domHost;return e}(this);Polymer.dom(this)._lazyDistribute(t)}},_distributeContent:function(){this._useContent&&!this.shadyRoot._distributionClean&&(this.shadyRoot._invalidInsertionPoints&&(Polymer.dom(this)._updateInsertionPoints(this),this.shadyRoot._invalidInsertionPoints=!1),this._beginDistribute(),this._distributeDirtyRoots(),this._finishDistribute())},_beginDistribute:function(){this._useContent&&i.hasInsertionPoint(this.shadyRoot)&&(this._resetDistribution(),this._distributePool(this.shadyRoot,this._collectPool()))},_distributeDirtyRoots:function(){for(var e,t=this.shadyRoot._dirtyRoots,n=0,i=t.length;n<i&&(e=t[n]);n++)e._distributeContent();this.shadyRoot._dirtyRoots=[]},_finishDistribute:function(){if(this._useContent){if(this.shadyRoot._distributionClean=!0,i.hasInsertionPoint(this.shadyRoot))this._composeTree(),function(e){for(var t,n=0;n<e._insertionPoints.length;n++)t=e._insertionPoints[n],i.hasApi(t)&&Polymer.dom(t).notifyObserver()}(this.shadyRoot);else if(this.shadyRoot._hasDistributed){var e=this._composeNode(this);this._updateChildNodes(this,e)}else c.Composed.clearChildNodes(this),this.appendChild(this.shadyRoot);this.shadyRoot._hasDistributed||(t=this,i.hasApi(t)&&Polymer.dom(t).notifyObserver()),this.shadyRoot._hasDistributed=!0}var t},elementMatches:function(e,t){return t=t||this,i.matchesSelector.call(t,e)},_resetDistribution:function(){for(var e=c.Logical.getChildNodes(this),t=0;t<e.length;t++){var n=e[t];n._destinationInsertionPoints&&(n._destinationInsertionPoints=void 0),u(n)&&o(n)}for(var i=this.shadyRoot._insertionPoints,r=0;r<i.length;r++)i[r]._distributedNodes=[]},_collectPool:function(){for(var e=[],t=c.Logical.getChildNodes(this),n=0;n<t.length;n++){var i=t[n];u(i)?e.push.apply(e,i._distributedNodes):e.push(i)}return e},_distributePool:function(e,t){for(var n,i=e._insertionPoints,r=0,o=i.length;r<o&&(n=i[r]);r++)this._distributeInsertionPoint(n,t),s(n,this)},_distributeInsertionPoint:function(e,t){for(var n,i=!1,r=0,o=t.length;r<o;r++)(n=t[r])&&this._matchesContentSelect(n,e)&&(l(n,e),i=!(t[r]=void 0));if(!i)for(var s=c.Logical.getChildNodes(e),a=0;a<s.length;a++)l(s[a],e)},_composeTree:function(){this._updateChildNodes(this,this._composeNode(this));for(var e,t,n=this.shadyRoot._insertionPoints,i=0,r=n.length;i<r&&(e=n[i]);i++)(t=c.Logical.getParentNode(e))._useContent||t===this||t===this.shadyRoot||this._updateChildNodes(t,this._composeNode(t))},_composeNode:function(e){for(var t,n,i=[],r=c.Logical.getChildNodes(e.shadyRoot||e),o=0;o<r.length;o++){var s=r[o];if(u(s))for(var a=s._distributedNodes,l=0;l<a.length;l++){var h=a[l];t=s,(n=h._destinationInsertionPoints)&&n[n.length-1]===t&&i.push(h)}else i.push(s)}return i},_updateChildNodes:function(e,t){for(var n=c.Composed.getChildNodes(e),i=Polymer.ArraySplice.calculateSplices(t,n),r=0,o=0;r<i.length&&(l=i[r]);r++){for(var s,a=0;a<l.removed.length&&(s=l.removed[a]);a++)c.Composed.getParentNode(s)===e&&c.Composed.removeChild(e,s),n.splice(l.index+o,1);o-=l.addedCount}var l,h;for(r=0;r<i.length&&(l=i[r]);r++)for(h=n[l.index],a=l.index;a<l.index+l.addedCount;a++)s=t[a],c.Composed.insertBefore(e,s,h),n.splice(a,0,s)},_matchesContentSelect:function(e,t){var n=t.getAttribute("select");if(!n)return!0;if(!(n=n.trim()))return!0;if(!(e instanceof Element))return!1;return!!/^(:not\()?[*.#[a-zA-Z_|]/.test(n)&&this.elementMatches(n,e)},_elementAdd:function(){},_elementRemove:function(){}});var r=window.CustomElements&&!CustomElements.useNative}(),Polymer.Settings.useShadow&&Polymer.Base._addFeature({_poolContent:function(){},_beginDistribute:function(){},distributeContent:function(){},_distributeContent:function(){},_finishDistribute:function(){},_createLocalRoot:function(){this.createShadowRoot(),this.shadowRoot.appendChild(this.root),this.root=this.shadowRoot}}),Polymer.Async={_currVal:0,_lastVal:0,_callbacks:[],_twiddleContent:0,_twiddle:document.createTextNode(""),run:function(e,t){return 0<t?~setTimeout(e,t):(this._twiddle.textContent=this._twiddleContent++,this._callbacks.push(e),this._currVal++)},cancel:function(e){if(e<0)clearTimeout(~e);else{var t=e-this._lastVal;if(0<=t){if(!this._callbacks[t])throw"invalid async handle: "+e;this._callbacks[t]=null}}},_atEndOfMicrotask:function(){for(var e=this._callbacks.length,t=0;t<e;t++){var n=this._callbacks[t];if(n)try{n()}catch(e){throw t++,this._callbacks.splice(0,t),this._lastVal+=t,this._twiddle.textContent=this._twiddleContent++,e}}this._callbacks.splice(0,e),this._lastVal+=e}},new window.MutationObserver(function(){Polymer.Async._atEndOfMicrotask()}).observe(Polymer.Async._twiddle,{characterData:!0}),Polymer.Debounce=(W=Polymer.Async,oe.prototype={go:function(e,t){var n;this.finish=function(){W.cancel(n)},n=W.run(this.boundComplete,t),this.callback=e},stop:function(){this.finish&&(this.finish(),this.finish=null,this.callback=null)},complete:function(){if(this.finish){var e=this.callback;this.stop(),e.call(this.context)}}},function(e,t,n){return e?e.stop():e=new oe(this),e.go(t,n),e}),Polymer.Base._addFeature({_setupDebouncers:function(){this._debouncers={}},debounce:function(e,t,n){return this._debouncers[e]=Polymer.Debounce.call(this,this._debouncers[e],t,n)},isDebouncerActive:function(e){var t=this._debouncers[e];return!(!t||!t.finish)},flushDebouncer:function(e){var t=this._debouncers[e];t&&t.complete()},cancelDebouncer:function(e){var t=this._debouncers[e];t&&t.stop()}}),Polymer.DomModule=document.createElement("dom-module"),Polymer.Base._addFeature({_registerFeatures:function(){this._prepIs(),this._prepBehaviors(),this._prepConstructor(),this._prepTemplate(),this._prepShady(),this._prepPropertyInfo()},_prepBehavior:function(e){this._addHostAttributes(e.hostAttributes)},_initFeatures:function(){this._registerHost(),this._template&&(this._poolContent(),this._beginHosting(),this._stampTemplate(),this._endHosting()),this._marshalHostAttributes(),this._setupDebouncers(),this._marshalBehaviors(),this._tryReady()},_marshalBehavior:function(e){}}),Polymer.nar=[],Polymer.Annotations={parseAnnotations:function(e){var t=[],n=e._content||e.content;return this._parseNodeAnnotations(n,t,e.hasAttribute("strip-whitespace")),t},_parseNodeAnnotations:function(e,t,n){return e.nodeType===Node.TEXT_NODE?this._parseTextNodeAnnotation(e,t):this._parseElementAnnotations(e,t,n)},_bindingRegex:new RegExp("(\\[\\[|{{)\\s*(?:(!)\\s*)?((?:[a-zA-Z_$][\\w.:$\\-*]*)\\s*(?:\\(\\s*(?:(?:(?:(?:[a-zA-Z_$][\\w.:$\\-*]*)|(?:[-+]?[0-9]*\\.?[0-9]+(?:[eE][-+]?[0-9]+)?)|(?:(?:'(?:[^'\\\\]|\\\\.)*')|(?:\"(?:[^\"\\\\]|\\\\.)*\"))\\s*)(?:,\\s*(?:(?:[a-zA-Z_$][\\w.:$\\-*]*)|(?:[-+]?[0-9]*\\.?[0-9]+(?:[eE][-+]?[0-9]+)?)|(?:(?:'(?:[^'\\\\]|\\\\.)*')|(?:\"(?:[^\"\\\\]|\\\\.)*\"))\\s*))*)?)\\)\\s*)?)(?:]]|}})","g"),_parseBindings:function(e){for(var t,n=this._bindingRegex,i=[],r=0;null!==(t=n.exec(e));){t.index>r&&i.push({literal:e.slice(r,t.index)});var o,s,a,l=t[1][0],h=Boolean(t[2]),c=t[3].trim();"{"==l&&0<(a=c.indexOf("::"))&&(s=c.substring(a+2),c=c.substring(0,a),o=!0),i.push({compoundIndex:i.length,value:c,mode:l,negate:h,event:s,customEvent:o}),r=n.lastIndex}if(r&&r<e.length){var u=e.substring(r);u&&i.push({literal:u})}if(i.length)return i},_literalFromParts:function(e){for(var t="",n=0;n<e.length;n++){t+=e[n].literal||""}return t},_parseTextNodeAnnotation:function(e,t){var n=this._parseBindings(e.textContent);if(n){e.textContent=this._literalFromParts(n)||" ";var i={bindings:[{kind:"text",name:"textContent",parts:n,isCompound:1!==n.length}]};return t.push(i),i}},_parseElementAnnotations:function(e,t,n){var i={bindings:[],events:[]};return"content"===e.localName&&(t._hasContent=!0),this._parseChildNodesAnnotations(e,i,t,n),e.attributes&&(this._parseNodeAttributeAnnotations(e,i,t),this.prepElement&&this.prepElement(e)),(i.bindings.length||i.events.length||i.id)&&t.push(i),i},_parseChildNodesAnnotations:function(e,t,n,i){if(e.firstChild)for(var r=e.firstChild,o=0;r;){var s=r.nextSibling;if("template"!==r.localName||r.hasAttribute("preserve-content")||this._parseTemplate(r,o,n,t),r.nodeType===Node.TEXT_NODE){for(var a=s;a&&a.nodeType===Node.TEXT_NODE;)r.textContent+=a.textContent,s=a.nextSibling,e.removeChild(a),a=s;i&&!r.textContent.trim()&&(e.removeChild(r),o--)}if(r.parentNode){var l=this._parseNodeAnnotations(r,n,i);l&&(l.parent=t,l.index=o)}r=s,o++}},_parseTemplate:function(e,t,n,i){var r=document.createDocumentFragment();r._notes=this.parseAnnotations(e),r.appendChild(e.content),n.push({bindings:Polymer.nar,events:Polymer.nar,templateContent:r,parent:i,index:t})},_parseNodeAttributeAnnotations:function(e,t){for(var n,i=Array.prototype.slice.call(e.attributes),r=i.length-1;n=i[r];r--){var o,s=n.name,a=n.value;"on-"===s.slice(0,3)?(e.removeAttribute(s),t.events.push({name:s.slice(3),value:a})):(o=this._parseNodeAttributeAnnotation(e,s,a))?t.bindings.push(o):"id"===s&&(t.id=a)}},_parseNodeAttributeAnnotation:function(e,t,n){var i=this._parseBindings(n);if(i){var r=t,o="property";"$"==t[t.length-1]&&(t=t.slice(0,-1),o="attribute");var s=this._literalFromParts(i);s&&"attribute"==o&&e.setAttribute(t,s),"input"===e.localName&&"value"===r&&e.setAttribute(r,""),e.removeAttribute(r);var a=Polymer.CaseMap.dashToCamelCase(t);return"property"===o&&(t=a),{kind:o,name:t,propertyName:a,parts:i,literal:s,isCompound:1!==i.length}}},findAnnotatedNode:function(e,t){var n=t.parent&&Polymer.Annotations.findAnnotatedNode(e,t.parent);if(!n)return e;for(var i=n.firstChild,r=0;i;i=i.nextSibling)if(t.index===r++)return i}},G=/(url\()([^)]*)(\))/g,$={"*":["href","src","style","url"],form:["action"]},Y=/(^\/)|(^#)|(^[\w-\d]*:)/,J=/\{\{|\[\[/,Polymer.ResolveUrl={resolveCss:ie,resolveAttrs:function(e,t){for(var n in $)for(var i,r,o,s=$[n],a=0,l=s.length;a<l&&(i=s[a]);a++)"*"!==n&&e.localName!==n||(o=(r=e.attributes[i])&&r.value)&&o.search(J)<0&&(r.value=("style"===i?ie:re)(o,t))},resolveUrl:function(e,t){return K||(K=document.implementation.createHTMLDocument("temp"),X=K.createElement("base"),K.head.appendChild(X)),X.href=t,re(e,K)}},Polymer.Path={root:function(e){var t=e.indexOf(".");return-1===t?e:e.slice(0,t)},isDeep:function(e){return-1!==e.indexOf(".")},isAncestor:function(e,t){return 0===e.indexOf(t+".")},isDescendant:function(e,t){return 0===t.indexOf(e+".")},translate:function(e,t,n){return t+n.slice(e.length)},matches:function(e,t,n){return e===n||this.isAncestor(e,n)||Boolean(t)&&this.isDescendant(e,n)}},Polymer.Base._addFeature({_prepAnnotations:function(){if(this._template){var t=this;Polymer.Annotations.prepElement=function(e){t._prepElement(e)},this._template._content&&this._template._content._notes?this._notes=this._template._content._notes:(this._notes=Polymer.Annotations.parseAnnotations(this._template),this._processAnnotations(this._notes)),Polymer.Annotations.prepElement=null}else this._notes=[]},_processAnnotations:function(e){for(var t=0;t<e.length;t++){for(var n=e[t],i=0;i<n.bindings.length;i++)for(var r=n.bindings[i],o=0;o<r.parts.length;o++){var s=r.parts[o];if(!s.literal){var a=this._parseMethod(s.value);a?s.signature=a:s.model=Polymer.Path.root(s.value)}}if(n.templateContent){this._processAnnotations(n.templateContent._notes);var l=n.templateContent._parentProps=this._discoverTemplateParentProps(n.templateContent._notes),h=[];for(var c in l){var u="_parent_"+c;h.push({index:n.index,kind:"property",name:u,propertyName:u,parts:[{mode:"{",model:c,value:c}]})}n.bindings=n.bindings.concat(h)}}},_discoverTemplateParentProps:function(e){for(var t,n={},i=0;i<e.length&&(t=e[i]);i++){for(var r,o=0,s=t.bindings;o<s.length&&(r=s[o]);o++)for(var a,l=0,h=r.parts;l<h.length&&(a=h[l]);l++)if(a.signature){for(var c=a.signature.args,u=0;u<c.length;u++){var d=c[u].model;d&&(n[d]=!0)}a.signature.dynamicFn&&(n[a.signature.method]=!0)}else a.model&&(n[a.model]=!0);if(t.templateContent){var f=t.templateContent._parentProps;Polymer.Base.mixin(n,f)}}return n},_prepElement:function(e){Polymer.ResolveUrl.resolveAttrs(e,this._template.ownerDocument)},_findAnnotatedNode:Polymer.Annotations.findAnnotatedNode,_marshalAnnotationReferences:function(){this._template&&(this._marshalIdNodes(),this._marshalAnnotatedNodes(),this._marshalAnnotatedListeners())},_configureAnnotationReferences:function(){for(var e=this._notes,t=this._nodes,n=0;n<e.length;n++){var i=e[n],r=t[n];this._configureTemplateContent(i,r),this._configureCompoundBindings(i,r)}},_configureTemplateContent:function(e,t){e.templateContent&&(t._content=e.templateContent)},_configureCompoundBindings:function(e,t){for(var n=e.bindings,i=0;i<n.length;i++){var r=n[i];if(r.isCompound){for(var o=t.__compoundStorage__||(t.__compoundStorage__={}),s=r.parts,a=new Array(s.length),l=0;l<s.length;l++)a[l]=s[l].literal;var h=r.name;o[h]=a,r.literal&&"property"==r.kind&&(t._configValue?t._configValue(h,r.literal):t[h]=r.literal)}}},_marshalIdNodes:function(){this.$={};for(var e,t=0,n=this._notes.length;t<n&&(e=this._notes[t]);t++)e.id&&(this.$[e.id]=this._findAnnotatedNode(this.root,e))},_marshalAnnotatedNodes:function(){if(this._notes&&this._notes.length){for(var e=new Array(this._notes.length),t=0;t<this._notes.length;t++)e[t]=this._findAnnotatedNode(this.root,this._notes[t]);this._nodes=e}},_marshalAnnotatedListeners:function(){for(var e,t=0,n=this._notes.length;t<n&&(e=this._notes[t]);t++)if(e.events&&e.events.length)for(var i,r=this._findAnnotatedNode(this.root,e),o=0,s=e.events;o<s.length&&(i=s[o]);o++)this.listen(r,i.name,i.value)}}),Polymer.Base._addFeature({listeners:{},_listenListeners:function(e){var t,n,i;for(i in e)n=i.indexOf(".")<0?(t=this,i):(n=i.split("."),t=this.$[n[0]],n[1]),this.listen(t,n,e[i])},listen:function(e,t,n){var i=this._recallEventHandler(this,t,e,n);(i=i||this._createEventHandler(e,t,n))._listening||(this._listen(e,t,i),i._listening=!0)},_boundListenerKey:function(e,t){return e+":"+t},_recordEventHandler:function(e,t,n,i,r){var o=e.__boundListeners,s=(o=o||(e.__boundListeners=new WeakMap)).get(n);s||(s={},o.set(n,s)),s[this._boundListenerKey(t,i)]=r},_recallEventHandler:function(e,t,n,i){var r=e.__boundListeners;if(r){var o=r.get(n);if(o)return o[this._boundListenerKey(t,i)]}},_createEventHandler:function(e,t,n){function i(e){r[n]?r[n](e,e.detail):r._warn(r._logf("_createEventHandler","listener method `"+n+"` not defined"))}var r=this;return i._listening=!1,this._recordEventHandler(r,t,e,n,i),i},unlisten:function(e,t,n){var i=this._recallEventHandler(this,t,e,n);i&&(this._unlisten(e,t,i),i._listening=!1)},_listen:function(e,t,n){e.addEventListener(t,n)},_unlisten:function(e,t,n){e.removeEventListener(t,n)}}),function(){"use strict";var c=Polymer.DomApi.wrap,h="string"==typeof document.head.style.touchAction,u="__polymerGestures",d="__polymerGesturesHandled",a="__polymerGesturesTouchAction",f=["mousedown","mousemove","mouseup","click"],i=[0,1,4,2],r=function(){try{return 1===new MouseEvent("test",{buttons:1}).buttons}catch(e){return!1}}(),_=navigator.userAgent.match(/iP(?:[oa]d|hone)|Android/),o=function(e){var t=e.sourceCapabilities;if((!t||t.firesTouchEvents)&&(e[d]={skip:!0},"click"===e.type)){for(var n=Polymer.dom(e).path,i=0;i<n.length;i++)if(n[i]===m.mouse.target)return;e.preventDefault(),e.stopPropagation()}};function p(e){for(var t,n=0;n<f.length;n++)t=f[n],e?document.addEventListener(t,o,!0):document.removeEventListener(t,o,!0)}function s(e){var t=e.type;if(-1!==f.indexOf(t)){if("mousemove"!==t)return 0===(void 0===e.button?0:e.button);var n=void 0===e.buttons?1:e.buttons;return e instanceof window.MouseEvent&&!r&&(n=i[e.which]||0),Boolean(1&n)}}var m={mouse:{target:null,mouseIgnoreJob:null},touch:{x:0,y:0,id:-1,scrollDecided:!1}};function l(e,t,n){e.movefn=t,e.upfn=n,document.addEventListener("mousemove",t),document.addEventListener("mouseup",n)}function y(e){document.removeEventListener("mousemove",e.movefn),document.removeEventListener("mouseup",e.upfn),e.movefn=null,e.upfn=null}var v={gestures:{},recognizers:[],deepTargetFind:function(e,t){for(var n=document.elementFromPoint(e,t),i=n;i&&i.shadowRoot;)(i=i.shadowRoot.elementFromPoint(e,t))&&(n=i);return n},findOriginalTarget:function(e){return e.path?e.path[0]:e.target},handleNative:function(e){var t,n=e.type,i=c(e.currentTarget)[u];if(i){var r=i[n];if(r){if(!e[d]&&(e[d]={},"touch"===n.slice(0,5))){var o=e.changedTouches[0];if("touchstart"===n&&1===e.touches.length&&(m.touch.id=o.identifier),m.touch.id!==o.identifier)return;h||"touchstart"!==n&&"touchmove"!==n||v.handleTouchAction(e),"touchend"===n&&(m.mouse.target=Polymer.dom(e).rootTarget,function(){if(!_){m.mouse.mouseIgnoreJob||p(!0);m.mouse.mouseIgnoreJob=Polymer.Debounce(m.mouse.mouseIgnoreJob,function(){p(),m.mouse.target=null,m.mouse.mouseIgnoreJob=null},2500)}}())}if(!(t=e[d]).skip){for(var s,a=v.recognizers,l=0;l<a.length;l++)r[(s=a[l]).name]&&!t[s.name]&&s.flow&&-1<s.flow.start.indexOf(e.type)&&s.reset&&s.reset();for(l=0;l<a.length;l++)r[(s=a[l]).name]&&!t[s.name]&&(t[s.name]=!0,s[n](e))}}}},handleTouchAction:function(e){var t=e.changedTouches[0],n=e.type;if("touchstart"===n)m.touch.x=t.clientX,m.touch.y=t.clientY,m.touch.scrollDecided=!1;else if("touchmove"===n){if(m.touch.scrollDecided)return;m.touch.scrollDecided=!0;var i=function(e){for(var t,n=Polymer.dom(e).path,i="auto",r=0;r<n.length;r++)if((t=n[r])[a]){i=t[a];break}return i}(e),r=!1,o=Math.abs(m.touch.x-t.clientX),s=Math.abs(m.touch.y-t.clientY);e.cancelable&&("none"===i?r=!0:"pan-x"===i?r=o<s:"pan-y"===i&&(r=s<o)),r?e.preventDefault():v.prevent("track")}},add:function(e,t,n){e=c(e);var i=this.gestures[t],r=i.deps,o=i.name,s=e[u];s||(e[u]=s={});for(var a,l,h=0;h<r.length;h++)a=r[h],_&&-1<f.indexOf(a)||((l=s[a])||(s[a]=l={_count:0}),0===l._count&&e.addEventListener(a,this.handleNative),l[o]=(l[o]||0)+1,l._count=(l._count||0)+1);e.addEventListener(t,n),i.touchAction&&this.setTouchAction(e,i.touchAction)},remove:function(e,t,n){e=c(e);var i=this.gestures[t],r=i.deps,o=i.name,s=e[u];if(s)for(var a,l,h=0;h<r.length;h++)(l=s[a=r[h]])&&l[o]&&(l[o]=(l[o]||1)-1,l._count=(l._count||1)-1,0===l._count&&e.removeEventListener(a,this.handleNative));e.removeEventListener(t,n)},register:function(e){this.recognizers.push(e);for(var t=0;t<e.emits.length;t++)this.gestures[e.emits[t]]=e},findRecognizerByEvent:function(e){for(var t,n=0;n<this.recognizers.length;n++){t=this.recognizers[n];for(var i=0;i<t.emits.length;i++)if(t.emits[i]===e)return t}return null},setTouchAction:function(e,t){h&&(e.style.touchAction=t),e[a]=t},fire:function(e,t,n){if(Polymer.Base.fire(t,n,{node:e,bubbles:!0,cancelable:!0}).defaultPrevented){var i=n.preventer||n.sourceEvent;i&&i.preventDefault&&i.preventDefault()}},prevent:function(e){var t=this.findRecognizerByEvent(e);t.info&&(t.info.prevent=!0)},resetMouseCanceller:function(){m.mouse.mouseIgnoreJob&&m.mouse.mouseIgnoreJob.complete()}};v.register({name:"downup",deps:["mousedown","touchstart","touchend"],flow:{start:["mousedown","touchstart"],end:["mouseup","touchend"]},emits:["down","up"],info:{movefn:null,upfn:null},reset:function(){y(this.info)},mousedown:function(e){if(s(e)){var t=v.findOriginalTarget(e),n=this;l(this.info,function(e){s(e)||(n.fire("up",t,e),y(n.info))},function(e){s(e)&&n.fire("up",t,e),y(n.info)}),this.fire("down",t,e)}},touchstart:function(e){this.fire("down",v.findOriginalTarget(e),e.changedTouches[0],e)},touchend:function(e){this.fire("up",v.findOriginalTarget(e),e.changedTouches[0],e)},fire:function(e,t,n,i){v.fire(t,e,{x:n.clientX,y:n.clientY,sourceEvent:n,preventer:i,prevent:function(e){return v.prevent(e)}})}}),v.register({name:"track",touchAction:"none",deps:["mousedown","touchstart","touchmove","touchend"],flow:{start:["mousedown","touchstart"],end:["mouseup","touchend"]},emits:["track"],info:{x:0,y:0,state:"start",started:!1,moves:[],addMove:function(e){2<this.moves.length&&this.moves.shift(),this.moves.push(e)},movefn:null,upfn:null,prevent:!1},reset:function(){this.info.state="start",this.info.started=!1,this.info.moves=[],this.info.x=0,this.info.y=0,this.info.prevent=!1,y(this.info)},hasMovedEnough:function(e,t){if(this.info.prevent)return!1;if(this.info.started)return!0;var n=Math.abs(this.info.x-e),i=Math.abs(this.info.y-t);return 5<=n||5<=i},mousedown:function(e){if(s(e)){var i=v.findOriginalTarget(e),r=this,t=function(e){var t=e.clientX,n=e.clientY;r.hasMovedEnough(t,n)&&(r.info.state=r.info.started?"mouseup"===e.type?"end":"track":"start","start"===r.info.state&&v.prevent("tap"),r.info.addMove({x:t,y:n}),s(e)||(r.info.state="end",y(r.info)),r.fire(i,e),r.info.started=!0)};l(this.info,t,function(e){r.info.started&&t(e),y(r.info)}),this.info.x=e.clientX,this.info.y=e.clientY}},touchstart:function(e){var t=e.changedTouches[0];this.info.x=t.clientX,this.info.y=t.clientY},touchmove:function(e){var t=v.findOriginalTarget(e),n=e.changedTouches[0],i=n.clientX,r=n.clientY;this.hasMovedEnough(i,r)&&("start"===this.info.state&&v.prevent("tap"),this.info.addMove({x:i,y:r}),this.fire(t,n),this.info.state="track",this.info.started=!0)},touchend:function(e){var t=v.findOriginalTarget(e),n=e.changedTouches[0];this.info.started&&(this.info.state="end",this.info.addMove({x:n.clientX,y:n.clientY}),this.fire(t,n,e))},fire:function(e,t,n){var i,r=this.info.moves[this.info.moves.length-2],o=this.info.moves[this.info.moves.length-1],s=o.x-this.info.x,a=o.y-this.info.y,l=0;return r&&(i=o.x-r.x,l=o.y-r.y),v.fire(e,"track",{state:this.info.state,x:t.clientX,y:t.clientY,dx:s,dy:a,ddx:i,ddy:l,sourceEvent:t,preventer:n,hover:function(){return v.deepTargetFind(t.clientX,t.clientY)}})}}),v.register({name:"tap",deps:["mousedown","click","touchstart","touchend"],flow:{start:["mousedown","touchstart"],end:["click","touchend"]},emits:["tap"],info:{x:NaN,y:NaN,prevent:!1},reset:function(){this.info.x=NaN,this.info.y=NaN,this.info.prevent=!1},save:function(e){this.info.x=e.clientX,this.info.y=e.clientY},mousedown:function(e){s(e)&&this.save(e)},click:function(e){s(e)&&this.forward(e)},touchstart:function(e){this.save(e.changedTouches[0],e)},touchend:function(e){this.forward(e.changedTouches[0],e)},forward:function(e,t){var n=Math.abs(e.clientX-this.info.x),i=Math.abs(e.clientY-this.info.y),r=v.findOriginalTarget(e);(isNaN(n)||isNaN(i)||n<=25&&i<=25||function(e){if("click"===e.type){if(0===e.detail)return 1;var t=v.findOriginalTarget(e).getBoundingClientRect(),n=e.pageX,i=e.pageY;return!(n>=t.left&&n<=t.right&&i>=t.top&&i<=t.bottom)}}(e))&&(this.info.prevent||v.fire(r,"tap",{x:e.clientX,y:e.clientY,sourceEvent:e,preventer:t}))}});var n={x:"pan-x",y:"pan-y",none:"none",all:"auto"};Polymer.Base._addFeature({_setupGestures:function(){this.__polymerGestures=null},_listen:function(e,t,n){v.gestures[t]?v.add(e,t,n):e.addEventListener(t,n)},_unlisten:function(e,t,n){v.gestures[t]?v.remove(e,t,n):e.removeEventListener(t,n)},setScrollDirection:function(e,t){t=t||this,v.setTouchAction(t,n[e]||"auto")}}),Polymer.Gestures=v}(),function(){"use strict";if(Polymer.Base._addFeature({$$:function(e){return Polymer.dom(this.root).querySelector(e)},toggleClass:function(e,t,n){n=n||this,1==arguments.length&&(t=!n.classList.contains(e)),t?Polymer.dom(n).classList.add(e):Polymer.dom(n).classList.remove(e)},toggleAttribute:function(e,t,n){n=n||this,1==arguments.length&&(t=!n.hasAttribute(e)),t?Polymer.dom(n).setAttribute(e,""):Polymer.dom(n).removeAttribute(e)},classFollows:function(e,t,n){n&&Polymer.dom(n).classList.remove(e),t&&Polymer.dom(t).classList.add(e)},attributeFollows:function(e,t,n){n&&Polymer.dom(n).removeAttribute(e),t&&Polymer.dom(t).setAttribute(e,"")},getEffectiveChildNodes:function(){return Polymer.dom(this).getEffectiveChildNodes()},getEffectiveChildren:function(){return Polymer.dom(this).getEffectiveChildNodes().filter(function(e){return e.nodeType===Node.ELEMENT_NODE})},getEffectiveTextContent:function(){for(var e,t=this.getEffectiveChildNodes(),n=[],i=0;e=t[i];i++)e.nodeType!==Node.COMMENT_NODE&&n.push(Polymer.dom(e).textContent);return n.join("")},queryEffectiveChildren:function(e){var t=Polymer.dom(this).queryDistributedElements(e);return t&&t[0]},queryAllEffectiveChildren:function(e){return Polymer.dom(this).queryDistributedElements(e)},getContentChildNodes:function(e){var t=Polymer.dom(this.root).querySelector(e||"content");return t?Polymer.dom(t).getDistributedNodes():[]},getContentChildren:function(e){return this.getContentChildNodes(e).filter(function(e){return e.nodeType===Node.ELEMENT_NODE})},fire:function(e,t,n){var i=(n=n||Polymer.nob).node||this;t=null==t?{}:t;var r=void 0===n.bubbles||n.bubbles,o=Boolean(n.cancelable),s=n._useCache,a=this._getEvent(e,r,o,s);return a.detail=t,s&&(this.__eventCache[e]=null),i.dispatchEvent(a),s&&(this.__eventCache[e]=a),a},__eventCache:{},_getEvent:function(e,t,n,i){var r=i&&this.__eventCache[e];return r&&r.bubbles==t&&r.cancelable==n||(r=new Event(e,{bubbles:Boolean(t),cancelable:n})),r},async:function(e,t){var n=this;return Polymer.Async.run(function(){e.call(n)},t)},cancelAsync:function(e){Polymer.Async.cancel(e)},arrayDelete:function(e,t){var n;if(Array.isArray(e)){if(0<=(n=e.indexOf(t)))return e.splice(n,1)}else if(0<=(n=this._get(e).indexOf(t)))return this.splice(e,n,1)},transform:function(e,t){(t=t||this).style.webkitTransform=e,t.style.transform=e},translate3d:function(e,t,n,i){i=i||this,this.transform("translate3d("+e+","+t+","+n+")",i)},importHref:function(e,t,n,i){var r=document.createElement("link");r.rel="import",r.href=e;var o=Polymer.Base.importHref.imported=Polymer.Base.importHref.imported||{},s=o[r.href],a=s||r,l=this;if(t){var h=function(e){return e.target.__firedLoad=!0,e.target.removeEventListener("load",h),t.call(l,e)};a.addEventListener("load",h)}if(n){var c=function(e){return e.target.__firedError=!0,e.target.removeEventListener("error",c),n.call(l,e)};a.addEventListener("error",c)}return s?(s.__firedLoad&&s.dispatchEvent(new Event("load")),s.__firedError&&s.dispatchEvent(new Event("error"))):(o[r.href]=r,(i=Boolean(i))&&r.setAttribute("async",""),document.head.appendChild(r)),a},create:function(e,t){var n=document.createElement(e);if(t)for(var i in t)n[i]=t[i];return n},isLightDescendant:function(e){return this!==e&&this.contains(e)&&Polymer.dom(this).getOwnerRoot()===Polymer.dom(e).getOwnerRoot()},isLocalDescendant:function(e){return this.root===Polymer.dom(e).getOwnerRoot()}}),!Polymer.Settings.useNativeCustomElements){var r=Polymer.Base.importHref;Polymer.Base.importHref=function(e,t,n,i){CustomElements.ready=!1;return r.call(this,e,function(e){if(CustomElements.upgradeDocumentTree(document),CustomElements.ready=!0,t)return t.call(this,e)},n,i)}}}(),Polymer.Bind={prepareModel:function(e){Polymer.Base.mixin(e,this._modelApi)},_modelApi:{_notifyChange:function(e,t,n){n=void 0===n?this[e]:n,t=t||Polymer.CaseMap.camelToDashCase(e)+"-changed",this.fire(t,{value:n},{bubbles:!1,cancelable:!1,_useCache:!0})},_propertySetter:function(e,t,n,i){var r=this.__data__[e];return r===t||r!=r&&t!=t||("object"==typeof(this.__data__[e]=t)&&this._clearPath(e),this._propertyChanged&&this._propertyChanged(e,t,r),n&&this._effectEffects(e,t,n,r,i)),r},__setProperty:function(e,t,n,i){var r=(i=i||this)._propertyEffects&&i._propertyEffects[e];r?i._propertySetter(e,t,r,n):i[e]!==t&&(i[e]=t)},_effectEffects:function(e,t,n,i,r){for(var o,s=0,a=n.length;s<a&&(o=n[s]);s++)o.fn.call(this,e,this[e],o.effect,i,r)},_clearPath:function(e){for(var t in this.__data__)Polymer.Path.isDescendant(e,t)&&(this.__data__[t]=void 0)}},ensurePropertyEffects:function(e,t){e._propertyEffects||(e._propertyEffects={});var n=e._propertyEffects[t];return n=n||(e._propertyEffects[t]=[])},addPropertyEffect:function(e,t,n,i){var r=this.ensurePropertyEffects(e,t),o={kind:n,effect:i,fn:Polymer.Bind["_"+n+"Effect"]};return r.push(o),o},createBindings:function(e){var t=e._propertyEffects;if(t)for(var n in t){var i=t[n];i.sort(this._sortPropertyEffects),this._createAccessors(e,n,i)}},_sortPropertyEffects:(q={compute:0,annotation:1,annotatedComputation:2,reflect:3,notify:4,observer:5,complexObserver:6,function:7},function(e,t){return q[e.kind]-q[t.kind]}),_createAccessors:function(e,t,n){function i(e){this._propertySetter(t,e,n)}var r={get:function(){return this.__data__[t]}},o=e.getPropertyInfo&&e.getPropertyInfo(t);o&&o.readOnly?o.computed||(e["_set"+this.upper(t)]=i):r.set=i,Object.defineProperty(e,t,r)},upper:function(e){return e[0].toUpperCase()+e.substring(1)},_addAnnotatedListener:function(e,t,n,i,r,o){e._bindListeners||(e._bindListeners=[]);var s=this._notedListenerFactory(n,i,Polymer.Path.isDeep(i),o),a=r||Polymer.CaseMap.camelToDashCase(n)+"-changed";e._bindListeners.push({index:t,property:n,path:i,changedFn:s,event:a})},_isEventBogus:function(e,t){return e.path&&e.path[0]!==t},_notedListenerFactory:function(r,o,s,a){return function(e,t,n){if(n){var i=Polymer.Path.translate(r,o,n);this._notifyPath(i,t)}else t=e[r],a&&(t=!t),s?this.__data__[o]!=t&&this.set(o,t):this[o]=t}},prepareInstance:function(e){e.__data__=Object.create(null)},setupBindListeners:function(e){for(var t,n=e._bindListeners,i=0,r=n.length;i<r&&(t=n[i]);i++){var o=e._nodes[t.index];this._addNotifyListener(o,e,t.event,t.changedFn)}},_addNotifyListener:function(e,t,n,i){e.addEventListener(n,function(e){return t._notifyListener(i,e)})}},Polymer.Base.extend(Polymer.Bind,{_shouldAddListener:function(e){return e.name&&"attribute"!=e.kind&&"text"!=e.kind&&!e.isCompound&&"{"===e.parts[0].mode},_annotationEffect:function(e,t,n){e!=n.value&&(t=this._get(n.value),this.__data__[n.value]=t),this._applyEffectValue(n,t)},_reflectEffect:function(e,t,n){this.reflectPropertyToAttribute(e,n.attribute,t)},_notifyEffect:function(e,t,n,i,r){r||this._notifyChange(e,n.event,t)},_functionEffect:function(e,t,n,i,r){n.call(this,e,t,i,r)},_observerEffect:function(e,t,n,i){var r=this[n.method];r?r.call(this,t,i):this._warn(this._logf("_observerEffect","observer method `"+n.method+"` not defined"))},_complexObserverEffect:function(e,t,n){var i=this[n.method];if(i){var r=Polymer.Bind._marshalArgs(this.__data__,n,e,t);r&&i.apply(this,r)}else n.dynamicFn||this._warn(this._logf("_complexObserverEffect","observer method `"+n.method+"` not defined"))},_computeEffect:function(e,t,n){var i=this[n.method];if(i){var r=Polymer.Bind._marshalArgs(this.__data__,n,e,t);if(r){var o=i.apply(this,r);this.__setProperty(n.name,o)}}else n.dynamicFn||this._warn(this._logf("_computeEffect","compute method `"+n.method+"` not defined"))},_annotatedComputationEffect:function(e,t,n){var i=this._rootDataHost||this,r=i[n.method];if(r){var o=Polymer.Bind._marshalArgs(this.__data__,n,e,t);if(o){var s=r.apply(i,o);this._applyEffectValue(n,s)}}else n.dynamicFn||i._warn(i._logf("_annotatedComputationEffect","compute method `"+n.method+"` not defined"))},_marshalArgs:function(e,t,n,i){for(var r=[],o=t.args,s=1<o.length||t.dynamicFn,a=0,l=o.length;a<l;a++){var h,c=o[a],u=c.name;if(c.literal?h=c.value:n===u?h=i:void 0===(h=e[u])&&c.structured&&(h=Polymer.Base._get(u,e)),s&&void 0===h)return;if(c.wildcard){var d=Polymer.Path.isAncestor(n,u);r[a]={path:d?n:u,value:d?i:h,base:h}}else r[a]=h}return r}}),Polymer.Base._addFeature({_addPropertyEffect:function(e,t,n){var i=Polymer.Bind.addPropertyEffect(this,e,t,n);i.pathFn=this["_"+i.kind+"PathEffect"]},_prepEffects:function(){Polymer.Bind.prepareModel(this),this._addAnnotationEffects(this._notes)},_prepBindings:function(){Polymer.Bind.createBindings(this)},_addPropertyEffects:function(e){if(e)for(var t in e){var n=e[t];if(n.observer&&this._addObserverEffect(t,n.observer),n.computed&&(n.readOnly=!0,this._addComputedEffect(t,n.computed)),n.notify&&this._addPropertyEffect(t,"notify",{event:Polymer.CaseMap.camelToDashCase(t)+"-changed"}),n.reflectToAttribute){var i=Polymer.CaseMap.camelToDashCase(t);"-"===i[0]?this._warn(this._logf("_addPropertyEffects","Property "+t+" cannot be reflected to attribute "+i+' because "-" is not a valid starting attribute name. Use a lowercase first letter for the property instead.')):this._addPropertyEffect(t,"reflect",{attribute:i})}n.readOnly&&Polymer.Bind.ensurePropertyEffects(this,t)}},_addComputedEffect:function(e,t){for(var n,i=this._parseMethod(t),r=i.dynamicFn,o=0;o<i.args.length&&(n=i.args[o]);o++)this._addPropertyEffect(n.model,"compute",{method:i.method,args:i.args,trigger:n,name:e,dynamicFn:r});r&&this._addPropertyEffect(i.method,"compute",{method:i.method,args:i.args,trigger:null,name:e,dynamicFn:r})},_addObserverEffect:function(e,t){this._addPropertyEffect(e,"observer",{method:t,property:e})},_addComplexObserverEffects:function(e){if(e)for(var t,n=0;n<e.length&&(t=e[n]);n++)this._addComplexObserverEffect(t)},_addComplexObserverEffect:function(e){var t=this._parseMethod(e);if(!t)throw new Error("Malformed observer expression '"+e+"'");for(var n,i=t.dynamicFn,r=0;r<t.args.length&&(n=t.args[r]);r++)this._addPropertyEffect(n.model,"complexObserver",{method:t.method,args:t.args,trigger:n,dynamicFn:i});i&&this._addPropertyEffect(t.method,"complexObserver",{method:t.method,args:t.args,trigger:null,dynamicFn:i})},_addAnnotationEffects:function(e){for(var t,n=0;n<e.length&&(t=e[n]);n++)for(var i,r=t.bindings,o=0;o<r.length&&(i=r[o]);o++)this._addAnnotationEffect(i,n)},_addAnnotationEffect:function(e,t){Polymer.Bind._shouldAddListener(e)&&Polymer.Bind._addAnnotatedListener(this,t,e.name,e.parts[0].value,e.parts[0].event,e.parts[0].negate);for(var n=0;n<e.parts.length;n++){var i=e.parts[n];i.signature?this._addAnnotatedComputationEffect(e,i,t):i.literal||("attribute"===e.kind&&"-"===e.name[0]?this._warn(this._logf("_addAnnotationEffect","Cannot set attribute "+e.name+' because "-" is not a valid attribute starting character')):this._addPropertyEffect(i.model,"annotation",{kind:e.kind,index:t,name:e.name,propertyName:e.propertyName,value:i.value,isCompound:e.isCompound,compoundIndex:i.compoundIndex,event:i.event,customEvent:i.customEvent,negate:i.negate}))}},_addAnnotatedComputationEffect:function(e,t,n){var i=t.signature;if(i.static)this.__addAnnotatedComputationEffect("__static__",n,e,t,null);else{for(var r,o=0;o<i.args.length&&(r=i.args[o]);o++)r.literal||this.__addAnnotatedComputationEffect(r.model,n,e,t,r);i.dynamicFn&&this.__addAnnotatedComputationEffect(i.method,n,e,t,null)}},__addAnnotatedComputationEffect:function(e,t,n,i,r){this._addPropertyEffect(e,"annotatedComputation",{index:t,isCompound:n.isCompound,compoundIndex:i.compoundIndex,kind:n.kind,name:n.name,negate:i.negate,method:i.signature.method,args:i.signature.args,trigger:r,dynamicFn:i.signature.dynamicFn})},_parseMethod:function(e){var t=e.match(/([^\s]+?)\(([\s\S]*)\)/);if(t){var n={method:t[1],static:!0};if(this.getPropertyInfo(n.method)!==Polymer.nob&&(n.static=!1,n.dynamicFn=!0),t[2].trim()){var i=t[2].replace(/\\,/g,"&comma;").split(",");return this._parseArgs(i,n)}return n.args=Polymer.nar,n}},_parseArgs:function(e,n){return n.args=e.map(function(e){var t=this._parseArg(e);return t.literal||(n.static=!1),t},this),n},_parseArg:function(e){var t=e.trim().replace(/&comma;/g,",").replace(/\\(.)/g,"$1"),n={name:t},i=t[0];switch("-"===i&&(i=t[1]),"0"<=i&&i<="9"&&(i="#"),i){case"'":case'"':n.value=t.slice(1,-1),n.literal=!0;break;case"#":n.value=Number(t),n.literal=!0}return n.literal||(n.model=Polymer.Path.root(t),n.structured=Polymer.Path.isDeep(t),n.structured&&(n.wildcard=".*"==t.slice(-2),n.wildcard&&(n.name=t.slice(0,-2)))),n},_marshalInstanceEffects:function(){Polymer.Bind.prepareInstance(this),this._bindListeners&&Polymer.Bind.setupBindListeners(this)},_applyEffectValue:function(e,t){var n=this._nodes[e.index],i=e.name;if(t=this._computeFinalAnnotationValue(n,i,t,e),"attribute"==e.kind)this.serializeValueToAttribute(t,i,n);else{var r=n._propertyInfo&&n._propertyInfo[i];if(r&&r.readOnly)return;this.__setProperty(i,t,!1,n)}},_computeFinalAnnotationValue:function(e,t,n,i){if(i.negate&&(n=!n),i.isCompound){var r=e.__compoundStorage__[t];r[i.compoundIndex]=n,n=r.join("")}return"attribute"!==i.kind&&("className"===t&&(n=this._scopeElementClass(e,n)),("textContent"===t||"input"==e.localName&&"value"==t)&&(n=null==n?"":n)),n},_executeStaticEffects:function(){this._propertyEffects&&this._propertyEffects.__static__&&this._effectEffects("__static__",null,this._propertyEffects.__static__)}}),z=Polymer.Settings.usePolyfillProto,Polymer.Base._addFeature({_setupConfigure:function(e){if(this._config={},this._handlers=[],this._aboveConfig=null,e)for(var t in e)void 0!==e[t]&&(this._config[t]=e[t])},_marshalAttributes:function(){this._takeAttributesToModel(this._config)},_attributeChangedImpl:function(e){var t=this._clientsReadied?this:this._config;this._setAttributeToProperty(t,e)},_configValue:function(e,t){var n=this._propertyInfo[e];n&&n.readOnly||(this._config[e]=t)},_beforeClientsReady:function(){this._configure()},_configure:function(){this._configureAnnotationReferences(),this._configureInstanceProperties(),this._aboveConfig=this.mixin({},this._config);for(var e={},t=0;t<this.behaviors.length;t++)this._configureProperties(this.behaviors[t].properties,e);this._configureProperties(this.properties,e),this.mixin(e,this._aboveConfig),this._config=e,this._clients&&this._clients.length&&this._distributeConfig(this._config)},_configureInstanceProperties:function(){for(var e in this._propertyEffects)!z&&this.hasOwnProperty(e)&&(this._configValue(e,this[e]),delete this[e])},_configureProperties:function(e,t){for(var n in e){var i=e[n];if(void 0!==i.value){var r=i.value;"function"==typeof r&&(r=r.call(this,this._config)),t[n]=r}}},_distributeConfig:function(e){var t=this._propertyEffects;if(t)for(var n in e){var i=t[n];if(i)for(var r,o=0,s=i.length;o<s&&(r=i[o]);o++)if("annotation"===r.kind){var a=this._nodes[r.effect.index],l=r.effect.propertyName,h="attribute"==r.effect.kind,c=a._propertyEffects&&a._propertyEffects[l];if(a._configValue&&(c||!h)){var u=n===r.effect.value?e[n]:this._get(r.effect.value,e);u=this._computeFinalAnnotationValue(a,l,u,r.effect),h&&(u=a.deserialize(this.serialize(u),a._propertyInfo[l].type)),a._configValue(l,u)}}}},_afterClientsReady:function(){this._executeStaticEffects(),this._applyConfig(this._config,this._aboveConfig),this._flushHandlers()},_applyConfig:function(e,t){for(var n in e)void 0===this[n]&&this.__setProperty(n,e[n],n in t)},_notifyListener:function(e,t){if(!Polymer.Bind._isEventBogus(t,t.target)){var n,i;if(t.detail&&(n=t.detail.value,i=t.detail.path),this._clientsReadied)return e.call(this,t.target,n,i);this._queueHandler([e,t.target,n,i])}},_queueHandler:function(e){this._handlers.push(e)},_flushHandlers:function(){for(var e,t=this._handlers,n=0,i=t.length;n<i&&(e=t[n]);n++)e[0].call(this,e[1],e[2],e[3]);this._handlers=[]}}),function(){"use strict";var a=Polymer.Path;Polymer.Base._addFeature({notifyPath:function(e,t,n){var i={},r=this._get(e,this,i);1===arguments.length&&(t=r),i.path&&this._notifyPath(i.path,t,n)},_notifyPath:function(e,t,n){var i=this._propertySetter(e,t);if(i!==t&&(i==i||t==t))return this._pathEffector(e,t),n||this._notifyPathUp(e,t),!0},_getPathParts:function(e){if(Array.isArray(e)){for(var t=[],n=0;n<e.length;n++)for(var i=e[n].toString().split("."),r=0;r<i.length;r++)t.push(i[r]);return t}return e.toString().split(".")},set:function(e,t,n){var i,r=n||this,o=this._getPathParts(e),s=o[o.length-1];if(1<o.length){for(var a=0;a<o.length-1;a++){var l=o[a];if(i&&"#"==l[0]?r=Polymer.Collection.get(i).getItem(l):(r=r[l],i&&parseInt(l,10)==l&&(o[a]=Polymer.Collection.get(i).getKey(r))),!r)return;i=Array.isArray(r)?r:null}if(i){var h,c,u=Polymer.Collection.get(i);"#"==s[0]?(c=s,h=u.getItem(c),s=i.indexOf(h),u.setItem(c,t)):parseInt(s,10)==s&&(h=r[s],c=u.getKey(h),o[a]=c,u.setItem(c,t))}r[s]=t,n||this._notifyPath(o.join("."),t)}else r[e]=t},get:function(e,t){return this._get(e,t)},_get:function(e,t,n){for(var i,r=t||this,o=this._getPathParts(e),s=0;s<o.length;s++){if(!r)return;var a=o[s];i&&"#"==a[0]?r=Polymer.Collection.get(i).getItem(a):(r=r[a],n&&i&&parseInt(a,10)==a&&(o[s]=Polymer.Collection.get(i).getKey(r))),i=Array.isArray(r)?r:null}return n&&(n.path=o.join(".")),r},_pathEffector:function(e,t){var n=a.root(e),i=this._propertyEffects&&this._propertyEffects[n];if(i)for(var r,o=0;o<i.length&&(r=i[o]);o++){var s=r.pathFn;s&&s.call(this,e,t,r.effect)}this._boundPaths&&this._notifyBoundPaths(e,t)},_annotationPathEffect:function(e,t,n){if(a.matches(n.value,!1,e))Polymer.Bind._annotationEffect.call(this,e,t,n);else if(!n.negate&&a.isDescendant(n.value,e)){var i=this._nodes[n.index];if(i&&i._notifyPath){var r=a.translate(n.value,n.name,e);i._notifyPath(r,t,!0)}}},_complexObserverPathEffect:function(e,t,n){a.matches(n.trigger.name,n.trigger.wildcard,e)&&Polymer.Bind._complexObserverEffect.call(this,e,t,n)},_computePathEffect:function(e,t,n){a.matches(n.trigger.name,n.trigger.wildcard,e)&&Polymer.Bind._computeEffect.call(this,e,t,n)},_annotatedComputationPathEffect:function(e,t,n){a.matches(n.trigger.name,n.trigger.wildcard,e)&&Polymer.Bind._annotatedComputationEffect.call(this,e,t,n)},linkPaths:function(e,t){this._boundPaths=this._boundPaths||{},t?this._boundPaths[e]=t:this.unlinkPaths(e)},unlinkPaths:function(e){this._boundPaths&&delete this._boundPaths[e]},_notifyBoundPaths:function(e,t){for(var n in this._boundPaths){var i=this._boundPaths[n];a.isDescendant(n,e)?this._notifyPath(a.translate(n,i,e),t):a.isDescendant(i,e)&&this._notifyPath(a.translate(i,n,e),t)}},_notifyPathUp:function(e,t){var n=a.root(e),i=Polymer.CaseMap.camelToDashCase(n)+this._EVENT_CHANGED;this.fire(i,{path:e,value:t},{bubbles:!1,_useCache:!0})},_EVENT_CHANGED:"-changed",notifySplices:function(e,t){var n={},i=this._get(e,this,n);this._notifySplices(i,n.path,t)},_notifySplices:function(e,t,n){var i={keySplices:Polymer.Collection.applySplices(e,n),indexSplices:n},r=t+".splices";this._notifyPath(r,i),this._notifyPath(t+".length",e.length),this.__data__[r]={keySplices:null,indexSplices:null}},_notifySplice:function(e,t,n,i,r){this._notifySplices(e,t,[{index:n,addedCount:i,removed:r,object:e,type:"splice"}])},push:function(e){var t={},n=this._get(e,this,t),i=Array.prototype.slice.call(arguments,1),r=n.length,o=n.push.apply(n,i);return i.length&&this._notifySplice(n,t.path,r,i.length,[]),o},pop:function(e){var t={},n=this._get(e,this,t),i=Boolean(n.length),r=Array.prototype.slice.call(arguments,1),o=n.pop.apply(n,r);return i&&this._notifySplice(n,t.path,n.length,0,[o]),o},splice:function(e,t){var n={},i=this._get(e,this,n);t=(t=t<0?i.length-Math.floor(-t):Math.floor(t))||0;var r=Array.prototype.slice.call(arguments,1),o=i.splice.apply(i,r),s=Math.max(r.length-2,0);return(s||o.length)&&this._notifySplice(i,n.path,t,s,o),o},shift:function(e){var t={},n=this._get(e,this,t),i=Boolean(n.length),r=Array.prototype.slice.call(arguments,1),o=n.shift.apply(n,r);return i&&this._notifySplice(n,t.path,0,0,[o]),o},unshift:function(e){var t={},n=this._get(e,this,t),i=Array.prototype.slice.call(arguments,1),r=n.unshift.apply(n,i);return i.length&&this._notifySplice(n,t.path,0,i.length,[]),r},prepareModelNotifyPath:function(e){this.mixin(e,{fire:Polymer.Base.fire,_getEvent:Polymer.Base._getEvent,__eventCache:Polymer.Base.__eventCache,notifyPath:Polymer.Base.notifyPath,_get:Polymer.Base._get,_EVENT_CHANGED:Polymer.Base._EVENT_CHANGED,_notifyPath:Polymer.Base._notifyPath,_notifyPathUp:Polymer.Base._notifyPathUp,_pathEffector:Polymer.Base._pathEffector,_annotationPathEffect:Polymer.Base._annotationPathEffect,_complexObserverPathEffect:Polymer.Base._complexObserverPathEffect,_annotatedComputationPathEffect:Polymer.Base._annotatedComputationPathEffect,_computePathEffect:Polymer.Base._computePathEffect,_notifyBoundPaths:Polymer.Base._notifyBoundPaths,_getPathParts:Polymer.Base._getPathParts})}})}(),Polymer.Base._addFeature({resolveUrl:function(e){var t=Polymer.DomModule.import(this.is),n="";if(t){var i=t.getAttribute("assetpath")||"";n=Polymer.ResolveUrl.resolveUrl(i,t.ownerDocument.baseURI)}return Polymer.ResolveUrl.resolveUrl(e,n)}}),Polymer.CssParse={parse:function(e){return e=this._clean(e),this._parseCss(this._lex(e),e)},_clean:function(e){return e.replace(this._rx.comments,"").replace(this._rx.port,"")},_lex:function(e){for(var t={start:0,end:e.length},n=t,i=0,r=e.length;i<r;i++)switch(e[i]){case this.OPEN_BRACE:n.rules||(n.rules=[]);var o=n;n={start:i+1,parent:o,previous:o.rules[o.rules.length-1]},o.rules.push(n);break;case this.CLOSE_BRACE:n.end=i+1,n=n.parent||t}return t},_parseCss:function(e,t){var n=t.substring(e.start,e.end-1);if(e.parsedCssText=e.cssText=n.trim(),e.parent){var i=e.previous?e.previous.end:e.parent.start;n=t.substring(i,e.start-1),n=(n=(n=this._expandUnicodeEscapes(n)).replace(this._rx.multipleSpaces," ")).substring(n.lastIndexOf(";")+1);var r=e.parsedSelector=e.selector=n.trim();e.atRule=0===r.indexOf(this.AT_START),e.atRule?0===r.indexOf(this.MEDIA_START)?e.type=this.types.MEDIA_RULE:r.match(this._rx.keyframesRule)&&(e.type=this.types.KEYFRAMES_RULE,e.keyframesName=e.selector.split(this._rx.multipleSpaces).pop()):0===r.indexOf(this.VAR_START)?e.type=this.types.MIXIN_RULE:e.type=this.types.STYLE_RULE}var o=e.rules;if(o)for(var s,a=0,l=o.length;a<l&&(s=o[a]);a++)this._parseCss(s,t);return e},_expandUnicodeEscapes:function(e){return e.replace(/\\([0-9a-f]{1,6})\s/gi,function(){for(var e=arguments[1],t=6-e.length;t--;)e="0"+e;return"\\"+e})},stringify:function(e,t,n){n=n||"";var i="";if(e.cssText||e.rules){var r=e.rules;if(r&&!this._hasMixinRules(r))for(var o,s=0,a=r.length;s<a&&(o=r[s]);s++)i=this.stringify(o,t,i);else i=(i=(i=t?e.cssText:this.removeCustomProps(e.cssText)).trim())&&"  "+i+"\n"}return i&&(e.selector&&(n+=e.selector+" "+this.OPEN_BRACE+"\n"),n+=i,e.selector&&(n+=this.CLOSE_BRACE+"\n\n")),n},_hasMixinRules:function(e){return 0===e[0].selector.indexOf(this.VAR_START)},removeCustomProps:function(e){return e=this.removeCustomPropAssignment(e),this.removeCustomPropApply(e)},removeCustomPropAssignment:function(e){return e.replace(this._rx.customProp,"").replace(this._rx.mixinProp,"")},removeCustomPropApply:function(e){return e.replace(this._rx.mixinApply,"").replace(this._rx.varApply,"")},types:{STYLE_RULE:1,KEYFRAMES_RULE:7,MEDIA_RULE:4,MIXIN_RULE:1e3},OPEN_BRACE:"{",CLOSE_BRACE:"}",_rx:{comments:/\/\*[^*]*\*+([^/*][^*]*\*+)*\//gim,port:/@import[^;]*;/gim,customProp:/(?:^[^;\-\s}]+)?--[^;{}]*?:[^{};]*?(?:[;\n]|$)/gim,mixinProp:/(?:^[^;\-\s}]+)?--[^;{}]*?:[^{};]*?{[^}]*?}(?:[;\n]|$)?/gim,mixinApply:/@apply\s*\(?[^);]*\)?\s*(?:[;\n]|$)?/gim,varApply:/[^;:]*?:[^;]*?var\([^;]*\)(?:[;\n]|$)?/gim,keyframesRule:/^@[^\s]*keyframes/,multipleSpaces:/\s+/g},VAR_START:"--",MEDIA_START:"@media",AT_START:"@"},Polymer.StyleUtil=(V=Polymer.Settings,{NATIVE_VARIABLES:Polymer.Settings.useNativeCSSProperties,MODULE_STYLES_SELECTOR:"style, link[rel=import][type~=css], template",INCLUDE_ATTR:"include",toCssText:function(e,t){return"string"==typeof e&&(e=this.parser.parse(e)),t&&this.forEachRule(e,t),this.parser.stringify(e,this.NATIVE_VARIABLES)},forRulesInStyles:function(e,t,n){if(e)for(var i,r=0,o=e.length;r<o&&(i=e[r]);r++)this.forEachRuleInStyle(i,t,n)},forActiveRulesInStyles:function(e,t,n){if(e)for(var i,r=0,o=e.length;r<o&&(i=e[r]);r++)this.forEachRuleInStyle(i,t,n,!0)},rulesForStyle:function(e){return!e.__cssRules&&e.textContent&&(e.__cssRules=this.parser.parse(e.textContent)),e.__cssRules},isKeyframesSelector:function(e){return e.parent&&e.parent.type===this.ruleTypes.KEYFRAMES_RULE},forEachRuleInStyle:function(t,n,i,e){var r,o,s=this.rulesForStyle(t);n&&(r=function(e){n(e,t)}),i&&(o=function(e){i(e,t)}),this.forEachRule(s,r,o,e)},forEachRule:function(e,t,n,i){if(e){var r=!1;if(i&&e.type===this.ruleTypes.MEDIA_RULE){var o=e.selector.match(this.rx.MEDIA_MATCH);o&&(window.matchMedia(o[1]).matches||(r=!0))}e.type===this.ruleTypes.STYLE_RULE?t(e):n&&e.type===this.ruleTypes.KEYFRAMES_RULE?n(e):e.type===this.ruleTypes.MIXIN_RULE&&(r=!0);var s=e.rules;if(s&&!r)for(var a,l=0,h=s.length;l<h&&(a=s[l]);l++)this.forEachRule(a,t,n,i)}},applyCss:function(e,t,n,i){var r=this.createScopeStyle(e,t);return this.applyStyle(r,n,i)},applyStyle:function(e,t,n){t=t||document.head;var i=n&&n.nextSibling||t.firstChild;return this.__lastHeadApplyNode=e,t.insertBefore(e,i)},createScopeStyle:function(e,t){var n=document.createElement("style");return t&&n.setAttribute("scope",t),n.textContent=e,n},__lastHeadApplyNode:null,applyStylePlaceHolder:function(e){var t=document.createComment(" Shady DOM styles for "+e+" "),n=this.__lastHeadApplyNode?this.__lastHeadApplyNode.nextSibling:null,i=document.head;return i.insertBefore(t,n||i.firstChild),this.__lastHeadApplyNode=t},cssFromModules:function(e,t){for(var n=e.trim().split(" "),i="",r=0;r<n.length;r++)i+=this.cssFromModule(n[r],t);return i},cssFromModule:function(e,t){var n=Polymer.DomModule.import(e);return n&&!n._cssText&&(n._cssText=this.cssFromElement(n)),!n&&t&&console.warn("Could not find style data in module named",e),n&&n._cssText||""},cssFromElement:function(e){for(var t,n="",i=e.content||e,r=Polymer.TreeApi.arrayCopy(i.querySelectorAll(this.MODULE_STYLES_SELECTOR)),o=0;o<r.length;o++)if("template"===(t=r[o]).localName)t.hasAttribute("preserve-content")||(n+=this.cssFromElement(t));else if("style"===t.localName){var s=t.getAttribute(this.INCLUDE_ATTR);s&&(n+=this.cssFromModules(s,!0)),(t=t.__appliedElement||t).parentNode.removeChild(t),n+=this.resolveCss(t.textContent,e.ownerDocument)}else t.import&&t.import.body&&(n+=this.resolveCss(t.import.body.textContent,t.import));return n},isTargetedBuild:function(e){return V.useNativeShadow?"shadow"===e:"shady"===e},cssBuildTypeForModule:function(e){var t=Polymer.DomModule.import(e);if(t)return this.getCssBuildType(t)},getCssBuildType:function(e){return e.getAttribute("css-build")},_findMatchingParen:function(e,t){for(var n=0,i=t,r=e.length;i<r;i++)switch(e[i]){case"(":n++;break;case")":if(0==--n)return i}return-1},processVariableAndFallback:function(e,t){var n=e.indexOf("var(");if(-1===n)return t(e,"","","");var i=this._findMatchingParen(e,n+3),r=e.substring(n+4,i),o=e.substring(0,n),s=this.processVariableAndFallback(e.substring(i+1),t),a=r.indexOf(",");return-1===a?t(o,r.trim(),"",s):t(o,r.substring(0,a).trim(),r.substring(a+1).trim(),s)},rx:{VAR_ASSIGN:/(?:^|[;\s{]\s*)(--[\w-]*?)\s*:\s*(?:([^;{]*)|{([^}]*)})(?:(?=[;\s}])|$)/gi,MIXIN_MATCH:/(?:^|\W+)@apply\s*\(?([^);\n]*)\)?/gi,VAR_CONSUMED:/(--[\w-]+)\s*([:,;)]|$)/gi,ANIMATION_MATCH:/(animation\s*:)|(animation-name\s*:)/,MEDIA_MATCH:/@media[^(]*(\([^)]*\))/,IS_VAR:/^--/,BRACKETED:/\{[^}]*\}/g,HOST_PREFIX:"(?:^|[^.#[:])",HOST_SUFFIX:"($|[.:[\\s>+~])"},resolveCss:Polymer.ResolveUrl.resolveCss,parser:Polymer.CssParse,ruleTypes:Polymer.CssParse.types}),Polymer.StyleTransformer=(P=Polymer.StyleUtil,b=Polymer.Settings,E=":not(["+(S=(C={dom:function(e,t,n,i){this._transformDom(e,t||"",n,i)},_transformDom:function(e,t,n,i){e.setAttribute&&this.element(e,t,n,i);for(var r=Polymer.dom(e).childNodes,o=0;o<r.length;o++)this._transformDom(r[o],t,n,i)},element:function(e,t,n,i){if(n)i?e.removeAttribute(S):e.setAttribute(S,t);else if(t)if(e.classList)i?(e.classList.remove(S),e.classList.remove(t)):(e.classList.add(S),e.classList.add(t));else if(e.getAttribute){var r=e.getAttribute(H);i?r&&e.setAttribute(H,r.replace(S,"").replace(t,"")):e.setAttribute(H,(r?r+" ":"")+S+" "+t)}},elementStyles:function(e,t){for(var n,i=e._styles,r="",o=e.__cssBuild,s=0,a=i.length;s<a&&(n=i[s]);s++){var l=P.rulesForStyle(n);r+=b.useNativeShadow||"shady"===o?P.toCssText(l,t):this.css(l,e.is,e.extends,t,e._scopeCssViaAttr)+"\n\n"}return r.trim()},css:function(e,t,n,i,r){var o=this._calcHostScope(t,n);t=this._calcElementScope(t,r);var s=this;return P.toCssText(e,function(e){e.isScoped||(s.rule(e,t,o),e.isScoped=!0),i&&i(e,t,o)})},_calcElementScope:function(e,t){return e?t?F+e+k:L+e:""},_calcHostScope:function(e,t){return t?"[is="+e+"]":e},rule:function(e,t,n){this._transformRule(e,this._transformComplexSelector,t,n)},_transformRule:function(e,t,n,i){e.selector=e.transformedSelector=this._transformRuleCss(e,t,n,i)},_transformRuleCss:function(e,t,n,i){var r=e.selector.split(N);if(!P.isKeyframesSelector(e))for(var o,s=0,a=r.length;s<a&&(o=r[s]);s++)r[s]=t.call(this,o,n,i);return r.join(N)},_transformComplexSelector:function(e,r,o){var s=!1,a=!1,l=this;return e=(e=(e=e.trim()).replace(U,T+" $1")).replace(A,function(e,t,n){if(s)n=n.replace(B," ");else{var i=l._transformCompoundSelector(n,t,r,o);s=s||i.stop,a=a||i.hostContext,t=i.combinator,n=i.value}return t+n}),a&&(e=e.replace(O,function(e,t,n,i){return t+n+" "+o+i+N+" "+t+o+n+i})),e},_transformCompoundSelector:function(e,t,n,i){var r,o=e.search(B),s=!1;return 0<=e.indexOf(I)?s=!0:0<=e.indexOf(T)?e=this._transformHostSelector(e,i):0!==o&&(e=n?this._transformSimpleSelector(e,n):e),0<=e.indexOf(D)&&(t=""),0<=o&&(e=e.replace(B," "),r=!0),{value:e,combinator:t,stop:r,hostContext:s}},_transformSimpleSelector:function(e,t){var n=e.split(M);return n[0]+=t,n.join(M)},_transformHostSelector:function(e,i){var t=e.match(w),n=t&&t[2].trim()||"";return n?n[0].match(x)?e.replace(w,function(e,t,n){return i+n}):n.split(x)[0]===i?n:j:e.replace(T,i)},documentRule:function(e){e.selector=e.parsedSelector,this.normalizeRootSelector(e),b.useNativeShadow||this._transformRule(e,this._transformDocumentSelector)},normalizeRootSelector:function(e){e.selector===R&&(e.selector="html")},_transformDocumentSelector:function(e){return e.match(B)?this._transformComplexSelector(e,E):this._transformSimpleSelector(e.trim(),E)},SCOPE_NAME:"style-scope"}).SCOPE_NAME)+"]):not(."+S+")",N=",",A=/(^|[\s>+~]+)((?:\[.+?\]|[^\s>+~=\[])+)/g,x=/[[.:#*]/,T=":host",R=":root",w=/(:host)(?:\(((?:\([^)(]*\)|[^)(]*)+?)\))/,I=":host-context",O=/(.*)(?::host-context)(?:\(((?:\([^)(]*\)|[^)(]*)+?)\))(.*)/,D="::content",B=/::content|::shadow|\/deep\//,L=".",F="["+S+"~=",k="]",M=":",H="class",U=new RegExp("^("+D+")"),j="should_not_match",C),Polymer.StyleExtends=(g=Polymer.StyleUtil,{hasExtends:function(e){return Boolean(e.match(this.rx.EXTEND))},transform:function(e){var t=g.rulesForStyle(e),r=this;return g.forEachRule(t,function(e){if(r._mapRuleOntoParent(e),e.parent)for(var t;t=r.rx.EXTEND.exec(e.cssText);){var n=t[1],i=r._findExtendor(n,e);i&&r._extendRule(e,i)}e.cssText=e.cssText.replace(r.rx.EXTEND,"")}),g.toCssText(t,function(e){e.selector.match(r.rx.STRIP)&&(e.cssText="")},!0)},_mapRuleOntoParent:function(e){if(e.parent){for(var t=e.parent.map||(e.parent.map={}),n=e.selector.split(","),i=0;i<n.length;i++)t[n[i].trim()]=e;return t}},_findExtendor:function(e,t){return t.parent&&t.parent.map&&t.parent.map[e]||this._findExtendor(e,t.parent)},_extendRule:function(t,e){t.parent!==e.parent&&this._cloneAndAddRuleToParent(e,t.parent),t.extends=t.extends||[],t.extends.push(e),e.selector=e.selector.replace(this.rx.STRIP,""),e.selector=(e.selector&&e.selector+",\n")+t.selector,e.extends&&e.extends.forEach(function(e){this._extendRule(t,e)},this)},_cloneAndAddRuleToParent:function(e,t){(e=Object.create(e)).parent=t,e.extends&&(e.extends=e.extends.slice()),t.rules.push(e)},rx:{EXTEND:/@extends\(([^)]*)\)\s*?;/gim,STRIP:/%[^,]*$/}}),Polymer.ApplyShim=function(){"use strict";var _=Polymer.StyleUtil,c=_.rx.MIXIN_MATCH,n=_.rx.VAR_ASSIGN,i=/var\(\s*(--[^,]*),\s*(--[^)]*)\)/g,l=/;\s*/m,u=/^\s*(initial)|(inherit)\s*$/,p="_-_",r={};function m(e,t){e=e.trim(),r[e]={properties:t,dependants:{}}}function y(e){return e=e.trim(),r[e]}function v(e){for(var t,n,i,r,o,s,a=e.split(";"),l={},h=0;h<a.length;h++)(n=a[h])&&1<(i=n.split(":")).length&&(t=i[0].trim(),r=t,o=i.slice(1).join(":"),(s=u.exec(o))&&(o=s[1]?P._getInitialValueForProperty(r):"apply-shim-inherit"),l[t]=o);return l}function o(e,t,n,i){if(n&&_.processVariableAndFallback(n,function(e,t){t&&y(t)&&(i="@apply "+t+";")}),!i)return e;var r=g(i),o=e.slice(0,e.indexOf("--")),s=v(r),a=s,l=y(t),h=l&&l.properties;h?(a=Object.create(h),a=Polymer.Base.mixin(a,s)):m(t,a);var c,u,d=[],f=!1;for(c in a)void 0===(u=s[c])&&(u="initial"),!h||c in h||(f=!0),d.push(t+p+c+": "+u);return f&&function(e){var t=P.__currentElementProto,n=t&&t.is;for(var i in e.dependants)i!==n&&(e.dependants[i].__applyShimInvalid=!0)}(l),l&&(l.properties=a),n&&(o=e+";"+o),o+d.join("; ")+";"}function s(e,t,n){return"var("+t+",var("+n+"))"}function d(e,t){var n=[],i=y(e=e.replace(l,""));if(i||(m(e,{}),i=y(e)),i){var r,o,s,a=P.__currentElementProto;for(r in a&&(i.dependants[a.is]=a),i.properties)s=t&&t[r],o=[r,": var(",e,p,r],s&&o.push(",",s),o.push(")"),n.push(o.join(""))}return n.join("; ")}function g(e){for(var t;t=c.exec(e);){var n=t[0],i=t[1],r=t.index,o=r+n.indexOf("@apply"),s=r+n.length,a=e.slice(0,o),l=e.slice(s),h=d(i,v(a));e=[a,h,l].join(""),c.lastIndex=r+h.length}return e}var P={_measureElement:null,_map:r,_separator:p,transform:function(e,t){this.__currentElementProto=t,_.forRulesInStyles(e,this._boundFindDefinitions),_.forRulesInStyles(e,this._boundFindApplications),t&&(t.__applyShimInvalid=!1),this.__currentElementProto=null},_findDefinitions:function(e){var t=e.parsedCssText;t=(t=t.replace(i,s)).replace(n,o),e.cssText=t,":root"===e.selector&&(e.selector=":host > *")},_findApplications:function(e){e.cssText=g(e.cssText)},transformRule:function(e){this._findDefinitions(e),this._findApplications(e)},_getInitialValueForProperty:function(e){return this._measureElement||(this._measureElement=document.createElement("meta"),this._measureElement.style.all="initial",document.head.appendChild(this._measureElement)),window.getComputedStyle(this._measureElement).getPropertyValue(e)}};return P._boundTransformRule=P.transformRule.bind(P),P._boundFindDefinitions=P._findDefinitions.bind(P),P._boundFindApplications=P._findApplications.bind(P),P}(),d=Polymer.Base._prepElement,f=Polymer.Settings.useNativeShadow,_=Polymer.StyleUtil,p=Polymer.StyleTransformer,m=Polymer.StyleExtends,y=Polymer.ApplyShim,v=Polymer.Settings,Polymer.Base._addFeature({_prepElement:function(e){this._encapsulateStyle&&"shady"!==this.__cssBuild&&p.element(e,this.is,this._scopeCssViaAttr),d.call(this,e)},_prepStyles:function(){void 0===this._encapsulateStyle&&(this._encapsulateStyle=!f),f||(this._scopeStyle=_.applyStylePlaceHolder(this.is)),this.__cssBuild=_.cssBuildTypeForModule(this.is)},_prepShimStyles:function(){if(this._template){var e=_.isTargetedBuild(this.__cssBuild);if(v.useNativeCSSProperties&&"shadow"===this.__cssBuild&&e)return;this._styles=this._styles||this._collectStyles(),v.useNativeCSSProperties&&!this.__cssBuild&&y.transform(this._styles,this);var t=v.useNativeCSSProperties&&e?this._styles.length&&this._styles[0].textContent.trim():p.elementStyles(this);this._prepStyleProperties(),!this._needsStyleProperties()&&t&&_.applyCss(t,this.is,f?this._template.content:null,this._scopeStyle)}else this._styles=[]},_collectStyles:function(){var e=[],t="",n=this.styleModules;if(n)for(var i,r=0,o=n.length;r<o&&(i=n[r]);r++)t+=_.cssFromModule(i);t+=_.cssFromModule(this.is);var s=this._template&&this._template.parentNode;if(!this._template||s&&s.id.toLowerCase()===this.is||(t+=_.cssFromElement(this._template)),t){var a=document.createElement("style");a.textContent=t,m.hasExtends(a.textContent)&&(t=m.transform(a)),e.push(a)}return e},_elementAdd:function(e){this._encapsulateStyle&&(e.__styleScoped?e.__styleScoped=!1:p.dom(e,this.is,this._scopeCssViaAttr))},_elementRemove:function(e){this._encapsulateStyle&&p.dom(e,this.is,this._scopeCssViaAttr,!0)},scopeSubtree:function(e,t){if(!f){function r(e){if(e.nodeType===Node.ELEMENT_NODE){var t=e.getAttribute("class");e.setAttribute("class",o._scopeElementClass(e,t));for(var n,i=e.querySelectorAll("*"),r=0;r<i.length&&(n=i[r]);r++)t=n.getAttribute("class"),n.setAttribute("class",o._scopeElementClass(n,t))}}var o=this;if(r(e),t){var n=new MutationObserver(function(e){for(var t,n=0;n<e.length&&(t=e[n]);n++)if(t.addedNodes)for(var i=0;i<t.addedNodes.length;i++)r(t.addedNodes[i])});return n.observe(e,{childList:!0,subtree:!0}),n}}}}),Polymer.StyleProperties=function(){"use strict";var c=Polymer.DomApi.matchesSelector,u=Polymer.StyleUtil,d=Polymer.StyleTransformer,s=navigator.userAgent.match("Trident"),f=Polymer.Settings;return{decorateStyles:function(e,i){var t=this,r={},n=[],o=0,s=d._calcHostScope(i.is,i.extends);u.forRulesInStyles(e,function(n,e){t.decorateRule(n),n.index=o++,t.whenHostOrRootRule(i,n,e,function(e){if(n.parent.type===u.ruleTypes.MEDIA_RULE&&(i.__notStyleScopeCacheable=!0),e.isHost){var t=e.selector.split(" ").some(function(e){return 0===e.indexOf(s)&&e.length!==s.length});i.__notStyleScopeCacheable=i.__notStyleScopeCacheable||t}}),t.collectPropertiesInCssText(n.propertyInfo.cssText,r)},function(e){n.push(e)}),e._keyframes=n;var a=[];for(var l in r)a.push(l);return a},decorateRule:function(e){if(e.propertyInfo)return e.propertyInfo;var t={},n={};return this.collectProperties(e,n)&&(t.properties=n,e.rules=null),t.cssText=this.collectCssText(e),e.propertyInfo=t},collectProperties:function(e,t){var n=e.propertyInfo;if(!n){for(var i,r,o,s=this.rx.VAR_ASSIGN,a=e.parsedCssText;i=s.exec(a);)"inherit"!==(r=(i[2]||i[3]).trim())&&(t[i[1].trim()]=r),o=!0;return o}if(n.properties)return Polymer.Base.mixin(t,n.properties),!0},collectCssText:function(e){return this.collectConsumingCssText(e.parsedCssText)},collectConsumingCssText:function(e){return e.replace(this.rx.BRACKETED,"").replace(this.rx.VAR_ASSIGN,"")},collectPropertiesInCssText:function(e,t){for(var n;n=this.rx.VAR_CONSUMED.exec(e);){var i=n[1];":"!==n[2]&&(t[i]=!0)}},reify:function(e){for(var t,n=Object.getOwnPropertyNames(e),i=0;i<n.length;i++)e[t=n[i]]=this.valueForProperty(e[t],e)},valueForProperty:function(e,o){if(e)if(0<=e.indexOf(";"))e=this.valueForProperties(e,o);else{var s=this;e=u.processVariableAndFallback(e,function(e,t,n,i){var r=s.valueForProperty(o[t],o);return r&&"initial"!==r?"apply-shim-inherit"===r&&(r="inherit"):r=s.valueForProperty(o[n]||n,o)||n,e+(r||"")+i})}return e&&e.trim()||""},valueForProperties:function(e,t){for(var n,i,r=e.split(";"),o=0;o<r.length;o++)if(n=r[o]){if(this.rx.MIXIN_MATCH.lastIndex=0,i=this.rx.MIXIN_MATCH.exec(n))n=this.valueForProperty(t[i[1]],t);else{var s=n.indexOf(":");if(-1!==s){var a=n.substring(s);a=a.trim(),a=this.valueForProperty(a,t)||a,n=n.substring(0,s)+a}}r[o]=n&&n.lastIndexOf(";")===n.length-1?n.slice(0,-1):n||""}return r.join(";")},applyProperties:function(e,t){var n="";e.propertyInfo||this.decorateRule(e),e.propertyInfo.cssText&&(n=this.valueForProperties(e.propertyInfo.cssText,t)),e.cssText=n},applyKeyframeTransforms:function(e,t){var n=e.cssText,i=e.cssText;if(null==e.hasAnimations&&(e.hasAnimations=this.rx.ANIMATION_MATCH.test(n)),e.hasAnimations)if(null==e.keyframeNamesToTransform)for(var r in e.keyframeNamesToTransform=[],t)n!==(i=(0,t[r])(n))&&(n=i,e.keyframeNamesToTransform.push(r));else{for(var o=0;o<e.keyframeNamesToTransform.length;++o)n=(0,t[e.keyframeNamesToTransform[o]])(n);i=n}e.cssText=i},propertyDataFromStyles:function(e,s){var a={},l=this,h=[];return u.forActiveRulesInStyles(e,function(e){e.propertyInfo||l.decorateRule(e);var t,n,i,r,o=e.transformedSelector||e.parsedSelector;s&&e.propertyInfo.properties&&o&&c.call(s,o)&&(l.collectProperties(e,a),t=e.index,n=h,i=parseInt(t/32),r=1<<t%32,n[i]=(n[i]||0)|r)}),{properties:a,key:h}},whenHostOrRootRule:function(e,t,n,i){if(t.propertyInfo||self.decorateRule(t),t.propertyInfo.properties){var r=e.is?d._calcHostScope(e.is,e.extends):"html",o=t.parsedSelector,s=":root"===o,a=0===o.indexOf(":host"),l=e.__cssBuild||n.__cssBuild;if("shady"===l&&(a=!(s=o===r+" > *."+r||-1!==o.indexOf("html"))&&0===o.indexOf(r)),"shadow"===l&&(s=":host > *"===o||"html"===o,a=a&&!s),s||a){var h=r;a&&(f.useNativeShadow&&!t.transformedSelector&&(t.transformedSelector=d._transformRuleCss(t,d._transformComplexSelector,e.is,r)),h=t.transformedSelector||t.parsedSelector),i({selector:h,isHost:a,isRoot:s})}}},hostAndRootPropertiesForScope:function(i){var r={},o={},s=this;return u.forActiveRulesInStyles(i._styles,function(n,e){s.whenHostOrRootRule(i,n,e,function(e){var t=i._element||i;c.call(t,e.selector)&&(e.isHost?s.collectProperties(n,r):s.collectProperties(n,o))})}),{rootProps:o,hostProps:r}},transformStyles:function(t,n,i){var r=this,o=d._calcHostScope(t.is,t.extends),e=t.extends?"\\"+o.slice(0,-1)+"\\]":o,s=new RegExp(this.rx.HOST_PREFIX+e+this.rx.HOST_SUFFIX),a=this._elementKeyframeTransforms(t,i);return d.elementStyles(t,function(e){r.applyProperties(e,n),f.useNativeShadow||Polymer.StyleUtil.isKeyframesSelector(e)||!e.cssText||(r.applyKeyframeTransforms(e,a),r._scopeSelector(e,s,o,t._scopeCssViaAttr,i))})},_elementKeyframeTransforms:function(e,t){var n=e._styles._keyframes,i={};if(!f.useNativeShadow&&n)for(var r=0,o=n[r];r<n.length;o=n[++r])this._scopeKeyframes(o,t),i[o.keyframesName]=this._keyframesRuleTransformer(o);return i},_keyframesRuleTransformer:function(t){return function(e){return e.replace(t.keyframesNameRx,t.transformedKeyframesName)}},_scopeKeyframes:function(e,t){e.keyframesNameRx=new RegExp(e.keyframesName,"g"),e.transformedKeyframesName=e.keyframesName+"-"+t,e.transformedSelector=e.transformedSelector||e.selector,e.selector=e.transformedSelector.replace(e.keyframesName,e.transformedKeyframesName)},_scopeSelector:function(e,t,n,i,r){e.transformedSelector=e.transformedSelector||e.selector;for(var o,s=e.transformedSelector,a=i?"["+d.SCOPE_NAME+"~="+r+"]":"."+r,l=s.split(","),h=0,c=l.length;h<c&&(o=l[h]);h++)l[h]=o.match(t)?o.replace(n,a):a+" "+o;e.selector=l.join(",")},applyElementScopeSelector:function(e,t,n,i){var r=i?e.getAttribute(d.SCOPE_NAME):e.getAttribute("class")||"",o=n?r.replace(n,t):(r?r+" ":"")+this.XSCOPE_NAME+" "+t;r!==o&&(i?e.setAttribute(d.SCOPE_NAME,o):e.setAttribute("class",o))},applyElementStyle:function(e,t,n,i){var r=i?i.textContent||"":this.transformStyles(e,t,n),o=e._customStyle;return o&&!f.useNativeShadow&&o!==i&&(o._useCount--,o._useCount<=0&&o.parentNode&&o.parentNode.removeChild(o)),f.useNativeShadow?e._customStyle?(e._customStyle.textContent=r,i=e._customStyle):r&&(i=u.applyCss(r,n,e.root,e._scopeStyle)):i?i.parentNode||u.applyStyle(i,null,e._scopeStyle):r&&(i=u.applyCss(r,n,null,e._scopeStyle)),i&&(i._useCount=i._useCount||0,e._customStyle!=i&&i._useCount++,e._customStyle=i),s&&(i.textContent=i.textContent),i},mixinCustomStyle:function(e,t){var n;for(var i in t)!(n=t[i])&&0!==n||(e[i]=n)},updateNativeStyleProperties:function(e,t){var n=e.__customStyleProperties;if(n)for(var i=0;i<n.length;i++)e.style.removeProperty(n[i]);var r=[];for(var o in t)null!==t[o]&&(e.style.setProperty(o,t[o]),r.push(o));e.__customStyleProperties=r},rx:u.rx,XSCOPE_NAME:"x-scope"}}(),Polymer.StyleCache=function(){this.cache={}},Polymer.StyleCache.prototype={MAX:100,store:function(e,t,n,i){t.keyValues=n,t.styles=i;var r=this.cache[e]=this.cache[e]||[];r.push(t),r.length>this.MAX&&r.shift()},retrieve:function(e,t,n){var i=this.cache[e];if(i)for(var r,o=i.length-1;0<=o;o--)if(n===(r=i[o]).styles&&this._objectsEqual(t,r.keyValues))return r},clear:function(){this.cache={}},_objectsEqual:function(e,t){var n,i;for(var r in e)if(n=e[r],i=t[r],!("object"==typeof n&&n?this._objectsStrictlyEqual(n,i):n===i))return!1;return!Array.isArray(e)||e.length===t.length},_objectsStrictlyEqual:function(e,t){return this._objectsEqual(e,t)&&this._objectsEqual(t,e)}},Polymer.StyleDefaults=(s=Polymer.StyleProperties,n=Polymer.StyleCache,u=Polymer.Settings.useNativeCSSProperties,{_styles:[],_properties:null,customStyle:{},_styleCache:new n,_element:Polymer.DomApi.wrap(document.documentElement),addStyle:function(e){this._styles.push(e),this._properties=null},get _styleProperties(){return this._properties||(s.decorateStyles(this._styles,this),this._styles._scopeStyleProperties=null,this._properties=s.hostAndRootPropertiesForScope(this).rootProps,s.mixinCustomStyle(this._properties,this.customStyle),s.reify(this._properties)),this._properties},hasStyleProperties:function(){return Boolean(this._properties)},_needsStyleProperties:function(){},_computeStyleProperties:function(){return this._styleProperties},updateStyles:function(e){this._properties=null,e&&Polymer.Base.mixin(this.customStyle,e),this._styleCache.clear();for(var t,n=0;n<this._styles.length;n++)(t=(t=this._styles[n]).__importElement||t)._apply();u&&s.updateNativeStyleProperties(document.documentElement,this.customStyle)}}),function(){"use strict";var r=Polymer.Base.serializeValueToAttribute,a=Polymer.StyleProperties,i=Polymer.StyleTransformer,n=Polymer.StyleDefaults,l=Polymer.Settings.useNativeShadow,t=Polymer.Settings.useNativeCSSProperties;Polymer.Base._addFeature({_prepStyleProperties:function(){t||(this._ownStylePropertyNames=this._styles&&this._styles.length?a.decorateStyles(this._styles,this):null)},customStyle:null,getComputedStyleValue:function(e){return!t&&this._styleProperties&&this._styleProperties[e]||getComputedStyle(this).getPropertyValue(e)},_setupStyleProperties:function(){this.customStyle={},this._styleCache=null,this._styleProperties=null,this._scopeSelector=null,this._ownStyleProperties=null,this._customStyle=null},_needsStyleProperties:function(){return Boolean(!t&&this._ownStylePropertyNames&&this._ownStylePropertyNames.length)},_validateApplyShim:function(){if(this.__applyShimInvalid){Polymer.ApplyShim.transform(this._styles,this.__proto__);var e=i.elementStyles(this);if(l){var t=this._template.content.querySelector("style");t&&(t.textContent=e)}else{var n=this._scopeStyle&&this._scopeStyle.nextSibling;n&&(n.textContent=e)}}},_beforeAttached:function(){this._scopeSelector&&!this.__stylePropertiesInvalid||!this._needsStyleProperties()||(this.__stylePropertiesInvalid=!1,this._updateStyleProperties())},_findStyleHost:function(){for(var e,t=this;e=Polymer.dom(t).getOwnerRoot();){if(Polymer.isInstance(e.host))return e.host;t=e.host}return n},_updateStyleProperties:function(){var e,t=this._findStyleHost();t._styleProperties||t._computeStyleProperties(),t._styleCache||(t._styleCache=new Polymer.StyleCache);var n=a.propertyDataFromStyles(t._styles,this),i=!this.__notStyleScopeCacheable;i&&(n.key.customStyle=this.customStyle,e=t._styleCache.retrieve(this.is,n.key,this._styles));var r=Boolean(e);r?this._styleProperties=e._styleProperties:this._computeStyleProperties(n.properties),this._computeOwnStyleProperties(),r||(e=h.retrieve(this.is,this._ownStyleProperties,this._styles));var o=Boolean(e)&&!r,s=this._applyStyleProperties(e);r||(e={style:s=s&&l?s.cloneNode(!0):s,_scopeSelector:this._scopeSelector,_styleProperties:this._styleProperties},i&&(n.key.customStyle={},this.mixin(n.key.customStyle,this.customStyle),t._styleCache.store(this.is,e,n.key,this._styles)),o||h.store(this.is,Object.create(e),this._ownStyleProperties,this._styles))},_computeStyleProperties:function(e){var t=this._findStyleHost();t._styleProperties||t._computeStyleProperties();var n=Object.create(t._styleProperties),i=a.hostAndRootPropertiesForScope(this);this.mixin(n,i.hostProps),e=e||a.propertyDataFromStyles(t._styles,this).properties,this.mixin(n,e),this.mixin(n,i.rootProps),a.mixinCustomStyle(n,this.customStyle),a.reify(n),this._styleProperties=n},_computeOwnStyleProperties:function(){for(var e,t={},n=0;n<this._ownStylePropertyNames.length;n++)t[e=this._ownStylePropertyNames[n]]=this._styleProperties[e];this._ownStyleProperties=t},_scopeCount:0,_applyStyleProperties:function(e){var t=this._scopeSelector;this._scopeSelector=e?e._scopeSelector:this.is+"-"+this.__proto__._scopeCount++;var n=a.applyElementStyle(this,this._styleProperties,this._scopeSelector,e&&e.style);return l||a.applyElementScopeSelector(this,this._scopeSelector,t,this._scopeCssViaAttr),n},serializeValueToAttribute:function(e,t,n){if(n=n||this,"class"===t&&!l){var i=n===this?this.domHost||this.dataHost:this;i&&(e=i._scopeElementClass(n,e))}n=this.shadyRoot&&this.shadyRoot._hasDistributed?Polymer.dom(n):n,r.call(this,e,t,n)},_scopeElementClass:function(e,t){return l||this._scopeCssViaAttr||(t=(t?t+" ":"")+o+" "+this.is+(e._scopeSelector?" "+s+" "+e._scopeSelector:"")),t},updateStyles:function(e){e&&this.mixin(this.customStyle,e),t?a.updateNativeStyleProperties(this,this.customStyle):(this.isAttached?this._needsStyleProperties()?this._updateStyleProperties():this._styleProperties=null:this.__stylePropertiesInvalid=!0,this._styleCache&&this._styleCache.clear(),this._updateRootStyles())},_updateRootStyles:function(e){e=e||this.root;for(var t,n=Polymer.dom(e)._query(function(e){return e.shadyRoot||e.shadowRoot}),i=0,r=n.length;i<r&&(t=n[i]);i++)t.updateStyles&&t.updateStyles()}}),Polymer.updateStyles=function(e){n.updateStyles(e),Polymer.Base._updateRootStyles(document)};var h=new Polymer.StyleCache;Polymer.customStyleCache=h;var o=i.SCOPE_NAME,s=a.XSCOPE_NAME}(),Polymer.Base._addFeature({_registerFeatures:function(){this._prepIs(),this._prepConstructor(),this._prepStyles()},_finishRegisterFeatures:function(){this._prepTemplate(),this._prepShimStyles(),this._prepAnnotations(),this._prepEffects(),this._prepBehaviors(),this._prepPropertyInfo(),this._prepBindings(),this._prepShady()},_prepBehavior:function(e){this._addPropertyEffects(e.properties),this._addComplexObserverEffects(e.observers),this._addHostAttributes(e.hostAttributes)},_initFeatures:function(){this._setupGestures(),this._setupConfigure(),this._setupStyleProperties(),this._setupDebouncers(),this._setupShady(),this._registerHost(),this._template&&(this._validateApplyShim(),this._poolContent(),this._beginHosting(),this._stampTemplate(),this._endHosting(),this._marshalAnnotationReferences()),this._marshalInstanceEffects(),this._marshalBehaviors(),this._marshalHostAttributes(),this._marshalAttributes(),this._tryReady()},_marshalBehavior:function(e){e.listeners&&this._listenListeners(e.listeners)}}),i=Polymer.StyleProperties,a=Polymer.StyleUtil,r=Polymer.CssParse,o=Polymer.StyleDefaults,l=Polymer.StyleTransformer,h=Polymer.ApplyShim,t=Polymer.Debounce,c=Polymer.Settings,Polymer({is:"custom-style",extends:"style",_template:null,properties:{include:String},ready:function(){this.__appliedElement=this.__appliedElement||this,this.__cssBuild=a.getCssBuildType(this),this.__appliedElement!==this&&(this.__appliedElement.__cssBuild=this.__cssBuild),this._tryApply()},attached:function(){this._tryApply()},_tryApply:function(){if(!this._appliesToDocument&&this.parentNode&&"dom-module"!==this.parentNode.localName){this._appliesToDocument=!0;var e=this.__appliedElement;if(c.useNativeCSSProperties||(this.__needsUpdateStyles=o.hasStyleProperties(),o.addStyle(e)),e.textContent||this.include)this._apply(!0);else{var t=this,n=new MutationObserver(function(){n.disconnect(),t._apply(!0)});n.observe(e,{childList:!0})}}},_updateStyles:function(){Polymer.updateStyles()},_apply:function(e){var t=this.__appliedElement;if(this.include&&(t.textContent=a.cssFromModules(this.include,!0)+t.textContent),t.textContent){var n=this.__cssBuild,i=a.isTargetedBuild(n);if(!c.useNativeCSSProperties||!i){var r=a.rulesForStyle(t);if(i||(a.forEachRule(r,function(e){l.documentRule(e)}),c.useNativeCSSProperties&&!n&&h.transform([t])),c.useNativeCSSProperties)t.textContent=a.toCssText(r);else{function o(){s._flushCustomProperties()}var s=this;e?Polymer.RenderStatus.whenReady(o):o()}}}},_flushCustomProperties:function(){this.__needsUpdateStyles?(this.__needsUpdateStyles=!1,e=t(e,this._updateStyles)):this._applyCustomProperties()},_applyCustomProperties:function(){var e=this.__appliedElement;this._computeStyleProperties();var n=this._styleProperties,t=a.rulesForStyle(e);t&&(e.textContent=a.toCssText(t,function(e){var t=e.cssText=e.parsedCssText;e.propertyInfo&&e.propertyInfo.cssText&&(t=r.removeCustomPropAssignment(t),e.cssText=i.valueForProperties(t,n))}))}}),Polymer.Templatizer={properties:{__hideTemplateChildren__:{observer:"_showHideChildren"}},_instanceProps:Polymer.nob,_parentPropPrefix:"_parent_",templatize:function(e){if((this._templatized=e)._content||(e._content=e.content),e._content._ctor)return this.ctor=e._content._ctor,void this._prepParentProperties(this.ctor.prototype,e);var t=Object.create(Polymer.Base);this._customPrepAnnotations(t,e),this._prepParentProperties(t,e),t._prepEffects(),this._customPrepEffects(t),t._prepBehaviors(),t._prepPropertyInfo(),t._prepBindings(),t._notifyPathUp=this._notifyPathUpImpl,t._scopeElementClass=this._scopeElementClassImpl,t.listen=this._listenImpl,t._showHideChildren=this._showHideChildrenImpl,t.__setPropertyOrig=this.__setProperty,t.__setProperty=this.__setPropertyImpl;function n(e,t){i.call(this,e,t)}var i=this._constructorImpl;(n.prototype=t).constructor=n,e._content._ctor=n,this.ctor=n},_getRootDataHost:function(){return this.dataHost&&this.dataHost._rootDataHost||this.dataHost},_showHideChildrenImpl:function(e){for(var t=this._children,n=0;n<t.length;n++){var i=t[n];Boolean(e)!=Boolean(i.__hideTemplateChildren__)&&(i.nodeType===Node.TEXT_NODE?e?(i.__polymerTextContent__=i.textContent,i.textContent=""):i.textContent=i.__polymerTextContent__:i.style&&(e?(i.__polymerDisplay__=i.style.display,i.style.display="none"):i.style.display=i.__polymerDisplay__)),i.__hideTemplateChildren__=e}},__setPropertyImpl:function(e,t,n,i){i&&i.__hideTemplateChildren__&&"textContent"==e&&(e="__polymerTextContent__"),this.__setPropertyOrig(e,t,n,i)},_debounceTemplate:function(e){Polymer.dom.addDebouncer(this.debounce("_debounceTemplate",e))},_flushTemplates:function(){Polymer.dom.flush()},_customPrepEffects:function(e){var t=e._parentProps;for(var n in t)e._addPropertyEffect(n,"function",this._createHostPropEffector(n));for(n in this._instanceProps)e._addPropertyEffect(n,"function",this._createInstancePropEffector(n))},_customPrepAnnotations:function(e,t){var n=(e._template=t)._content;if(!n._notes){var i=e._rootDataHost;i&&(Polymer.Annotations.prepElement=function(){i._prepElement()}),n._notes=Polymer.Annotations.parseAnnotations(t),Polymer.Annotations.prepElement=null,this._processAnnotations(n._notes)}e._notes=n._notes,e._parentProps=n._parentProps},_prepParentProperties:function(e,t){var n=this._parentProps=e._parentProps;if(this._forwardParentProp&&n){var i,r=e._parentPropProto;if(!r){for(i in this._instanceProps)delete n[i];for(i in r=e._parentPropProto=Object.create(null),t!=this&&(Polymer.Bind.prepareModel(r),Polymer.Base.prepareModelNotifyPath(r)),n){var o=this._parentPropPrefix+i,s=[{kind:"function",effect:this._createForwardPropEffector(i),fn:Polymer.Bind._functionEffect},{kind:"notify",fn:Polymer.Bind._notifyEffect,effect:{event:Polymer.CaseMap.camelToDashCase(o)+"-changed"}}];Polymer.Bind._createAccessors(r,o,s)}}var a=this;t!=this&&(Polymer.Bind.prepareInstance(t),t._forwardParentProp=function(e,t){a._forwardParentProp(e,t)}),this._extendTemplate(t,r),t._pathEffector=function(e,t,n){return a._pathEffectorImpl(e,t,n)}}},_createForwardPropEffector:function(n){return function(e,t){this._forwardParentProp(n,t)}},_createHostPropEffector:function(n){var i=this._parentPropPrefix;return function(e,t){this.dataHost._templatized[i+n]=t}},_createInstancePropEffector:function(r){return function(e,t,n,i){i||this.dataHost._forwardInstanceProp(this,r,t)}},_extendTemplate:function(e,t){var n=Object.getOwnPropertyNames(t);t._propertySetter&&(e._propertySetter=t._propertySetter);for(var i,r=0;r<n.length&&(i=n[r]);r++){var o=e[i],s=Object.getOwnPropertyDescriptor(t,i);Object.defineProperty(e,i,s),void 0!==o&&e._propertySetter(i,o)}},_showHideChildren:function(e){},_forwardInstancePath:function(e,t,n){},_forwardInstanceProp:function(e,t,n){},_notifyPathUpImpl:function(e,t){var n=this.dataHost,i=Polymer.Path.root(e);n._forwardInstancePath.call(n,this,e,t),i in n._parentProps&&n._templatized._notifyPath(n._parentPropPrefix+e,t)},_pathEffectorImpl:function(e,t,n){if(this._forwardParentPath&&0===e.indexOf(this._parentPropPrefix)){var i=e.substring(this._parentPropPrefix.length);Polymer.Path.root(i)in this._parentProps&&this._forwardParentPath(i,t)}Polymer.Base._pathEffector.call(this._templatized,e,t,n)},_constructorImpl:function(e,t){this._rootDataHost=t._getRootDataHost(),this._setupConfigure(e),this._registerHost(t),this._beginHosting(),this.root=this.instanceTemplate(this._template),this.root.__noContent=!this._notes._hasContent,this.root.__styleScoped=!0,this._endHosting(),this._marshalAnnotatedNodes(),this._marshalInstanceEffects(),this._marshalAnnotatedListeners();for(var n=[],i=this.root.firstChild;i;i=i.nextSibling)n.push(i),i._templateInstance=this;this._children=n,t.__hideTemplateChildren__&&this._showHideChildren(!0),this._tryReady()},_listenImpl:function(e,t,n){var i=this,r=this._rootDataHost,o=r._createEventHandler(e,t,n);r._listen(e,t,function(e){e.model=i,o(e)})},_scopeElementClassImpl:function(e,t){var n=this._rootDataHost;return n?n._scopeElementClass(e,t):t},stamp:function(e){if(e=e||{},this._parentProps){var t=this._templatized;for(var n in this._parentProps)void 0===e[n]&&(e[n]=t[this._parentPropPrefix+n])}return new this.ctor(e,this)},modelForElement:function(e){for(var t;e;)if(t=e._templateInstance){if(t.dataHost==this)return t;e=t.dataHost}else e=e.parentNode}},Polymer({is:"dom-template",extends:"template",_template:null,behaviors:[Polymer.Templatizer],ready:function(){this.templatize(this)}}),Polymer._collections=new WeakMap,Polymer.Collection=function(e){Polymer._collections.set(e,this),this.userArray=e,this.store=e.slice(),this.initMap()},Polymer.Collection.prototype={constructor:Polymer.Collection,initMap:function(){for(var e=this.omap=new WeakMap,t=this.pmap={},n=this.store,i=0;i<n.length;i++){var r=n[i];r&&"object"==typeof r?e.set(r,i):t[r]=i}},add:function(e){var t=this.store.push(e)-1;return e&&"object"==typeof e?this.omap.set(e,t):this.pmap[e]=t,"#"+t},removeKey:function(e){(e=this._parseKey(e))&&(this._removeFromMap(this.store[e]),delete this.store[e])},_removeFromMap:function(e){e&&"object"==typeof e?this.omap.delete(e):delete this.pmap[e]},remove:function(e){var t=this.getKey(e);return this.removeKey(t),t},getKey:function(e){var t;if(null!=(t=e&&"object"==typeof e?this.omap.get(e):this.pmap[e]))return"#"+t},getKeys:function(){return Object.keys(this.store).map(function(e){return"#"+e})},_parseKey:function(e){if(e&&"#"==e[0])return e.slice(1)},setItem:function(e,t){if(e=this._parseKey(e)){var n=this.store[e];n&&this._removeFromMap(n),t&&"object"==typeof t?this.omap.set(t,e):this.pmap[t]=e,this.store[e]=t}},getItem:function(e){if(e=this._parseKey(e))return this.store[e]},getItems:function(){var e=[],t=this.store;for(var n in t)e.push(t[n]);return e},_applySplices:function(e){for(var t,n,i={},r=0;r<e.length&&(n=e[r]);r++){n.addedKeys=[];for(var o=0;o<n.removed.length;o++)i[t=this.getKey(n.removed[o])]=i[t]?null:-1;for(o=0;o<n.addedCount;o++){var s=this.userArray[n.index+o];i[t=void 0===(t=this.getKey(s))?this.add(s):t]=i[t]?null:1,n.addedKeys.push(t)}}var a=[],l=[];for(t in i)i[t]<0&&(this.removeKey(t),a.push(t)),0<i[t]&&l.push(t);return[{removed:a,added:l}]}},Polymer.Collection.get=function(e){return Polymer._collections.get(e)||new Polymer.Collection(e)},Polymer.Collection.applySplices=function(e,t){var n=Polymer._collections.get(e);return n?n._applySplices(t):null},Polymer({is:"dom-repeat",extends:"template",_template:null,properties:{items:{type:Array},as:{type:String,value:"item"},indexAs:{type:String,value:"index"},sort:{type:Function,observer:"_sortChanged"},filter:{type:Function,observer:"_filterChanged"},observe:{type:String,observer:"_observeChanged"},delay:Number,renderedItemCount:{type:Number,notify:!0,readOnly:!0},initialCount:{type:Number,observer:"_initializeChunking"},targetFramerate:{type:Number,value:20},_targetFrameTime:{type:Number,computed:"_computeFrameTime(targetFramerate)"}},behaviors:[Polymer.Templatizer],observers:["_itemsChanged(items.*)"],created:function(){this._instances=[],this._pool=[],this._limit=1/0;var e=this;this._boundRenderChunk=function(){e._renderChunk()}},detached:function(){this.__isDetached=!0;for(var e=0;e<this._instances.length;e++)this._detachInstance(e)},attached:function(){if(this.__isDetached){this.__isDetached=!1;for(var e=Polymer.dom(Polymer.dom(this).parentNode),t=0;t<this._instances.length;t++)this._attachInstance(t,e)}},ready:function(){this._instanceProps={__key__:!0},this._instanceProps[this.as]=!0,this._instanceProps[this.indexAs]=!0,this.ctor||this.templatize(this)},_sortChanged:function(e){var t=this._getRootDataHost();this._sortFn=e&&("function"==typeof e?e:function(){return t[e].apply(t,arguments)}),this._needFullRefresh=!0,this.items&&this._debounceTemplate(this._render)},_filterChanged:function(e){var t=this._getRootDataHost();this._filterFn=e&&("function"==typeof e?e:function(){return t[e].apply(t,arguments)}),this._needFullRefresh=!0,this.items&&this._debounceTemplate(this._render)},_computeFrameTime:function(e){return Math.ceil(1e3/e)},_initializeChunking:function(){this.initialCount&&(this._limit=this.initialCount,this._chunkCount=this.initialCount,this._lastChunkTime=performance.now())},_tryRenderChunk:function(){this.items&&this._limit<this.items.length&&this.debounce("renderChunk",this._requestRenderChunk)},_requestRenderChunk:function(){requestAnimationFrame(this._boundRenderChunk)},_renderChunk:function(){var e=performance.now(),t=this._targetFrameTime/(e-this._lastChunkTime);this._chunkCount=Math.round(this._chunkCount*t)||1,this._limit+=this._chunkCount,this._lastChunkTime=e,this._debounceTemplate(this._render)},_observeChanged:function(){this._observePaths=this.observe&&this.observe.replace(".*",".").split(" ")},_itemsChanged:function(e){if("items"==e.path)Array.isArray(this.items)?this.collection=Polymer.Collection.get(this.items):this.items?this._error(this._logf("dom-repeat","expected array for `items`, found",this.items)):this.collection=null,this._keySplices=[],this._indexSplices=[],this._needFullRefresh=!0,this._initializeChunking(),this._debounceTemplate(this._render);else if("items.splices"==e.path)this._keySplices=this._keySplices.concat(e.value.keySplices),this._indexSplices=this._indexSplices.concat(e.value.indexSplices),this._debounceTemplate(this._render);else{var t=e.path.slice(6);this._forwardItemPath(t,e.value),this._checkObservedPaths(t)}},_checkObservedPaths:function(e){if(this._observePaths){e=e.substring(e.indexOf(".")+1);for(var t=this._observePaths,n=0;n<t.length;n++)if(0===e.indexOf(t[n]))return this._needFullRefresh=!0,void(this.delay?this.debounce("render",this._render,this.delay):this._debounceTemplate(this._render))}},render:function(){this._needFullRefresh=!0,this._debounceTemplate(this._render),this._flushTemplates()},_render:function(){this._needFullRefresh?(this._applyFullRefresh(),this._needFullRefresh=!1):this._keySplices.length&&(this._sortFn?this._applySplicesUserSort(this._keySplices):this._filterFn?this._applyFullRefresh():this._applySplicesArrayOrder(this._indexSplices)),this._keySplices=[],this._indexSplices=[];for(var e=this._keyToInstIdx={},t=this._instances.length-1;0<=t;t--){var n=this._instances[t];n.isPlaceholder&&t<this._limit?n=this._insertInstance(t,n.__key__):!n.isPlaceholder&&t>=this._limit&&(n=this._downgradeInstance(t,n.__key__)),e[n.__key__]=t,n.isPlaceholder||n.__setProperty(this.indexAs,t,!0)}this._pool.length=0,this._setRenderedItemCount(this._instances.length),this.fire("dom-change"),this._tryRenderChunk()},_applyFullRefresh:function(){var e,n=this.collection;if(this._sortFn)e=n?n.getKeys():[];else{e=[];var t=this.items;if(t)for(var i=0;i<t.length;i++)e.push(n.getKey(t[i]))}var r=this;for(this._filterFn&&(e=e.filter(function(e){return r._filterFn(n.getItem(e))})),this._sortFn&&e.sort(function(e,t){return r._sortFn(n.getItem(e),n.getItem(t))}),i=0;i<e.length;i++){var o=e[i],s=this._instances[i];s?(s.__key__=o,!s.isPlaceholder&&i<this._limit&&s.__setProperty(this.as,n.getItem(o),!0)):i<this._limit?this._insertInstance(i,o):this._insertPlaceholder(i,o)}for(var a=this._instances.length-1;i<=a;a--)this._detachAndRemoveInstance(a)},_numericSort:function(e,t){return e-t},_applySplicesUserSort:function(e){for(var t,n,i=this.collection,r={},o=0;o<e.length&&(n=e[o]);o++){for(var s=0;s<n.removed.length;s++)r[t=n.removed[s]]=r[t]?null:-1;for(s=0;s<n.added.length;s++)r[t=n.added[s]]=r[t]?null:1}var a=[],l=[];for(t in r)-1===r[t]&&a.push(this._keyToInstIdx[t]),1===r[t]&&l.push(t);if(a.length)for(a.sort(this._numericSort),o=a.length-1;0<=o;o--){var h=a[o];void 0!==h&&this._detachAndRemoveInstance(h)}var c=this;if(l.length){this._filterFn&&(l=l.filter(function(e){return c._filterFn(i.getItem(e))})),l.sort(function(e,t){return c._sortFn(i.getItem(e),i.getItem(t))});var u=0;for(o=0;o<l.length;o++)u=this._insertRowUserSort(u,l[o])}},_insertRowUserSort:function(e,t){for(var n=this.collection,i=n.getItem(t),r=this._instances.length-1,o=-1;e<=r;){var s=e+r>>1,a=this._instances[s].__key__,l=this._sortFn(n.getItem(a),i);if(l<0)e=1+s;else{if(!(0<l)){o=s;break}r=s-1}}return o<0&&(o=r+1),this._insertPlaceholder(o,t),o},_applySplicesArrayOrder:function(e){for(var t,n=0;n<e.length&&(t=e[n]);n++){for(var i=0;i<t.removed.length;i++)this._detachAndRemoveInstance(t.index);for(i=0;i<t.addedKeys.length;i++)this._insertPlaceholder(t.index+i,t.addedKeys[i])}},_detachInstance:function(e){var t=this._instances[e];if(!t.isPlaceholder){for(var n=0;n<t._children.length;n++){var i=t._children[n];Polymer.dom(t.root).appendChild(i)}return t}},_attachInstance:function(e,t){var n=this._instances[e];n.isPlaceholder||t.insertBefore(n.root,this)},_detachAndRemoveInstance:function(e){var t=this._detachInstance(e);t&&this._pool.push(t),this._instances.splice(e,1)},_insertPlaceholder:function(e,t){this._instances.splice(e,0,{isPlaceholder:!0,__key__:t})},_stampInstance:function(e,t){var n={__key__:t};return n[this.as]=this.collection.getItem(t),n[this.indexAs]=e,this.stamp(n)},_insertInstance:function(e,t){var n=this._pool.pop();n?(n.__setProperty(this.as,this.collection.getItem(t),!0),n.__setProperty("__key__",t,!0)):n=this._stampInstance(e,t);var i=this._instances[e+1],r=i&&!i.isPlaceholder?i._children[0]:this,o=Polymer.dom(this).parentNode;return Polymer.dom(o).insertBefore(n.root,r),this._instances[e]=n},_downgradeInstance:function(e,t){var n=this._detachInstance(e);return n&&this._pool.push(n),n={isPlaceholder:!0,__key__:t},this._instances[e]=n},_showHideChildren:function(e){for(var t=0;t<this._instances.length;t++)this._instances[t]._showHideChildren(e)},_forwardInstanceProp:function(e,t,n){var i;t==this.as&&(i=this._sortFn||this._filterFn?this.items.indexOf(this.collection.getItem(e.__key__)):e[this.indexAs],this.set("items."+i,n))},_forwardInstancePath:function(e,t,n){0===t.indexOf(this.as+".")&&this._notifyPath("items."+e.__key__+"."+t.slice(this.as.length+1),n)},_forwardParentProp:function(e,t){for(var n,i=this._instances,r=0;r<i.length&&(n=i[r]);r++)n.isPlaceholder||n.__setProperty(e,t,!0)},_forwardParentPath:function(e,t){for(var n,i=this._instances,r=0;r<i.length&&(n=i[r]);r++)n.isPlaceholder||n._notifyPath(e,t,!0)},_forwardItemPath:function(e,t){if(this._keyToInstIdx){var n=e.indexOf("."),i=e.substring(0,n<0?e.length:n),r=this._keyToInstIdx[i],o=this._instances[r];o&&!o.isPlaceholder&&(0<=n?(e=this.as+"."+e.substring(n+1),o._notifyPath(e,t,!0)):o.__setProperty(this.as,t,!0))}},itemForElement:function(e){var t=this.modelForElement(e);return t&&t[this.as]},keyForElement:function(e){var t=this.modelForElement(e);return t&&t.__key__},indexForElement:function(e){var t=this.modelForElement(e);return t&&t[this.indexAs]}}),Polymer({is:"array-selector",_template:null,properties:{items:{type:Array,observer:"clearSelection"},multi:{type:Boolean,value:!1,observer:"clearSelection"},selected:{type:Object,notify:!0},selectedItem:{type:Object,notify:!0},toggle:{type:Boolean,value:!1}},clearSelection:function(){if(Array.isArray(this.selected))for(var e=0;e<this.selected.length;e++)this.unlinkPaths("selected."+e);else this.unlinkPaths("selected"),this.unlinkPaths("selectedItem");this.multi?this.selected&&!this.selected.length||(this.selected=[],this._selectedColl=Polymer.Collection.get(this.selected)):(this.selected=null,this._selectedColl=null),this.selectedItem=null},isSelected:function(e){return this.multi?void 0!==this._selectedColl.getKey(e):this.selected==e},deselect:function(e){if(this.multi){if(this.isSelected(e)){var t=this._selectedColl.getKey(e);this.arrayDelete("selected",e),this.unlinkPaths("selected."+t)}}else this.selected=null,this.selectedItem=null,this.unlinkPaths("selected"),this.unlinkPaths("selectedItem")},select:function(e){var t=Polymer.Collection.get(this.items).getKey(e);if(this.multi)if(this.isSelected(e))this.toggle&&this.deselect(e);else{this.push("selected",e);var n=this._selectedColl.getKey(e);this.linkPaths("selected."+n,"items."+t)}else this.toggle&&e==this.selected?this.deselect():(this.selected=e,this.selectedItem=e,this.linkPaths("selected","items."+t),this.linkPaths("selectedItem","items."+t))}}),Polymer({is:"dom-if",extends:"template",_template:null,properties:{if:{type:Boolean,value:!1,observer:"_queueRender"},restamp:{type:Boolean,value:!1,observer:"_queueRender"}},behaviors:[Polymer.Templatizer],_queueRender:function(){this._debounceTemplate(this._render)},detached:function(){this.parentNode&&(this.parentNode.nodeType!=Node.DOCUMENT_FRAGMENT_NODE||Polymer.Settings.hasShadow&&this.parentNode instanceof ShadowRoot)||this._teardownInstance()},attached:function(){this.if&&this.ctor&&this.async(this._ensureInstance)},render:function(){this._flushTemplates()},_render:function(){this.if?(this.ctor||this.templatize(this),this._ensureInstance(),this._showHideChildren()):this.restamp&&this._teardownInstance(),!this.restamp&&this._instance&&this._showHideChildren(),this.if!=this._lastIf&&(this.fire("dom-change"),this._lastIf=this.if)},_ensureInstance:function(){var e=Polymer.dom(this).parentNode;if(e){var t=Polymer.dom(e);if(this._instance){var n=this._instance._children;if(n&&n.length)if(Polymer.dom(this).previousSibling!==n[n.length-1])for(var i,r=0;r<n.length&&(i=n[r]);r++)t.insertBefore(i,this)}else{this._instance=this.stamp();var o=this._instance.root;t.insertBefore(o,this)}}},_teardownInstance:function(){if(this._instance){var e=this._instance._children;if(e&&e.length)for(var t,n=Polymer.dom(Polymer.dom(e[0]).parentNode),i=0;i<e.length&&(t=e[i]);i++)n.removeChild(t);this._instance=null}},_showHideChildren:function(){var e=this.__hideTemplateChildren__||!this.if;this._instance&&this._instance._showHideChildren(e)},_forwardParentProp:function(e,t){this._instance&&this._instance.__setProperty(e,t,!0)},_forwardParentPath:function(e,t){this._instance&&this._instance._notifyPath(e,t,!0)}}),Polymer({is:"dom-bind",extends:"template",_template:null,created:function(){var e=this;Polymer.RenderStatus.whenReady(function(){"loading"==document.readyState?document.addEventListener("DOMContentLoaded",function(){e._markImportsReady()}):e._markImportsReady()})},_ensureReady:function(){this._readied||this._readySelf()},_markImportsReady:function(){this._importsReady=!0,this._ensureReady()},_registerFeatures:function(){this._prepConstructor()},_insertChildren:function(){Polymer.dom(Polymer.dom(this).parentNode).insertBefore(this.root,this)},_removeChildren:function(){if(this._children)for(var e=0;e<this._children.length;e++)this.root.appendChild(this._children[e])},_initFeatures:function(){},_scopeElementClass:function(e,t){return this.dataHost?this.dataHost._scopeElementClass(e,t):t},_configureInstanceProperties:function(){},_prepConfigure:function(){var e={};for(var t in this._propertyEffects)e[t]=this[t];var n=this._setupConfigure;this._setupConfigure=function(){n.call(this,e)}},attached:function(){this._importsReady&&this.render()},detached:function(){this._removeChildren()},render:function(){this._ensureReady(),this._children||((this._template=this)._prepAnnotations(),this._prepEffects(),this._prepBehaviors(),this._prepConfigure(),this._prepBindings(),this._prepPropertyInfo(),Polymer.Base._initFeatures.call(this),this._children=Polymer.TreeApi.arrayCopyChildNodes(this.root)),this._insertChildren(),this.fire("dom-change")}}))}();